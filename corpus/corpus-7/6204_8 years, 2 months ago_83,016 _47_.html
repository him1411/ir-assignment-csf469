I have read some posts about this topic and the answers are comet, reverse ajax, http streaming, server push, etc.How does incoming mail notification on Gmail works?How is GMail Chat able to make AJAX requests without client interaction?I would like to know if there are any code references that I can follow to write a very simple example. Many posts or websites just talk about the technology. It is hard to find a complete sample code. Also, it seems many methods can be used to implement the comet, e.g. Hidden IFrame, XMLHttpRequest. In my opinion, using XMLHttpRequest is a better choice. What do you think of the pros and cons of different methods? Which one does Gmail use?I know it needs to do it both in server side and client side.\nIs there any PHP and Javascript sample code?The way Facebook does this is pretty interesting. A common method of doing such notifications is to poll a script on the server (using AJAX) on a given interval (perhaps every few seconds), to check if something has happened. However, this can be pretty network intensive, and you often make pointless requests, because nothing has happened.The way Facebook does it is using the comet approach, rather than polling on an interval, as soon as one poll completes, it issues another one.  However, each request to the script on the server has an extremely long timeout, and the server only responds to the request once something has happened.  You can see this happening if you bring up Firebug\'s Console tab while on Facebook, with requests to a script possibly taking minutes.  It is quite ingenious really, since this method cuts down immediately on both the number of requests, and how often you have to send them. You effectively now have an event framework that allows the server to \'fire\' events.Behind this, in terms of the actual content returned from those polls, it\'s a JSON response, with what appears to be a list of events, and info about them. It\'s minified though, so is a bit hard to read.In terms of the actual technology, AJAX is the way to go here, because you can control request timeouts, and many other things.  I\'d recommend (Stack overflow cliche here) using jQuery to do the AJAX, it\'ll take a lot of the cross-compability problems away.  In terms of PHP, you could simply poll an event log database table in your PHP script, and only return to the client when something happens? There are, I expect, many ways of implementing this.Implementing:Server Side:There appear to be a few implementations of comet libraries in PHP, but to be honest, it really is very simple, something perhaps like the following pseudocode:The has_event_happened function would just check if anything had happened in an events table or something, and then the get_events function would return a list of the new rows in the table? Depends on the context of the problem really.Don\'t forget to change your PHP max execution time, otherwise it will timeout early!Client Side:Take a look at the jQuery plugin for doing Comet interaction:That said, the plugin seems to add a fair bit of complexity,  it really is very simple on the client, perhaps (with jQuery) something like:The whole thing depends a lot on how your existing architecture is put together.As I continue to recieve upvotes on this, I think it is reasonable to remember that this answer is 4 years old. Web has grown in a really fast pace, so please be mindful about this answer.I had the same issue recently and researched about the subject.The solution given is called long polling, and to correctly use it you must be sure that your AJAX request has a "large" timeout and to always make this request after the current ends (timeout, error or success).Here, to keep code short, I will use jQuery: It is important to remember that (from jQuery docs): In jQuery 1.4.x and below, the XMLHttpRequest object will be in an\n  invalid state if the request times out; accessing any object members\n  may throw an exception. In Firefox 3.0+ only, script and JSONP\n  requests cannot be cancelled by a timeout; the script will run even if\n  it arrives after the timeout period.It is not in any specific language, but it would be something like this:Here, hasTimedOut will make sure your code does not wait forever, and anythingHappened, will check if any event happend. The sleep is for releasing your thread to do other stuff while nothing happens. The events will return a dictionary of events (or any other data structure you may prefer) in JSON format (or any other you prefer).It surely solves the problem, but, if you are concerned about scalability and perfomance as I was when researching, you might consider another solution I found.Use sockets! On client side, to avoid any compatibility issues, use socket.io. It tries to use socket directly, and have fallbacks to other solutions when sockets are not available.On server side, create a server using NodeJS (example here). The client will subscribe to this channel (observer) created with the server. Whenever a notification has to be sent, it is published in this channel and the subscriptor (client) gets notified.If you don\'t like this solution, try APE (Ajax Push Engine).Hope I helped.According to a slideshow about Facebook\'s Messaging system, Facebook uses the comet technology to "push" message to web browsers. Facebook\'s comet server is built on the open sourced Erlang web server mochiweb. In the picture below, the phrase "channel clusters" means "comet servers".Many other big web sites build their own comet server, because there are differences between every company\'s need. But build your own comet server on a open source comet server is a good approach.You can try icomet, a C1000K C++ comet server built with libevent. icomet also provides a JavaScript library, it is easy to use as simple as:icomet supports a wide range of Browsers and OSes, including Safari(iOS, Mac), IEs(Windows), Firefox, Chrome, etc.Facebook uses MQTT instead of HTTP. Push is better than polling.\nThrough HTTP we need to poll the server continuously but via MQTT server pushes the message to clients. Comparision between MQTT and HTTP: http://www.youtube.com/watch?v=-KNPXPmx88ENote: my answers best fits for mobile devices.One important issue with long polling is error handling.\nThere are two types of errors:The request might timeout in which case the client should reestablish the connection immediately. This is a normal event in long polling when no messages have arrived. A network error or an execution error. This is an actual error which the client should gracefully accept and wait for the server to come back on-line. The main issue is that if your error handler reestablishes the connection immediately also for a type 2 error, the clients would DOS the server.Both answers with code sample miss this.