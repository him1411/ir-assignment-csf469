I often find myself writing R scripts that generate a lot of output. I find it cleaner to put this output into it\'s own directory(s). What I\'ve written below will check for the existence of a directory and move into it, or create the directory and then move into it. Is there a better way to approach this?Use showWarnings = FALSE:dir.create() does not crash if the directory already exists, it just prints out a warning. So if you can live with seeing warnings, there is no problem with just doing this:As of April 16, 2015, with the release of R 3.2.0 there\'s a new function called dir.exists(). To use this function and create the directory if it doesn\'t exist, you can use:This will return FALSE if the directory already exists or is uncreatable, and TRUE if it didn\'t exist but was succesfully created. Note that to simply check if the directory exists you can useIn terms of general architecture I would recommend the following structure with regard to directory creation. This will cover most potential issues and any other issues with directory creation will be detected by the dir.create call.Also be aware that if ~/foo doesn\'t exist then a call to dir.create(\'~/foo/bar\') will fail unless you specify recursive = TRUE.The use of file.exists() to test for the existence of the directory is a problem in the original post.  If subDir included the name of an existing file (rather than just a path), file.exists() would return TRUE, but the call to setwd() would fail because you can\'t set the working directory to point at a file.I would recommend the use of file_test(op="-d", subDir), which will return "TRUE" if subDir is an existing directory, but FALSE if subDir is an existing file or a non-existent file or directory.  Similarly, checking for a file can be accomplished with op="-f".Additionally, as described in another comment, the working directory is part of the R environment and should be controlled by the user, not a script.  Scripts should, ideally, not change the R environment.  To address this problem, I might use options() to store a globally available directory where I wanted all of my output.  So, consider the following solution, where someUniqueTag is just a programmer-defined prefix for the option name, which makes it unlikely that an option with the same name already exists.  (For instance, if you were developing a package called "filer", you might use filer.mainDir and filer.subDir).  The following code would be used to set options that are available for use later in other scripts (thus avoiding the use of setwd() in a script), and to create the folder if necessary:Then, in any subsequent script that needed to manipulate a file in subDir, you might use something like:This solution leaves the working directory under the control of the user.I had an issue with R 2.15.3 whereby while trying to create a tree structure recursively on a shared network drive I would get a permission error.To get around this oddity I manually create the structure;To find out if a path is a valid directory try:file.info does not care about a slash on the end.file.exists on Windows will fail for a directory if it ends in a slash, and succeeds without it. So this cannot be used to determine if a path is a directory. Here\'s the simple check, and creates the dir if doesn\'t exists: