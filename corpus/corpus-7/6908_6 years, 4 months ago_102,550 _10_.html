If there\'s some cross-platform C/C++ code that should be compiled on Mac OS X, iOS, Linux, Windows, how can I detect them reliably during preprocessor process?There are predefined macros that are used by most compilers, you can find the list [here]. GCC compiler predefined macros can be found [here].\nHere is an example for gcc:This defined macroses depends on compiler that you are going to use.The _WIN64 #ifdef can be nested into the _WIN32 #ifdef because _WIN32 is defined when targeting Windows, not only the x86 version. This prevents code duplication if some includes are common to both.As Jake points out, TARGET_IPHONE_SIMULATOR is a subset of TARGET_OS_IPHONE.Also, TARGET_OS_IPHONE is a subset of TARGET_OS_MAC.So a better approach might be:Kind of a corollary answer: the people on [this site] have taken the time to make tables of macros defined for every OS/compiler pair.For example, you can see that _WIN32 is NOT defined on Windows with Cygwin (POSIX), while it IS defined for compilation on Windows, Cygwin (non-POSIX), and MinGW with every available compiler (Clang, GNU, Intel, etc.).Anyway, I found the tables quite informative and thought I\'d share here.