How can I convert an array to a SimpleXML object in PHP?a short one:results inkeys and values are swapped - you could fix that with array_flip() before the array_walk. array_walk_recursive requires PHP 5. you could use array_walk instead, but you won\'t get \'stack\' => \'overflow\' in the xml then.Here is php 5.2 code which will convert array of any depth to xml document:generated XML would be as:\nPHP snippet\nDocumentation on SimpleXMLElement::asXML used in this snippetThe answers provided here only convert array to XML with nodes, you are not able to set attributes. I have written a php function that allows you to convert an array to php and also set attributes for particular nodes in the xml. The downside here is you have to construct an array in a particular way with few conventions (only if you want to use attributes)The following example will allow you to set attributes in XML too. Detailed example and usage can be found here:\nhttp://www.lalit.org/lab/convert-php-array-to-xml-with-attributes/I found all of the answers to use too much code. Here is an easy way to do it:Then it\'s a simple matter of sending the array into the function, which uses recursion, so it will handle a multi-dimensional array:Now $xml contains a beautiful XML object based on your array exactly how you wrote it.Another improvement:Usage:From PHP 5.4Here is my entry, simple and clean..So anyway... I took onokazu\'s code (thanks!) and added the ability to have repeated tags in XML, it also supports attributes, hope someone finds it useful!I use a couple of functions that I wrote a while back to generate the xml to pass back and forth from PHP and jQuery etc... \nNeither use any additional frameworks just purely generates a string that can then be used with SimpleXML (or other framework)...If it\'s useful to anyone, please use it :)Love to all :)I wanted a code that will take all the elements inside an array and treat them as attributes, and all arrays as sub elements. So for something like I would get something like thisTo achive this the code is below, but be very careful, it is recursive and may actually cause a stackoverflow :)You may want to add checks for length of the array so that some element get set inside the data part and not as an attribute.Here\'s a function that did the trick for me:Just call it with something like You could use the XMLParser that I have been working on.Would result in:I found this solution similar to the original problemMost of the above answers are correct. However, I came up with this answer which solves the array_walk_recursive compatibility issue and also the numerical keys problem. It also passed all the tests I made: I have also added a test class for this which you may find useful:other solution:IF the array is associative and keyed correctly, it would probably be easier to turn it into xml first. Something like:The other route would be to create your basic xml first, like and then for each part of your array, use something similar to my text creating loop and instead use the simplexml functions "addChild" for each node of the array.I\'ll try that out later and update this post with both versions.Just a edit on a function above, when a key is numeric, add a prefix "key_"Based on everything else here, handles numerical indices + attributes via prefixing with @, and could inject xml to existing nodes:I want same node name "Room", while converting php to xml.\nHere i found it.\nhttp://www.codeproject.com/Questions/553031/JSONplusTOplusXMLplusconvertionpluswithplusphpWith FluidXML you can generate, starting from a PHP Array, an XML for SimpleXML with... just two lines of code.An example array could behttps://github.com/servo-php/fluidxmlYou may use xmlrpc_encode to create a xml from array if a verbose xml is not a problem.\nwww.php.net/xmlrpc_encodebe careful the xml created differs in case you use associative and/or numeric keysExample of converting xml data into an array phpSee this link for more information.My answer, cobbling together others\' answers. This should correct for the failure to compensate for numeric keys:The array_to_xml() function presumes that the array is made up of numeric keys first. If your array had an initial element, you would drop the foreach() and $elem statements from the array_to_xml() function and just pass $xml instead.I would have commented the second most voted answer, because it doesn\'t preserve structure and generates bad xml if there is numerically indexed inner arrays. I developed my own version based on it, because I needed simple converter between json and xml regardless of the structure of data.  My version preserves numeric key information and structure of the original array. It creates elements for the numerically indexed values by wrapping values to value -named elements with key-attribute that contains numerical key.For examplearray(\'test\' => array(0 => \'some value\', 1 => \'other\')) converts to <test><value key="0">some value</value><value key="1">other</value></test>My version of array_to_xml -function (hope it helps somebody :)You can Use the following function in you code directly,Call the function with first argument as your array and the second argument must be 1, this will be increased for perfect indentation, and third must be true.for example, if the array variable to be converted is $array1 then,\ncalling would be, the calling function should be encapsulated with <pre> tag.  artoxml($array1,1,true);   Please see the page source after executing the file, because the < and > symbols won\'t be displayed in a html page.Whole XML structure is defined in $data Array:If you work in magento and you have this type of associative array then this is best to convert associative array to xml format.Use this code in controller file.I hope it helps to all.