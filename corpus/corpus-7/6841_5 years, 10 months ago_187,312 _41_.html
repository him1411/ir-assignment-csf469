My question is simple,How to set my buttons layout_gravity programmatically?I found this on internet, but it simply throws me a Nullpointer exception:Any solution?For gravity values and how to set gravity check GravityAnd basically, you should choose the LayoutParams depending on the parent. It can be RelativeLayout, LinearLayout etc...I\'d hate to be resurrecting old threads but this is a problem that is not answered correctly and moreover I\'ve ran into this problem myself.Here\'s the long bit, if you\'re only interested in the answer please scroll all the way down to the code:android:gravity and android:layout_gravity works differently. Here\'s an article I\'ve read that helped me.GIST of article: gravity affects view after height/width is assigned. So gravity centre will not affect a view that is done FILL_PARENT (think of it as auto margin). layout_gravity centre WILL affect view that is FILL_PARENT (think of it as auto pad).Basically, android:layout_gravity CANNOT be access programmatically, only android:gravity.\nIn the OP\'s case and my case, the accepted answer does not place the button vertically centre.To improve on Karthi\'s answer:Link to LinearLayout.LayoutParams.android:layout_gravity shows "No related methods" meaning cannot be access programatically.\nWhereas gravity is a field in the class.For layout_gravity use the answer stated by "karthi". This method sets gravity to place the children inside the view.I had a similar problem with programmatically setting layout_gravity on buttons in a GridLayout. The trick was to set gravity on the button layoutParams AFTER the button was added to a parent (GridLayout), otherwise the gravity would be ignored.This question is old but I just had the same problem and solved it like thisI use someting like that: (Xamarin and C# code)the SetGravity puts my textView in the center of the layout.\nSo SetGravity layout property refer to layout contentIf you want to change the layou_gravity of an existing view do this:\nRemember to use the right LayoutParams based on the Layout type your view is in. Ex:use this to add mor than one gravityIn case you need to set Gravity for a View use the following For setting layout_gravity for the Button\nuse gravity field for the layoutparams astry this \nhope this clears\nthanksThe rest of the answers are right, I want to add more explaination. The layout_gravity is about how to position the view in parent view.You must set gravity **after method parentView.addView() ** was called.  We can see the code: And the problem of null pointer is because it\'s not calling addView before getLayoutParams(). The annotation was already said "This method may return null if this View is not attached to a parent ViewGroup or {@link#setLayoutParams(android.view.ViewGroup.LayoutParams)} was not invoked successfully. When a View is attached to a parent ViewGroup, this method must not return null."If you want to put a view in the center of parent, you can do with following code..\nthese code section make LinearLayout put the first view elements in the center of parent.\nSo, we system don\'t consider the initial width and high to arrange view in the center .\nI do the code section well.to RelativeLayout, try this code , it works for me:\nyourLayoutParams.addRule(RelativeLayout.ALIGN_PARENT_RIGHT);Perfectly Working!!! None of the above answer works for me. In Xml file setting gravity and setting layout_gravity is different. Check out the below codeAlso check  This,where you can find clear explanation about gravity and layout_gravity . I switched from LinearLayout.LayoutParams to RelativeLayout.LayoutParams to finally get the result I was desiring on a custom circleview I created.But instead of gravity you use addRuleRelativeLayout.LayoutParams mCircleParams = new RelativeLayout.LayoutParams(circleheight,circleheight);Try this codeor