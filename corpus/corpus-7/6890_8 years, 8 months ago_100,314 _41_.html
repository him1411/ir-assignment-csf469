As the question states, I would mainly like to know whether or not my code is running in the simulator, but would also be interested in knowing the specific iphone version that is running or being simulated.EDIT: I added the word \'programmatically\' to the question name. The point of my question is to be able to dynamically include / exclude code depending on which version / simulator is running, so I\'d really be looking for something like a pre-processor directive that can provide me this info.Already asked, but with a very different title.What #defines are set up by Xcode when compiling for iPhoneI\'ll repeat my answer from there:It\'s in the SDK docs under "Compiling source code conditionally"The relevant definitions are TARGET_OS_EMBEDDED and TARGET_OS_SIMULATOR, which are defined in /usr/include/TargetConditionals.h within the iOS framework. On earlier versions of the toolchain, you had to write:but this is no longer necessary on the current (Xcode 6/iOS8) toolchain.So, for example, if you want to check that you are running on device, you should doordepending on which is appropriate for your use-case.This is purported to work officially.This code will tell you if you are running in a simulator.Not pre-processor directive, but this was what I was looking for when i came to this question;The best way to do this is:and notsince its always defined: 0 or 1In case of Swift we can implement followingWe can create struct which  allows you to create a structured dataThen  If we wanted to Detect if app is being built for device or simulator in Swift then .All those answer are good, but it somehow confuses newbie like me as it does not clarify compile check and runtime check. Preprocessor are before compile time, but we should make it clearerThis blog article shows How to detect the iPhone simulator? clearly RuntimeFirst of all, let\xe2\x80\x99s shortly discuss. UIDevice provides you already information about the devicewill return you \xe2\x80\x9ciPhone Simulator\xe2\x80\x9d or \xe2\x80\x9ciPhone\xe2\x80\x9d according to where the app is running.Compile timeHowever what you want is to use compile time defines. Why? Because you compile your app strictly to be run either inside the Simulator or on the device. Apple makes a define called  TARGET_IPHONE_SIMULATOR. So let\xe2\x80\x99s look at the code :I had the same problem, both TARGET_IPHONE_SIMULATOR and TARGET_OS_IPHONE are always defined, and are set to 1. Pete\'s solution works, of course, but if you ever happen to build on something other than intel (unlikely, but who knows), here\'s something that\'s safe as long as the iphone hardware doesn\'t change (so your code will always work for the iphones currently out there):Put that somewhere convenient, and then pretend that the TARGET_* constants were defined correctly.The previous answers are a little dated. I found that all you need to do is query the TARGET_IPHONE_SIMULATOR macro (no need to include any other header files [assuming you are coding for iOS]).I attempted TARGET_OS_IPHONE but it returned the same value (1) when running on an actual device and simulator, that\'s why I recommend using TARGET_IPHONE_SIMULATOR instead.In swift :         From Detect if app is being built for device or simulator in SwiftTo include all types of "simulators"My answer is based on @Daniel Magnusson answer and comments of @Nuthatch and @n.Drake. and I write it to save some time for swift users working on iOS9 and onwards.This is what worked for me:Has anyone considered the answer provided here?I suppose the objective-c equivalent would be In my opinion, the answer (presented above and repeated below):is the best answer because it is obviously executed at RUNTIME versus being a COMPILE DIRECTIVE. This worked for me best