I want to create a directory if it does not exist. Is just using the is_dir function ok for that purpose? For example:Or should I also use file_exists? For example:Both would return true on Unix systems - in Unix everything is a file, including directories. But to test if that name is taken, you should check both. There might be a regular file named \'foo\', which would prevent you from creating a directory name \'foo\'.I think realpath() may be the best way to validate if a path exist\nhttp://www.php.net/realpathHere is an example function:Short version of the same functionOutput examplesUsageSecond variant in question post is not ok, because, if you already have file with the same name, but it is not a directory, !file_exists($dir) will return false, folder will not be created, so error "failed to open stream: No such file or directory" will be occured. In Windows there is a difference between \'file\' and \'folder\' types, so need to use file_exists() and is_dir() at the same time, for ex.:Well instead of checking both, you could do if(stream_resolve_include_path($folder)!==false). It is slower but kills two birds in one shot.Another option is to simply ignore the E_WARNING, not by using @mkdir(...); (because that would simply waive all possible warnings, not just the directory already exists one), but by registering a specific error handler before doing it: