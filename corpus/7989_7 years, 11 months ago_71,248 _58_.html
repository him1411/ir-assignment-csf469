In a Unix or GNU scripting environment (e.g. a Linux distro, Cygwin, OSX), what is the best way to determine which Git branch is currently checked out in a working directory?One use of this technique would be automatically labeling a release (like svnversion would do with Subversion).Please also see my related question: How to programmatically determine whether a Git checkout is a tag, and if so what is the tag name?The correct solution is to take a peek at contrib/completions/git-completion.bash does that for bash prompt in __git_ps1.  Removing all extras like selecting how to describe detached HEAD situation, i.e. when we are on unnamed branch, it is:git symbolic-ref is used to extract fully qualified branch name from symbolic reference; we use it for HEAD, which is currently checked out branch.Alternate solution could be:where in last line we deal with the detached HEAD situation, using simply "HEAD" to denote such situation.Added 11-06-2013Junio C. Hamano (git maintainer) blog post, Checking the current branch programatically, from June 10, 2013 explains whys (and hows) in more detail.Does anyone see anything wrong with just asking Git to describe the branch you are on?That can be used within $() and passed easily in Bash, Powershell, Perl, etc.  It isn\'t fooled if you have several branches on the commit you are on, and if you currently aren\'t on a branch, it simply replies with "HEAD".Alternatively, you can useWhich will give you the same output, but it won\'t return anything at all if you are detached.  This one is useful if you want an error when detached though, just remove the -q.you can use \ngit name-rev --name-only HEADFrom this answer: https://stackoverflow.com/a/1418022/605356 :Apparently works with Git 1.6.3 or newer.Try with:Or you try with git branch with --no-color force simple plain string the output:With grep in regex mode(-E) you can check if exists the character \'*\':The results its similar to:You can use the next options:for example:if exists a error you cant use an default value:All into in a bash function:adapting the accepted answer to windows powershell:This one worked for me in the bash file.This one works for me. The --no-color part is, or can be, important if you want a plain string back.Here is what I do:The output would look like this:I\'m trying for the simplest and most self-explanatory method here:I found two really simple ways to do that:andSomeone mentioned doing it in bash with less than three assignments... how about some messy control flow like this:If you\'re using the old NT command line, you can use the following:To use in a batch file, you\'ll have to double the %\'s:Here\'s my solution, suitable for use in a PS1, or for automatically labeling a release If you are checked out at a branch, you get the branch name.If you are in a just init\'d git project, you just get \'@\'If you are headless, you get a nice human name relative to some branch or tag, with an \'@\' preceding the name.If you are headless and not an ancestor of some branch or tag you just get the short SHA1.You can remove the if we_are_in_git_work_tree bit if you like; I just use it in another function in my PS1 which you can view in full here: PS1 line with git current branch and colorsUsing --porcelain gives a backwards-compatible output easy to parse:git status --branch --porcelain | grep \'##\' | cut -c 4-From the documentation:The porcelain format is similar to the short format, but is guaranteed not to change in a backwards-incompatible way between Git versions or based on user configuration. This makes it ideal for parsing by scripts. https://git-scm.com/docs/git-statusI found that calling git is rather slow (any of the subcommands), \nespecially for updating the prompt. Time varies between .1 and .2 seconds within the root dir of a repo, and over .2 seconds outside a repo, on a top notch machine (raid 1, 8 gb ram, 8 hardware threads). It does run Cygwin, though.Therefore I wrote this script for speed:May need some tweaking.That\'s one solution. If you add it to your .bashrc, it\'ll display the current branch in the console.However it\'s pretty limited. But there is a great project called git sh, which is doing exactly that (and much more).If you are using gradle,``````If you are on a detached head (i.e. you\'ve checked out a release) and have an output from git status such as And you want the release version, we use the following command...This returns 1.7.3.1, which we replace in our parameters.yml (Symfony) with Hope this helps :) Obviously if you have non-numerics in your branch name, you\'ll need to alter the arguments to the tr command.