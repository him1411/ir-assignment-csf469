Xcode 3.2 provides an awesome new feature under the Build menu, "Build and Archive" which generates an .ipa file suitable for Ad Hoc distribution.  You can also open the Organizer, go to "Archived Applications," and "Submit Application to iTunesConnect."Is there a way to use "Build and Archive" from the command line (as part of a build script)?  I\'d assume that xcodebuild would be involved somehow, but the man page doesn\'t seem to say anything about this.UPDATE Michael Grinich requested clarification; here\'s what exactly you can\'t do with command-line builds, features you can ONLY do with Xcode\'s Organizer after you "Build and Archive."I\'d love for someone to come along and prove me wrong: both of these features work great in the Xcode GUI and cannot be replicated from the command line.I found how to automate the build and archive process from the comand line, I just wrote a blog article explaining how you can achieve that.The command you have to use is xcrun:You will find all the details in the article. If you have any questions dont hesitate to ask.With Xcode 4.2 you can use the -scheme flag to do this:After this command the Archive will show up in the Xcode Organizer.Here is command line script for creating archive and IPA example.\nI have an iPhone xcode project , which is located in Desktop/MyiOSApp folder.Execute following commands one by one .This is tested with Xcode 5 and working fine for me.I\'ve been using my own build script to generate the ipa package for ad hoc distribution.The script also increment the version number. You can remove that part if it\'s not needed. Hope it helps.We developed an iPad app with XCode 4.2.1 and wanted to integrate the build into our continuous integration (Jenkins) for OTA distribution. Here\'s the solution I came up with:Then Jenkins uploads the ipa, plist and html files to our webserver.This is the plist template:To set this up, you have to import the distribution certificate and provisioning profile into the designated user\'s keychain.The xcodebuild tool can build and export archive products with the -exportArchive flag (as of Xcode 5). The export step was previously only possible via the Xcode Organizer UI.First archive your app:Given $ARCHIVE_PATH (the path to the .xcarchive file), export the app from the archive with one of the following:iOS .ipa file:Mac .app file:In both commands the -exportProvisioningProfile and -exportSigningIdentity arguments are optional. man xcodebuild for details on the semantics. In these examples, the provisioning profile for the iOS build specified an AdHoc distribution provisioning profile, and the signing identity for the Mac app specified a Developer ID for export as a 3rd party application (i.e. not distributed via the Mac App Store).I found some of the other answers here hard to get going. This article did if for me. Some paths may need to be absolute, as mentioned in the other answers.The Command:You CAN actually resign a build, just as XCode does, so that you can test and ship the same binary. For example in my script (similar to those above) I build my release version signed as an AdHoc build, then I archive that as an IPA for testing, then resign with my distribution cert and create a zip file, which is what I send to Apple. The relevant line is:For Xcode 7, you have a much simpler solution. The only extra work is that you have to create a configuration plist file for exporting archive.(Compared to Xcode 6, in the results of xcrun xcodebuild -help, -exportFormat and -exportProvisioningProfile options are not mentioned any more; the former is deleted, and the latter is superseded by -exportOptionsPlist.)Step 1, change directory to the folder including .xcodeproject or .xcworkspace file.Step 2, use Xcode or /usr/libexec/PlistBuddy exportOptions.plist to create export options plist file. By the way, xcrun xcodebuild -help will tell you what keys you have to insert to the plist file.Step 3, create .xcarchive file (folder, in fact) as follows(build/ directory will be automatically created by Xcode right now),Step 4, export as .ipa file like this, which differs from Xcode6Now, you get an ipa file in build/ directory. Just send it to apple App Store.By the way, the ipa file created by Xcode 7 is much larger than by Xcode 6.I have given a brief description of steps to follow, and parameters to pass while generating an ipa using terrminal below:Go to the folder which contains the MyApp.xcodeproject file in terminalBy using the command given below you will get all the Targets of the applicationAfter the above command is executed, you will get a list of targets of which you should select a specific target you need to generate .ipaThe above command builds the project and creates a .app file.The path to locate the .app file is ./build/Release-iphoneos/MyApp.appAfter Build gets succeeded then execute the following command to generate .ipa of the application using Developer Name and Provisioning Profile using the syntax below:Explanation of each Parameter in the above syntax:Go to the folder where\'s your project root and:IPA Format:Exports the archive MyMobileApp.xcarchive as an IPA file to the path MyMobileApp.ipa using the\n                  provisioning profile MyMobileApp Distribution Profile.APP Format:Exports the archive MyMacApp.xcarchive as a PKG file to the path MyMacApp.pkg using the appli-cation application\n              cation signing identity Developer ID Application: My Team.  The installer signing identity\n              Developer ID Installer: My Team is implicitly used to sign the exported package.Xcodebuild man pageGoing one step further, uploading to iTunesConnect via commandline with Xcode 7!\n(Assuming you are starting with an .ipa that has been signed with the correct release profile and signing identity.)Enter altool, the CLI interface for the Application Loader (docs, page 38).\nHidden deep within Xcode.app\'s structure, is a handy function to let us upload directly to ItunesConnect.Simply run $ altool --upload-app -f file -u username [-p password] to upload your newly minted .ipa straight to Apple.\nThe password is optional, and will prompt you for it if you leave it off the command. If there are any issues with the app during the verification step, the console will print them out.You will likely have to export the path to altool if you don\'t want to save its location.Thats it! Simply login to iTunesConnect.com and select your new build for testing with testflight.Final Note: If you get an error saying Exception while launching iTunesTransporter: Transporter not found at path: /usr/local/itms/bin/iTMSTransporter.  You should reinstall the application, you can follow the suggestion on this SO answer, to run a symlink to the correct location:Improving on Vincent\'s answer, I wrote a script to do that: xcodearchive\nIt allows you to archive (generate an ipa) your project via the command line.\nThink of it like the sister of the xcodebuild command, but for archiving.Code is available on github: http://github.com/gcerquant/xcodearchive\nOne option of the script is to enable the archiving of the dSYM symbols in a timestamped archive. No excuse to not keep the symbols anymore, and not be able to symbolicate the crash log you might later receive.try xctool, it is a replacement for Apple\'s xcodebuild that makes it easier to build and test iOS and Mac products. It\'s especially helpful for continuous integration. It has a few extra features:No.3 is extremely useful. I don\'t if anyone can read the console output of xcodebuild, I can\'t, usually it gave me one line with 5000+ characters. Even harder to read than a thesis paper.xctool:\nhttps://github.com/facebook/xctoolif you use next tool: https://github.com/nomad/shenzhenthen this task is very easy:sourceAfter updating to Xcode 8, I found that enterprise ipa generate by Command cannot be launched because of some signature issue. The log\n  indicates that "warning: PackageApplication is deprecated, use\n  xcodebuild -exportArchive instead.So I switch to xcodebuild -exportArchive and everything went back normal.You mean the validate/share/submit options? I think those are specific to Xcode, and not suited for a command-line build tool. With some cleverness, I bet you could make a script to do it for you. It looks like they\'re just stored in ~/Library/MobileDevice/Archived Applications/ with a UUDI and a plist. I can\'t imagine it would be that hard to reverse engineer the validator either.The process I\'m interested automating is sending builds to beta testers. (Since App Store submission happens infrequently, I don\'t mind doing it manually, especially since I often need to add new description text.) By doing a pseudo Build+Archive using Xcode\'s CLI, I can trigger automatic builds from every code commit, create IPA files with embedded provisioning profiles, and email it to testers.