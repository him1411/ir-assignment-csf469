I am trying to convert an IntelliJ project to the Gradle system of Android Studio but I am running into errors with Apache HttpClient? Am I missing something, the errors I am getting are as follows:My build.gradle file has the following dependencies:It seems a lot of people are getting a similar problem but neither SO or Google have a solution so I am hoping this question will help future searchers.I suggest you replace the deprecated apache HttpClient with the new HttpURLConnection.That\'s a cleaner solution, it\'s quite easy to migrate, and generally it\'s better to stick to the latest SDK changes than trying to hack/patch/workaround: you usually regret it later :)Step 1becomes:Step 2becomes:Step 2 bisbecomes:if you are using target sdk as 23 add below code in your build.gradleand change your buildscript to for more info follow this linkI had this problem and then found these pages: \nHere you can see that apache library is deprecated, but it\'s not removed, so it should work. It doesn\'t. See. And here you can see how to include apache library to your project See.I resolved problem by adding following to my build.gradle file as recommended in second link.However this only works if you are using gradle 1.3.0-beta2 or greater, so you will have to add this to buildscript dependencies if you are on a lower version:Hope this helps.copy org.apache.http.legacy.jar which is in Android/Sdk/platforms/android-23/optional folder to to app/libsand also added this line to app.gradle fileBut if you\'re using more jar libraries, you can use this wayAdd this library into Build.GradleI hope its works.I ran into the same issue. Daniel Nugent\'s answer helped a bit (after following his advice HttpResponse was found - but the HttpClient was still missing). So here is what fixed it for me:Hope it helps.I ran into similar problems, you might be able to get it to work using a similar method.First, try this with your current configuration, exclude httpclient from httpmime:In my case, I fixed it by using the following jars :Then, in the build.gradle, excluding httpclient from httpmime:Basically all you need to do is add:To your build.gradle file.Perfect Answer by Jinu  and DanielAdding to this \nI solved the Issue by Using This, if your compileSdkVersion is 19(IN MY CASE)else if your compileSdkVersion is 23\nthen useThis is what I did, and it works for me.step 1: add this in the build.grade(module: app)step 2: sync the project and done. The version of the Apache HTTP client provided on stock Android was very very old.Google Android 1.0 was released with a pre-BETA snapshot of Apache HttpClient. To coincide with the first Android release Apache HttpClient 4.0 APIs had to be frozen prematurely, while many of interfaces and internal structures were still not fully worked out. As Apache HttpClient 4.0 was maturing the project was expecting Google to incorporate the latest code improvements into their code tree. Unfortunately it did not happen.While you could keep using the old deprecated library via the useLibrary \'org.apache.http.legacy\' workaround (suggested by @Jinu and others), you really need to bite the bullet and update to something else, for example the native Android HttpUrlConnection, or if that doesn\'t meet your needs, you can use the OkHttp library, which is what HttpUrlConnection is internally based upon anyway. OkHttp actually has a compatibility layer that uses the same API as the Apache client, though they don\'t implement all of the same features, so your mileage may vary.While it is possible to import a newer version of the Apache client (as suggested by @MartinPfeffer), it\'s likely that most of the classes and methods you were using before have been deprecated, and there is a pretty big risk that updating will introduce bugs in your code (for example I found some connections that previously worked from behind a proxy no longer worked), so this isn\'t a great solution.After spending days on the subject, I managed to solve it finally. Unfortunately we need it if we want to use expansion files. The solution has been provided by a few people here, but for me the answers were missing a few minor detail that could have saved a lot of time for me. Here is the sequence of events for novices like me to save your precious time.First I imported the "library" folder from D:\\Users\\Imre\\AppData\\Local\\Android\\sdk1\\extras\\google\\play_licensing to the project by going into File, New, Import Module and navigating to the "library" folder. If you open the SDK Manager and click on "Launch Standalone SDK Manager" in the bottom of the popup screen, you can hover your pointer over the "Extras" folder down in the bottom and the small yellow info will tell you where you will find the package that you need to import.Once that is done, go down to the "library" section in the left pane with "Project" and within it the "Android" tab open. Open the java section of the library and open the APKExpansionPolicy class.\nIf you have errors and the import org.apache.http.NameValuePair and the import org.apache.http.client.utils.URLEncodedUtils are pale grey, open the build.gradle(Project:whatever) and make sure that in "buildscript" under "dependancies" you have the "classpath \'com.android.tools.build:gradle:1.5.0" included. The 1.5.0 might be different in your case. I guess it depends on your Studio version. Mine is 1.5.1. If yours is newer, you will be reminded to update the numbers.After that, go to "build.gradle(Module:library) and include the "useLibrary \'org.apache.http.legacy\' into the "android"section. Sync Now (R/H top corner) should be offered. Do it.If you get further error messages (I wouldn\'t know it because I did it the other way round), the Apache files might be missing from your project, as apache is not supported anymore. Find them in C/D:Users/Yourname/AppData/Local/Android/Sdk/platforms/android-23/optional and copy/paste them into yourproject/app/libs folder. You should have an optional.json and an org.apache.http.legacy.jar file in there. You might be better off going to apache\'s website and dowloading the newest version: http://hc.apache.org/downloads.cgi Unzip it anywhere you want, open it, go to "lib", copy the httpclient-4.5.1.jar file and replace the org.apache.http.legacy.jar file with it. Sync and rebuild/clean your project and it should be good to go.Just in case, open your terminal (L/H bottom of Android Studio) and type in "gradlew clean". It will install a few things. Once it is done, type in "gradlew assemble". It will take a few minutes to finish, but it will give you the errors if you have any of course.\nIf you cannot type in anything in the Terminal, launch command prompt (Windows button+R), type in cmd, hit OK, right click on the title of the small black popup screen (C:\\WINDOWS\\system32\\cmd.exe), Properties, Options, in the bottom of the window check that "Use legacy console" is thicked. Restart A.Studio.Good luck!I had to post as none of the above answers worked completely for me.I am using Android StudioStep 1: Download lastest jar file (http://www-eu.apache.org/dist//httpcomponents/httpclient/binary/httpcomponents-client-4.5.2-bin.zip)Step 2: Copy paste the .jar file to the libs folder (create if does not exist already) in your module (can be app or library)Step 3: Right click on the jar and "Add as Library". It will automatically add the jar file as a dependency in your module\'s gradle fileStep 4: Now automatically your problem will get resolved but in case you are using proguard in your app, it will give you warning about duplicate class files and won\'t let you build. It is a known bug and you need to add following to your proguard-rulesGood Luck!In my case, I updated one of my libraries in my android project.I\'m using Reservoir as my cache storage solution: https://github.com/anupcowkur/ReservoirI went from:To:The library author must have removed the commons-io library from the repo so my app no longer worked.I had to manually include the commons-io by adding this onto gradle:https://mvnrepository.com/artifact/commons-io/commons-io/2.5