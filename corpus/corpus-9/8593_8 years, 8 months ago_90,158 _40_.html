How can I reference the script element that loaded the javascript that is currently running?Here\'s the situation. I have a "master" script being loaded high in the page, first thing under the HEAD tag.There is a script in "scripts.js" which needs to be able to do on-demand loading of other scripts. The normal method doesn\'t quite work for me because I need to add new scripts without referencing the HEAD tag, because the HEAD element hasn\'t finished rendering:What I want to do is reference the script element that loaded the current script so that I can then append my new dynamically loaded script tags into the DOM after it.document.currentScript will return the <script> element whose script is currently being processed. Giving the script an id attribute will let you easily select it by id from within using document.getElementById(). Giving the script a data-* attribute will let you easily select it from within. This has few benefits over the previous option. Instead of using the data attributes, you can use the selector to choose the script by source:In embed.js:We can also loop over every script element and check each individually to select the one we want:This lets us use both previous techniques in older browsers that don\'t support querySelector() well with attributes. For example:This inherits the benefits and problems of whatever approach is taken, but does not rely on querySelector() so will work in older browsers.Since the scripts are executed sequentially, the last script element will very often be the currently running script: Since scripts are executed sequentially, the currently executed script tag is always the last script tag on the page until then. So, to get the script tag, you can do:Probably the easiest thing to do would be to give your scrip tag an id attribute.Here\'s a bit of a polyfill that leverages document.CurrentScript if it exists and falls back to finding the script by ID.If you include this at the top of every script tag I believe you\'ll be able to consistently know which script tag is being fired, and you\'ll also be able to reference the script tag in the context of an asynchronous callback.Untested, so leave feedback for others if you try it.Script are executed sequentially only if they do not have either a "defer" or an "async" attribute. Knowing one of the possible ID/SRC/TITLE attributes of the script tag could work also in those cases. So both Greg and Justin suggestions are correct.There is already a proposal for a document.currentScript on the WHATWG lists.EDIT: Firefox > 4 already implement this very useful property but it is not available in IE11 last I checked and only available in Chrome 29 and Safari 8.EDIT: Nobody mentioned the "document.scripts" collection but I believe that the following may be a good cross browser alternative to get the currently running script:A word of warning: modifying the DOM while it is still loading will cause you a world of hurt in IE6 & IE7.You\'re gonna be better off running that code after page load.It must works at page load and when an script tag is added with javascript (ex. with ajax)An approach for dealing with async & deferred scripts is to leverage the onload handler- set an onload handler for all script tags and the first one which executes should be yours.If you can assume the file name of the script, you can find it.  I\'ve only really tested the following function in Firefox so far. Follow these simple steps to obtain reference to current executing script block:Example (ABCDE345678 is the unique ID):btw, for your case, you can simply use old fashioned document.write() method to include another script.\nAs you mentioned that DOM is not rendered yet, you can take advantage from the fact that browser always execute script in linear sequence (except for deferred one that will be rendered later), so the rest of your document is still "not exists".\nAnything you write through document.write() will be placed right after the caller script.Example of original HTML page:Content of script.js:After rendered, the DOM structure will become:Consider this algorithm. When your script loads (if there are multiple identical scripts), look through document.scripts, find the first script with the correct "src" attribute, and save it and mark it as \'visited\' with a data-attribute or unique className.When the next script loads, scan through document.scripts again, passing over any script already marked as visited. Take the first unvisited instance of that script.This assumes that identical scripts will likely execute in the order in which they are loaded, from head to body, from top to bottom, from synchronous to asynchronous.This will scan through all the script for the first matching script that isn\'t marked with the special attribute.Then mark that node, if found, with a data-attribute so subsequent scans won\'t choose it. This is similar to graph traversal BFS and DFS algorithms where nodes may be marked as \'visited\' to prevent revisitng.I\'ve got this, which is working in FF3, IE6 & 7. The methods in the on-demand loaded scripts aren\'t available until page load is complete, but this is still very useful.