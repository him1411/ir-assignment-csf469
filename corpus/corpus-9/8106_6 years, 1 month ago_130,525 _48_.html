I am sending data from view to controller with AJAXand I got this error:WARNING: Can\'t verify CSRF token authenticityI think I have to send this token with data.Does anyone know how can I do this ?Edit: My solutionI did this by putting the following code inside the AJAX post:You should do this:Make sure that you have <%= csrf_meta_tag %> in your layoutAdd beforeSend to all the ajax request to set the header like below:To send token in all requests you can use:The best way to do this is actually just use <%= form_authenticity_token.to_s %> to print out the token directly in your rails code. You dont need to use javascript to search the dom for the csrf token as other posts mention. just add the headers option as below;If I remember correctly, you have to add the following code to your form, to get rid of this problem:Don\'t forget the parameter.Ugrading from an older app to rails 3.1, including the csrf meta tag is still not solving it.  On the rubyonrails.org blog, they give some upgrade tips, and specifically this line of jquery which should go in the head section of your layout:taken from this blog post: http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails.In my case, the session was being reset upon each ajax request.  Adding the above code solved that issue.Indeed simplest way. Don\'t bother with changing the headers.Make sure you have:Just do a hidden input field like so:Or if you want a jQuery ajax post: The code to read the csrf-token is available in the rails/jquery-ujs, so imho it is easiest to just use that, as follows: I just thought I\'d link this here as the article has most of the answer you\'re looking for and it\'s also very interestinghttp://www.kalzumeus.com/2011/11/17/i-saw-an-extremely-subtle-bug-today-and-i-just-have-to-tell-someone/The top voted answers here are correct but will not work if you are performing cross-domain requests because the session will not be available unless you explicitly tell jQuery to pass the session cookie. Here\'s how to do that:You can write it globally like below.Normal JS:Coffee Script:If you\'re using javascript with jQuery to generate the token in your form, this works:Obviously, you need to have the <%= csrf_meta_tag %> in your Ruby layout.Use jquery.csrf (https://github.com/swordray/jquery.csrf).Rails 5.1 or laterRails 5.0 or beforeSource codeFor those of you that do need a non jQuery answer you can simple add the following:A very simple example can be sen here:If you are not using jQuery and using something like fetch API for requests you can use the following to get the csrf-token:document.querySelector(\'meta[name="csrf-token"]\').getAttribute(\'content\')if someone needs help related with Uploadify and Rails 3.2 (like me when I googled this post), this sample app may be helpful: \nhttps://github.com/n0ne/Uploadify-Carrierwave-Rails-3.2.3/blob/master/app/views/pictures/index.html.erbalso check the controller solution in this appnop I missed the following line in my application.jsI replaced it and its working.. I\'m using Rails 4.2.4 and couldn\'t work out why I was getting:I have in the layout:In the controller:Invoking tcpdump -A -s 999 -i lo port 3000 was showing the header being set ( despite not needing to set the headers with ajaxSetup - it was done already):In the end it was failing because I had cookies switched off.  CSRF doesn\'t work without cookies being enabled, so this is another possible cause if you\'re seeing this error.