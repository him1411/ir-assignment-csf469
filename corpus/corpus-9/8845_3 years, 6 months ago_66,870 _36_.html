I\'ve been trying to run an npm install on my package.json file, but I\'m having a lot of trouble.  It keeps saying "Error:  Attempt to unlock XXX, which hasn\'t been locked" on all my dependences.  Here\'s one of them:If I try to run it as sudo, it seems to get further and start installing some packages, but some new errors popup instead:I recently updated my node and npm installations.  So maybe that has something to do with it.  Also, most of my development has been at the office and today I\'m working over VPN, so maybe that has something to do with it too.Any ideas?As per photusenigma at: https://github.com/npm/npm/issues/4815Run these commands in a terminal window (note - DON\'T replace the $USER part...thats a linux command to get your user!):...and...if you\'re on a mac (like I am), and still see errors after running these commands, then run this last one and you should be good. (Recommend you try testing before you do this one. I don\'t like changing the permissions on the ENTIRE /usr/local directory unless it really seems necessary!)I worked with a co-worker this afternoon and figured out what the problem was.  My ".npm" folder in my home directory was owned by the root user instead of myself.  I\'m not sure what happened to cause that.  Maybe I installed node or npm as the root admin at one point.  In any case I just ran sudo chown -R [username] .npm and I was finally able to run npm install commands from my projects again!In my case the issue was invoking npm with a user that does not have a HOME directory, so for example the following command would fail:The solution is to provide a HOME directory, where someUser has write access:Had the same issue and fixed it by changing the persmissions as per the accepted answer:However, the second command should be avoided as it downgrades the permissions of a system resource (sudo chown -R $USER /usr/local/lib/node_modules). Not a good idea. For the record: "usr" in /usr/local stands for Unix System Resources.None of this worked for me.  I had to run literally as root by doing the following:Then the package installed on Linux Ubuntu 14.04.The following command should fix permission issues:You can read about another officially recommended solutions here: https://docs.npmjs.com/getting-started/fixing-npm-permissionsMy solution: in my case was :But I was getting the same problem, finally after it worked !I had the same problem and tried to fix the permission/ownership of npm related files and directories for hours but had no luck with that.Suddenly I found that I had ~/.npmrc file with cache entry pointing to a non-existing directory. Removed that cache property to use the default cache location and now it\'s solved.DisclaimerI am a Windows user. However, my team and I have come across a number of issues regarding npm installaion errors. Problems The following is a list of lessons learned and a possible radical solution that has always rescued us:Enable npm logs to gain further insight into possible problems with:npm install --loglevel verboseRadicalInstall rimraf globallyRun rimraf on node_modules:Then try running:Warning!Or lack there of. Be extremely careful about what follows the command rimraf. There are no warnings, no prompts, there is nothing. It simply erases the directory from the phase of the earth clean, as if it was never there. Try it at your own risk.