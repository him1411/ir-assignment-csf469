I upgraded from Java 1.6 to Java 1.7 today.\nSince then an error occur when I try to establish a connection to my webserver over SSL:Here is the code:Its only a test project thats why I allow and use untrusted certificates with the code:I sucessfully tried to connect to https://google.com.\nwhere is my fault?Thanks.Java 7 introduced SNI support which is enabled by default. I have found out that certain misconfigured servers send an "Unrecognized Name" warning in the SSL handshake which is ignored by most clients... except for Java. As @Bob Kerns mentioned, the Oracle engineers refuse to "fix" this bug/feature.As workaround, they suggest to set the jsse.enableSNIExtension property. To allow your programs to work without re-compiling, run your app as:The property can also be set in the Java code, but it must be set before any SSL actions. Once the SSL library has loaded, you can change the property, but it won\'t have any effect on the SNI status. To disable SNI on runtime (with the aforementioned limitations), use:The disadvantage of setting this flag is that SNI is disabled everywhere in the application. In order to make use of SNI and still support misconfigured servers:For the Webscarab SSL proxy, this commit implements the fall-back setup.I had what I believe the same issue is.\nI found that I needed to adjust the Apache configuration to include a ServerName or ServerAlias for the host.This code failed:And this code worked:Wireshark revealed that during the TSL/SSL Hello the warning\nAlert (Level: Warning, Description: Unrecognized Name), Server Hello\nWas being sent from the server to the client.\nIt was only a warning, however, Java 7.1 then responded immediately back with a "Fatal, Description: Unexpected Message", which I assume means the Java SSL libraries don\'t like to see the warning of unrecognized name.From the Wiki on Transport Layer Security (TLS):112 Unrecognized name   warning TLS only; client\'s Server Name Indicator specified a hostname not supported by the serverThis led me to look at my Apache config files and I found that if I added a ServerName or ServerAlias for the name sent from the client/java side, it worked correctly without any errors.You can disable sending SNI records with the System property jsse.enableSNIExtension=false. If you can change the code it helps to use SSLCocketFactory#createSocket() (with no host parameter or with a connected socket). In this case it will not send a server_name indication.Instead of relying on the default virtual host mechanism in apache, you can define one last catchall virtualhost that uses an arbitrary ServerName and a wildcard ServerAlias, e.g.In that way you can use SNI and apache will not send back the SSL warning. Of course, this only works if you can describe all of your domains easily using a wildcard syntax.We also ran into this error on a new Apache server build.The fix in our case was to define a ServerAlias in the httpd.conf that corresponded to the host name that Java was trying to connect to.  Our ServerName was set to the internal host name. Our SSL cert was using the external host name, but that was not sufficient to avoid the warning.To help debug, you can use this ssl command:openssl s_client -servername <hostname> -connect <hostname>:443 -stateIf there is a problem with that hostname, then it will print this message near the top of the output:SSL3 alert read: warning:unrecognized nameI should also note that we did not get that error when using that command to connect to the internal host name, even though it did not match the SSL cert. It should be useful. To retry on a SNI error in Apache HttpClient 4.4 - the easiest way we came up with (see HTTPCLIENT-1522):andandUse:You cannot supply system properties to the jarsigner.exe tool, unfortunately.I have submitted defect 7177232, referencing @eckes\' defect 7127374 and explaining why it was closed in error.My defect is specifically about the impact on the jarsigner tool, but perhaps it will lead them to reopening the other defect and addressing the issue properly.UPDATE: Actually, it turns out that you CAN supply system properties to the Jarsigner tool, it\'s just not in the help message. Use jarsigner -J-Djsse.enableSNIExtension=falseRan into this issue with spring boot and jvm 1.7 and 1.8. On AWS, we did not have the option to change the ServerName and ServerAlias to match (they are different) so we did the following:In build.gradle we added the following:That allowed us to bypass the issue with the "Unrecognized Name".I hit the same problem and it turned out that reverse dns was not setup correct, it pointed to wrong hostname for the IP. After I correct reverse dns and restart httpd, the warning is gone.\n(if I don\'t correct reverse dns, adding ServerName did the trick for me as well)I have also come across this issue whilst upgrading from Java 1.6_29 to 1.7.Alarmingly, my customer has discovered a setting in the Java control panel which resolves this.In the Advanced Tab you can check \'Use SSL 2.0 compatible ClientHello format\'.This seems to resolve the issue.We are using Java applets in an Internet Explorer browser.Hope this helps.I had the same problem with an Ubuntu Linux server running subversion when accessed via Eclipse.It has shown that the problem had to do with a warning when Apache (re)started:This has been due to a new entry in ports.conf, where another NameVirtualHost directive was entered alongside the directive in sites-enabled/000-default.After removing the directive in ports.conf, the problem had vanished (after restarting Apache, naturally)Just to add a solution here. This might help for LAMP usersThe above mentioned line in the virtual host configuration was the culprit.Virtual Host Configuration when errorWorking ConfigurationMy VirtualHost\'s ServerName was commented out by default. It worked after uncommenting.There is an easier way where you can just use your own HostnameVerifier to implicitly trust certain connections. The issue comes with Java 1.7 where SNI extensions have been added and your error is due to a server misconfiguration.You can either use "-Djsse.enableSNIExtension=false" to disable SNI across the whole JVM or read my blog where I explain how to implement a custom verifier on top of a URL connection.