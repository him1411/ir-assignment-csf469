How do I get the last id inserted into a table?  In MS SQL there is SCOPE_IDENTITY().Please, do not advise use something like this:( tl;dr : goto option 3: INSERT with RETURNING )Recall that in postgresql there is no "id" concept for tables, just sequences (which are typically but not necessarily used as default values for surrogate primary keys, with the SERIAL pseudo-type). If you are interested in getting the id of a newly inserted row, there are several ways:Option 1: CURRVAL(<sequence name>);.  For example:The name of the sequence must be known, it\'s really arbitrary; in this example we assume that the table persons has an id column created with the SERIAL pseudo-type. To avoid relying on this and to feel more clean, you can use instead pg_get_serial_sequence:Caveat: currval() only works after an INSERT (which has executed nextval() ), in the same session.Option 2: LASTVAL();This is similar to the previous, only that you don\'t need to specify the sequence name: it looks for the most recent modified sequence (always inside your session, same caveat as above).Both CURRVAL and LASTVAL are totally concurrent safe. The behaviour of sequence in PG is designed so that different session will not interfere, so there is no risk of race conditions (if another session inserts another row between my INSERT and my SELECT, I still get my correct value).However they do have a subtle potential problem. If the database has some TRIGGER (or RULE) that, on insertion into persons table, makes some extra insertions in other tables... then LASTVAL will probably give us the wrong value. The problem can even happen with CURRVAL, if the extra insertions are done intto the same persons table (this is much less usual, but the risk still exists).Option 3:  INSERT with RETURNING This is the most clean, efficient and safe way to get the id. It doesn\'t have any of the risks of the previous. Drawbacks? Almost none: you might need to modify the way you call your INSERT statement (in the worst case, perhaps your API or DB layer does not expect an INSERT to return a value); it\'s not standard SQL (who cares); it\'s available since Postgresql 8.2 (Dec 2006...)Conclusion: If you can, go for option 3. Elsewhere, prefer 1.Note: all these methods are useless if you intend to get the last globally inserted id (not necessarily in your session). For this, you must resort to select max(id) from table (of course, this will not read uncommitted inserts from other transactions).See the RETURNING clause of the INSERT statement. Basically, the INSERT doubles as a query and gives you back the value that was inserted. you can use RETURNING clause in INSERT statement,just like the followingSee the below exampleThen for getting last inserted id  use this for table "user"   seq column name "id"You need to supply the table name and column name of course.This will be for the current session / connection\nhttp://www.postgresql.org/docs/8.3/static/functions-sequence.htmlLeonbloy\'s answer is quite complete. I would only add the special case in which one needs to get the last inserted value from within a PL/pgSQL function where OPTION 3 doesn\'t fit exactly.For example, if we have the following tables:If we need to insert a client record we must refer to a person record. But let\'s say we want to devise a PL/pgSQL function that inserts a new record into client but also takes care of inserting the new person record. For that, we must use a slight variation of leonbloy\'s OPTION 3:Note that there are two INTO clauses. Therefore, the PL/pgSQL function would be defined like:Now we can insert the new data using: or And we get the newly created id.For the ones who need to get the all data record, you can addto the end of your query to get the all object including the id.Try this:If this return 1 (or whatever is the start_value for your sequence), then reset the sequence back to the original value, passing the false flag:Otherwise, This will restore the sequence value to the original state and "setval" will return with the sequence value you are looking for.If you just need to retrieve the last inserted id without insert anything you can use the following exampleHope can help.