What are some hidden features of SQL Server?For example, undocumented system stored procedures, tricks to do things which are very useful but not documented enough?Thanks to everybody for all the great answers!Stored ProceduresSnippetsFunctionsMiscIn Management Studio, you can put a number after a GO end-of-batch marker to cause the batch to be repeated that number of times:Will print \'X\' 10 times.  This can save you from tedious copy/pasting when doing repetitive stuff.A lot of SQL Server developers still don\'t seem to know about the OUTPUT clause (SQL Server 2005 and newer) on the DELETE, INSERT and UPDATE statement.It can be extremely useful to know which rows have been INSERTed, UPDATEd, or DELETEd, and the OUTPUT clause allows to do this very easily - it allows access to the "virtual" tables called inserted and deleted (like in triggers):If you\'re inserting values into a table which has an INT IDENTITY primary key field, with the OUTPUT clause, you can get the inserted new ID right away:And if you\'re updating, it can be extremely useful to know what changed - in this case, inserted represents the new values (after the UPDATE), while deleted refers to the old values before the UPDATE:If a lot of info will be returned, the output of OUTPUT can also be redirected to a temporary table or a table variable (OUTPUT INTO @myInfoTable).Extremely useful - and very little known!Marcsp_msforeachtable: Runs a command with \'?\' replaced with each table name.\ne.g.You can issue up to 3 commands for each table Also, sp_MSforeachdbConnection String extras:MultipleActiveResultSets=true;This makes ADO.Net 2.0 and above read multiple, forward-only, read-only results sets on a single database connection, which can improve performance if you\'re doing a lot of reading. You can turn it on even if you\'re doing a mix of query types.Application Name=MyProgramNameNow when you want to see a list of active connections by querying the sysprocesses table, your program\'s name will appear in the program_name column instead of ".Net SqlClient Data Provider"                                                                                                    TableDiff.exeLinkA less known TSQL technique for returning rows in random order:In Management Studio, you can quickly get a comma-delimited list of columns for a table by :This is handy when you don\'t want to use heinous format returned by right-clicking on the table and choosing Script Table As..., then Insert To... This trick does work with the other folders in that it will give you a comma-delimited list of names contained within the folder.Row ConstructorsYou can insert multiple rows of data with a single insert statement.If you want to know the table structure, indexes and constraints:HashBytes() to return the MD2, MD4, MD5, SHA, or SHA1 hash of its input.Figuring out the most popular queriesLink\nwith the commnad The spatial results tab can be used to create art.enter link description here http://michaeljswart.com/wp-content/uploads/2010/02/venus.pngEXCEPT and INTERSECTInstead of writing elaborate joins and subqueries, these two keywords are a much more elegant shorthand and readable way of expressing your query\'s intent when comparing two query results. New as of SQL Server 2005, they strongly complement UNION which has already existed in the TSQL language for years.The concepts of EXCEPT, INTERSECT, and UNION are fundamental in set theory which serves as the basis and foundation of relational modeling used by all modern RDBMS.  Now, Venn diagram type results can be more intuitively and quite easily generated using TSQL.I know it\'s not exactly hidden, but not too many people know about the PIVOT command.  I was able to change a stored procedure that used cursors and took 2 minutes to run into a speedy 6 second piece of code that was one tenth the number of lines!useful when restoring a database for Testing purposes or whatever.  Re-maps the login ID\'s correctly:Drop all connections to the database:Table ChecksumRow ChecksumI\'m not sure if this is a hidden feature or not, but I stumbled upon this, and have found it to be useful on many occassions.  You can concatonate a set of a field in a single select statement, rather than using a cursor and looping through the select statement.Example:Results:If you want the code of a stored procedure you can:(not sure if it is hidden feature, but I use it all the time)A stored procedure trick is that you can call them from an INSERT statement. I found this very useful when I was working on an SQL Server database. In SQL Server 2005/2008 to show row numbers in a SELECT query result:ORDER BY is a compulsory clause. The OVER() clause tells the SQL Engine to sort data on the specified column (in this case OrderId) and assign numbers as per the sort results.Useful for parsing stored procedure arguments: xp_sscanfReads data from the string into the argument locations specified by each format argument.The following example uses xp_sscanf\n  to extract two values from a source\n  string based on their positions in the\n  format of the source string.Here is the result set.Return Date Onlyordm_db_index_usage_statsThis allows you to know if data in a table has been updated recently even if you don\'t have a DateUpdated column on the table.Code from: http://blog.sqlauthority.com/2009/05/09/sql-server-find-last-date-time-updated-for-any-table/Information referenced from:\nSQL Server - What is the date/time of the last inserted row of a table?Available in SQL 2005 and laterHere are some features I find useful but a lot of people don\'t seem to know about:Returns a list of objects that can be\n  queried in the current environment.\n  This means any object that can appear\n  in a FROM clause, except synonym\n  objects.LinkReturns a list of stored procedures in\n  the current environment.LinkFind records which date falls somewhere inside the current week.Find records which date occurred last week.Returns the date for the beginning of the current week.Returns the date for the beginning of last week.Not so much a hidden feature but setting up key mappings in Management Studio under Tools\\Options\\Keyboard:\nAlt+F1 is defaulted to sp_help "selected text" but I cannot live without the adding Ctrl+F1 for sp_helptext "selected text"Persisted-computed-columnsLinkThere are times when there\'s no suitable column to sort by, or you just want the default sort order on a table and you want to enumerate each row. In order to do that you can put "(select 1)" in the "order by" clause and you\'d get what you want. Neat, eh?Simple encryption with EncryptByKey