I\'m having a bit of a strange problem. I\'m trying to add a foreign key to one table that references another, but it is failing for some reason. With my limited knowledge of MySQL, the only thing that could possibly be suspect is that there is a foreign key on a different table referencing the one I am trying to reference.Here is a picture of my table relationships, generated via phpMyAdmin:\nRelationshipsI\'ve done a SHOW CREATE TABLE query on both tables, sourcecodes_tags is the table with the foreign key, sourcecodes is the referenced table.It would be great if anyone could tell me what is going on here, I\'ve had no formal training or anything with MySQL :)Thanks.Edit: This is the code that generates the error:Quite likely your sourcecodes_tags table contains sourcecode_id values that no longer exists in your sourcecodes table. You have to get rid of those first.Here\'s a query that can find those IDs:I had the same issue with my mysql database but finally I got a solution which worked for me.\nSince in my table everything was fine from mysql point of view(both table should use Innodb engine and the datatype of each column should be of same type which take part in foreign key constraint).\nOnly thing that I did was to disable the foreign key check and later on enabled it after performing foreign key operation.\nSteps that I took:Use NOT IN to find where constraints are constraining:so, more specifically:EDIT: IN and NOT IN operators are known to be much faster than the JOIN operators, as well as much easier to construct, and repeat.I know this solution is a bit awkward but it does work 100%. But I agree that this is not an ideal solution to deal with problem, but I hope it helps.This also happens when setting a foreign key to parent.id to child.column if the child.column has a value of 0 already and no parent.id value is 0You would need to ensure that each child.column is NULL or has value that exists in parent.idAnd now that I read the statement nos wrote, that\'s what he is validating.For me, this problem was a little different and super easy to check and solve. You must ensure BOTH of your tables are InnoDB. If one of the tables, namely the reference table is a MyISAM, the constraint will fail.I had the same problem today. I tested for four things, some of them already mentioned here:Are there any values in your child column that don\'t exist in the parent column (besides NULL, if the child column is nullable)Do child and parent columns have the same datatype?Is there an index on the parent column you are referencing? MySQL seems to require this for performance reasons (http://dev.mysql.com/doc/refman/5.5/en/create-table-foreign-keys.html)And this one solved it for me: Do both tables have identical collation? I had one table in utf-8 and the other in iso-something. That didnt\'t work. After changing the iso-table to utf-8 collation the constraints could be added without problems. In my case, phpMyAdmin didn\'t even show the child table in iso-encoding in the dropdown for creating the foreign key constraint.I\'d the same problem,I checked rows of my tables and found there were some incompatibility with value of fields that I wanted to define as foreign key. I corrected those value, tried again and problem was solved.Delete the column which you want to be a foreign key.Create it again but set its default value as NULL.Try to set it as a foreign key again.Probably there are some value for this column like 0 but they are not a real foreign key so MySQL cannot set that column as foreign key.I end up delete all the data in my table, and run alter again. It works. Not the brilliant one, but it save a lot time, especially your application is still in development stage without any customer data.I had this exact same problem about three different times. In each instance it was because one (or more) of my records did not conform to the new foreign key. You may want to update your existing records to follow the syntax constraints of the foreign key before trying to add the key itself. The following example should generally isolate the problem records:repeat AND (candidate key) <> (next proposed foreign key value) within your query for each value in the foreign key.If you have a ton of records this can be difficult, but if your table is reasonably small it shouldn\'t take too long. I\'m not super amazing in SQL syntax, but this has always isolated the issue for me.Empty both your tables\' data and run the command. It will work.I was getting this error when using Laravel and eloquent, trying to make a foreign key link would cause a 1452. The problem was lack of data in the linked table.Please see here for an example: http://mstd.eu/index.php/2016/12/02/laravel-eloquent-integrity-constraint-violation-1452-foreign-key-constraint/ try thisI have a solution, you just need to answer one question:Is your table already storing data? Especially the table included foreign key.If the answer is yes, then the only thing you do is delete all the record and then you are free to add in any foreign key in your table.Delete instruction: From child(which include foreign key table) to parent table.The reason you cannot add in foreign key after data entries is due to the table inconsistency, what are you going to deal with new foreign key on former data filled table?If no, then follow others instructions.I was readying this solutions and this example may help.My database have two tables (email and credit_card) with primary keys for their IDs. Another table (client) refers to this tables IDs as foreign keys. I have a reason to have the email apart from the client data.First I insert the row data for the referenced tables (email, credit_card) then you get the ID for each, those IDs are needed in the third table (client). If you don\'t insert first the rows in the referenced tables, MySQL wont be able to make the correspondences when you insert a new row in the third table that reference the foreign keys.If you first insert the referenced rows for the referenced tables, then the row that refers to foreign keys, no error occurs.Hope this helps.should help to get rid of those IDs. Or if null is not allowed in sourcecode_id, then remove those rows or add those missing values to the sourcecodes table.I had the same problem and found solution, placing NULL instead of NOT NULL on foreign key column. Here is a query:MySQL has executed this query!