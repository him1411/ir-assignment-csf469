I get this error when I try to source a large SQL file (a big INSERT query).Nothing in the table is updated.  I\'ve tried deleting and undeleting the table/database, as well as restarting MySQL.  None of these things resolve the problem.Here is my max-packet size:Here is the file size:When I try the other method...Adding this line into my.cnf file solves my problem.This is useful when the columns have large values, which cause the issues, you can find the explanation here.On Windows this file is located at: "C:\\ProgramData\\MySQL\\MySQL Server\n  5.6"On Linux (Ubuntu): /etc/mysqlYou can increase Max Allowed Packet http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_max_allowed_packetThe global update and the my.cnf settings didn\'t work for me for some reason. Passing the max_allowed_packet value directly to the client worked here:\nmysql -h <hostname> -u username -p --max_allowed_packet=1073741824 <databasename> < db.sql\nIn general the error:Error: 2006 (CR_SERVER_GONE_ERROR) - MySQL server has gone awaymeans that the client couldn\'t send a question to the server.In your specific case while importing the database file via mysql, this most likely mean that some of the queries in the SQL file are too large to import and they couldn\'t be executed on the server, therefore client fails on the first occurred error.So you\'ve the following possibilities:Add force option (-f) for mysql to proceed and execute rest of the queries.This is useful if the database has some large queries related to cache which aren\'t relevant anyway.Increase max_allowed_packet and wait_timeout in your server config (e.g. ~/.my.cnf).Dump the database using --skip-extended-insert option to break down the large queries. Then import it again.Try applying --max-allowed-packet option for mysql.In general this error could mean several things, such as:a query to the server is incorrect or too large,Solution: Increase max_allowed_packet variable.Make sure the variable is under [mysqld] section, not [mysql].Don\'t afraid to use large numbers for testing (like 1G).Don\'t forget to restart the MySQL/MariaDB server.Double check the value was set properly by:You got a timeout from the TCP/IP connection on the client side.Solution: Increase wait_timeout variable.You tried to run a query after the connection to the server has been closed.Solution: A logic error in the application should be corrected.Host name lookups failed (e.g. DNS server issue), or server has been started with --skip-networking option.Another possibility is that your firewall blocks the MySQL port (e.g. 3306 by default).The running thread has been killed, so retry again.You have encountered a bug where the server died while executing the query.A client running on a different host does not have the necessary privileges to connect.And many more, so learn more at: B.5.2.9 MySQL server has gone away.Here are few expert-level debug ideas:Check the logs, e.g.Test your connection via mysql, telnet or ping functions (e.g. mysql_ping in PHP).Use tcpdump to sniff the MySQL communication (won\'t work for socket connection), e.g.:On Linux, use strace. On BSD/Mac use dtrace/dtruss, e.g.See: Getting started with DTracing MySQLLearn more how to debug MySQL server or client at: 26.5 Debugging and Porting MySQL.Source code responsible for throwing the CR_SERVER_GONE_ERROR error (mysqlx.cc):I had the same problem but changeing max_allowed_packet in the my.ini/my.cnf file under [mysqld] made the trick.add a linenow restart the MySQL service once you are done.Just in case, to check variables you can use This will display the current variables, in this case max_allowed_packet, and as someone said in another answer you can set it temporarily with In my case the cnf file was not taken into account and I don\'t know why, so the SET GLOBAL code really helped.The solution is increasing the values given the wait_timeout and the connect_timeout parameters in your options file, under the [mysqld] tag. I had to recover a 400MB mysql backup and this worked for me (the values I\'ve used below are a bit exaggerated, but you get the point):You can also log into the database as root (or SUPER privilege) and do doesn\'t require a MySQL restart as well. Note that you should fix your my.cnf file as outlined in other solutions:And confirm the change after you\'ve restarted MySQL:You can use the command-line as well, but that may require updating the start/stop scripts which may not survive system updates and patches.As requested, I\'m adding my own answer here. Glad to see it works!A couple things could be happening here; $ mysql db_name < source.sqlI solved the error ERROR 2006 (HY000) at line 97: MySQL server has gone away and successfully migrated a >5GB sql file by performing these two steps in order:Important Note: It was necessary to perform both steps, because if I didn\'t bother making the changes to /etc/my.cnf file as well as appending those flags, some of the tables were missing after the import.System used: OSX El Capitan 10.11.5; mysql Ver 14.14 Distrib 5.5.51 for osx10.8 (i386)For more information on this refer to\nhttp://dev.mysql.com/doc/refman/5.5/en/gone-away.html\nor\nhttp://dev.mysql.com/doc/refman/5.1/en/gone-away.html\nas appropriate.If you are on Mac and installed mysql through brew like me, the following worked.Source: For homebrew mysql installs, where's my.cnf?add max_allowed_packet=1073741824 to /usr/local/etc/my.cnfmysql.server restartI encountered this error when I use Mysql Cluster, I do not know this question is from a cluster usage or not. As the error is exactly the same, so give my solution here.\nGetting this error because the data nodes suddenly crash. But when the nodes crash, you can still get the correct result using cmd:And the mysqld also works correctly.So at first, I can not understand what is wrong. And about 5 mins later, ndb_mgm result shows no data node working. Then I realize the problem. So, try to restart all the data nodes, then the mysql server is back and everything is OK. But one thing is weird to me, after I lost mysql server for some queries, when I use cmd like show tables, I can still get the return info like 33 rows in set (5.57 sec), but no table info is displayed. If it\'s reconnecting and getting connection ID 2, the server has almost definitely just crashed.Contact the server admin and get them to diagnose the problem. No non-malicious SQL should crash the server, and the output of mysqldump certainly should not.It is probably the case that the server admin has made some big operational error such as assigning buffer sizes of greater than the architecture\'s address-space limits, or more than virtual memory capacity. The MySQL error-log will probably have some relevant information; they will be monitoring this if they are competent anyway.This is more of a rare issue but I have seen this if someone has copied the entire /var/lib/mysql directory as a way of migrating their DB to another server.  The reason it doesn\'t work is because the database was running and using log files.    It doesn\'t work sometimes if there are logs in /var/log/mysql.  The solution is to copy the /var/log/mysql files as well.if none of this answers solves you the problem, I solved it by removing the tables and creating them again automatically in this way:then just use this backup with your db and it will remove and recreate the tables you need.Then you backup just data, and do the same, and it will work.How about using the mysql client like this: