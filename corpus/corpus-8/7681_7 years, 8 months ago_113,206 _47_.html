I want to shuffle the lines of a text file randomly and create a new file. The file may have several thousands of lines.How can I do that with cat, awk, cut, etc.?You can use shuf. On some systems at least (doesn\'t appear to be in POSIX).As jleedev pointed out: sort -R might also be an option. On some systems at least; well, you get the picture. It has been pointed out that sort -R doesn\'t really shuffle but instead sort items according to their hash value.[Editor\'s note: sort -R almost shuffles, except that duplicate lines / sort keys always end up next to each other. In other words: only with unique input lines / keys is it a true shuffle. While it\'s true that the output order is determined by hash values, the randomness comes from choosing a random hash function - see manual.]Perl one-liner would be a simple version of Maxim\'s solutionThis answer complements the many great existing answers in the following ways:The existing answers are packaged into flexible shell functions:A performance comparison is made.Performance comparison:Note: These numbers were obtained on a late-2012 iMac with 3.2 GHz Intel Core i5 and a Fusion Drive, running OSX 10.10.3. While timings will vary with OS used, machine specs, awk implementation used (e.g., the BSD awk version used on OSX is usually slower than GNU awk and especially mawk), this should provide a general sense of relative performance.Input file is a 1-million-lines file produced with seq -f \'line %.0f\' 1000000.\nTimes are listed in ascending order (fastest first):For further comparison, the solutions not packaged as functions above:Conclusions:I use a tiny perl script, which I call "unsort":I\'ve also got a NULL-delimited version, called "unsort0" ... handy for use with find -print0 and so on.PS:  Voted up \'shuf\' too, I had no idea that was there in coreutils these days ... the above may still be useful if your systems doesn\'t have \'shuf\'.Here is a first try that\'s easy on the coder but hard on the CPU which prepends a random number to each line, sorts them and then strips the random number from each line. In effect, the lines are sorted randomly:here\'s an awk scriptoutputA one-liner for python:And for printing just a single random line:But see this post for the drawbacks of python\'s random.shuffle(). It won\'t work well with many (more than 2080) elements.Simple awk-based function will do the job:usage:This should work on almost any UNIX. Tested on Linux, Solaris and HP-UX.Update:Note, that leading zeros (%06d) and rand() multiplication makes it to work properly also on systems where sort does not understand numbers. It can be sorted via lexicographical order (a.k.a. normal string compare).One liner for Python based on scai\'s answer, but a) takes stdin, b) makes the result repeatable with seed, c) picks out only 200 of all lines.Ruby FTW:This is a python script that I saved as rand.py in my home folder:On Mac OSX sort -R and shuf are not available so you can alias this in your bash_profile as:We have a package to do the very job:  Example:Create an ordered list of numbers, and save it to 1000.txt:  to shuffle it, simply use  If like me you came here to look for an alternate to shuf for macOS then use randomize-lines.Install randomize-lines(homebrew) package, which has an rl command which has similar functionality to shuf.brew install randomize-linesIn windows You may try this batch file to help you to shuffle your data.txt, The usage of the batch code isAfter issuing this command, maclist_temp.txt will contain a randomized list of lines.Hope this helps.If you have Scala installed, here\'s a one-liner to shuffle the input:This bash function has the minimal dependency(only sort and bash):Not mentioned as of yet:The unsort util.  Syntax (somewhat playlist oriented):msort can shuffle by line, but it\'s usually overkill: