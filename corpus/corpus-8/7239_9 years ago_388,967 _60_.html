Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.I am behind a proxy server. How do I set my JVM to use the proxy ?From the Java documentation (not the javadoc API):http://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.htmlSet the JVM flags http.proxyHost and http.proxyPort when starting your JVM on the command line.\nThis is usually done in a shell script (in Unix) or bat file (in Windows). Here\'s the example with the Unix shell script:When using containers such as JBoss or WebLogic, my solution is to edit the start-up scripts supplied by the vendor.Many developers are familiar with the Java API (javadocs), but many times the rest of the documentation is overlooked. It contains a lot of interesting information: http://download.oracle.com/javase/6/docs/technotes/guides/Update : If you do not want to use proxy to resolve some local/intranet hosts, check out the comment from @Tomalak:Also don\'t forget the http.nonProxyHosts property!To set an HTTP/HTTPS and/or SOCKS proxy programmatically:Remember that HTTP proxies and SOCKS proxies operate at different levels in the network stack, so you can use one or the other or both.To use the system proxy setup:Or programatically:Source: http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.htmlYou can set those flags programmatically this way:Just return the right values from the methods needsProxy(), getProxyHost() and getProxyPort() and you can call this code snippet whenever you want.JVM uses the proxy to make HTTP callsThis may use user setting proxyYou can set some properties about the proxy server as jvm parameters-Dhttp.proxyPort=8080, proxyHost, etc.but if you need pass through an authenticating proxy, you need an authenticator like this example:ProxyAuthenticator.javaExample.javaBased on this reply:\nhttp://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3Ereading an XML file and needs to download its schemaIf you are counting on retrieving schemas or DTDs over the internet, you\'re building a slow, chatty, fragile application.  What happens when that remote server hosting the file takes planned or unplanned downtime?  Your app breaks.  Is that OK?See http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.filesURL\'s for schemas and the like are best thought of as unique identifiers.  Not as requests to actually access that file remotely.  Do some google searching on "XML catalog".  An XML catalog allows you to host such resources locally, resolving the slowness, chattiness and fragility.It\'s basically a permanently cached copy of the remote content.  And that\'s OK, since the remote content will never change.  If there\'s ever an update, it\'d be at a different URL.  Making the actual retrieval of the resource over the internet especially silly.I am also behind firewall, this worked for me!!Set the java.net.useSystemProxies property to true. You can set it, for example, through the JAVA_TOOL_OPTIONS environmental variable. In Ubuntu, you can, for example, add the following line to .bashrc:export JAVA_TOOL_OPTIONS+=" -Djava.net.useSystemProxies=true"Add this before you connect to a URL behind a proxy.This is a minor update, but since Java 7, proxy connections can now be created programmatically rather than through system properties.  This may be useful if:Here\'s a contrived example in groovy:Full Reference:\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.htmlThat works for me:P/S: I base on GHad\'s answer.Recently I\'ve discovered the way to allow JVM to use browser proxy settings. What you need to do is to add ${java.home}/lib/deploy.jar to your project and to init the library like the following:Afterwards the proxy settings are available to Java API via java.net.ProxySelector.The only problem with this approach is that you need to start JVM with deploy.jar in bootclasspath e.g. java -Xbootclasspath/a:"%JAVA_HOME%\\jre\\lib\\deploy.jar" -jar my.jar. If somebody knows how to overcome this limitation, let me know.The following shows how to set in Java a proxy with proxy user and proxy password from the command line, which is a very common case. You should not save passwords and hosts in the code, as a rule in the first place. Passing the system properties in command line with -D and setting them in the code with System.setProperty("name", "value") is equivalent. But note thisExample that works: But the following does not workThe only difference is the position of the system properties ! (before and after the class)If you have special characters in password, you are allowed to put it in quotes "@MyPass123%", like in the above example. If you access an HTTPS service, you have to use https.proxyHost, https.proxyPort etc. If you access an HTTP service, you have to use http.proxyHost, http.proxyPort etc. As is pointed out in other answers, if you need to use Authenticated proxies, there\'s no reliable way to do this purely using command-line variables - which is annoying if you\'re using someone else\'s application and don\'t want to mess with the source code.Will Iverson makes the helpful suggestion over at Using HttpProxy to connect to a host with preemtive authentication to use a Proxy-management tool such as Proxifier ( http://www.proxifier.com/ for Mac OS X and Windows) to handle this.For example with Proxifier you can set it up to only intercept java commands to be managed and redirected through its (authenticated) proxy. You\'re going to want to set the proxyHost and proxyPort values to blank in this case though, e.g. pass in -Dhttp.proxyHost= -Dhttp.proxyPort= to your java commands.Combining Sorter\'s and javabrett/Leonel\'s answers:Also, if you are always looking to download the same schema, then you can add the schema to your classpath (filesystem or JAR), and then use a custom EntityResolverSee here for a more complete discussion of this approach.Edit: See @me.yahoo.com/a/0QMxE\'s discussion of CatalogResolver, which uses the EntityResolver approach:You can utilize the http.proxy* JVM variables if you\'re within a standalone JVM but you SHOULD NOT modify their startup scripts and/or do this within your application server (except maybe jboss or tomcat).  Instead you should utilize the JAVA Proxy API (not System.setProperty) or utilize the vendor\'s own configuration options.  Both WebSphere and WebLogic have very defined ways of setting up the proxies that are far more powerful than the J2SE one.  Additionally, for WebSphere and WebLogic you will likely break your application server in little ways by overriding the startup scripts (particularly the server\'s interop processes as you might be telling them to use your proxy as well...).  I think configuring WINHTTP will also work.Many programs including Windows Updates are having problems behind proxy. By setting up WINHTTP will always fix this kind of problems