Trying to update Homebrew with brew update I got the following errorI found a blog post by someone who experienced a similar problem after having installed Mountain Lion (which I did this week too). He explains how he removed the files referred to in the error messageAssuming those instructions are correct (which I maybe shouldn\'t assume), I tried to follow these instructions and do However, it said \'file doesn\'t exist\' when I tried to rm cocot.rbOne thing I\'m not sure about is the cd $(brew --prefix) Are those the exact words I type or do I have to replace prefix with something? the cd was successful, so I\'m assuming it was correct -- it moved me into /usr/local, but there was no file to remove. Contents of /usr/local areAt any rate, do you know how I can fix the \'brew update\'Update: After removing the files according to favoretti\'s instructions and trying chown -R <your_username> $(brew --prefix)/.git, I got the following error running brew updateYou need to do the following:And then do theBasically, to explain a bit more:tells cd to change the directory to whatever brew --prefix will output. \nIf you try executing brew --prefix command you should see something in lines of:So the command would be in this case an equivalent of cd /usr/local.\nNewer brew versions have formulae under its installation prefix and Library/Formula/, so that\'s where you need to look for those outdated/changed files.Note, that if you changed those formulae yourself for a particular reason (like pinning a version) this action will revert them back to default ones and may produce unwanted effects.@TedPennings noted in comments that this worked for him, but his sequence was:This is caused by an old bug in the update code that has long since been fixed. However, the nature of the bug requires that you do the following:    If brew doctor still complains about uncommitted modifications, also run this command:Note: steps 2&3 worked for me since I did step 5 before 4 before I got the error. The brew update before changing the owner of the folder caused the whole problem.I had a similar issue where my brew package library got downloaded as a root user and then I was not able to run brew update as git would complain about not able to merge the file.Solution was to do :-Resetting the brew repository should be the most efficient way if you don\'t mind to discard potential modifications on formulas you might have been applied:I was able to fix this on my machine by adding admin group write (and setgid bit) permission at these paths:The s sets the group id on execution so that the write permissions aren\'t lost the next time a different admin user updates or upgrades Homebrew.This answer is somewhat incomplete because when I try to do brew cleanup --force there is a permissions issue when Homebrew tries to remove content in /usr/local/Cellar/. (Unfortunately I\'m not able to investigate this further at the moment.)Another option is to just use git stash.The brew update command performs a git pull, so if there are any changed files (or even file attributes, which happened to me when I changed permissions in the directory recursively) you have to somehow fix the conflicts. Using git stash is one way; it takes any changes and puts them aside so you effectively revert to the last updated repo version. The Homebrew \'location\' is by default /usr/local and it installs as a git repository. You can look for a .git folder to see for yourself. I\'m writing a homebrew uninstall script to be posted on my GitHub profile soon with more info.note - for USER use command whom i.e. your usernameThis approach may be simpler than some. It involves:Steps (with notes for those who want explanations):Overview:\nFrom what I can tell, the actual cause of this issue is a change in the repo url. It\'s now brew and was brew.git. (Full up-to-date url: https://github.com/Homebrew/brew)  Note 1: This first command takes you from anywhere in your file structure to the correct directory. The directory structure is different for me than what others show above (Mac OS 10.11.16), but with this command, those differences should not matter.  Note 2: This second command adds the correct remote url to a new alias; I did so just in case this approach didn\'t accomplish what I wanted and I needed the previous address again. Since the new remote worked, I\'ll invite someone else to comment on simply changing the url aliased by origin. I\'ll happily update the answer to reflect what worked for you.  Note 3: This forth command has exactly the desired result: it reports a large number of updates, including the particularly nice report of "==> Migrated HOMEBREW_REPOSITORY to /usr/local/Homebrew!" (emphasis theirs).This post helped me after updating to El Capitan. In my case, chown wasn\'t working ("zsh: command not found: chown"), so step 1 was adding this line to my .zshrc:export PATH="$PATH:/usr/sbin"I\'d already tried several of the more popular answers above, so I\'m pretty sure that git status was coming up clean by the time I pasted in the critical command from the blog post:sudo chown $(whoami):admin /usr/local && sudo chown -R $(whoami):admin /usr/localThis should work.Going sudo always works for me :sudo brew upgrade