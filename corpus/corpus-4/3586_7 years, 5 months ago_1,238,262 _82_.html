I went to the Environment Variables in \'System\' in the control panel and made two new variables, one for user variables and one for system variables. Both were named JAVA_HOME and both pointing toC:\\Sun\\SDK\\jdk\\binBut for some reason, I still get the below error when running a Java command...How can I fix this problem?Find JDK Installation DirectoryFirst you need to know the installation path for the Java Development Kit.Open the default installation path for the JDK:There should be a subdirectory like:Note: one has only to put the path to the jdk without /bin in the end (as suggested on a lot of places). e.g. C:\\Java\\jdk1.6.0_31 and NOT C:\\Java\\jdk1.6.0_31\\bin !Set the JAVA_HOME VariableOnce you have the JDK installation path:Note: You might need to restart WindowsThe complete article is here, on my blog: Setting JAVA_HOME Variable in Windows.Get Video Solution.What worked for me was adding the %JAVA_HOME%\\bin to the Path environment variable with the JAVA_HOME environment variable pointing to the jdk folder.You have to first Install JDK in your system. Set Java HomeJAVA_HOME = C:\\Program Files\\Java\\jdk1.7.0 [Location of your JDK Installation Directory]Once you have the JDK installation path:  Set JAVA Path under system variablePATH= C:\\Program Files\\Java\\jdk1.7.0; [Append Value with semi-colon]http://javahowto.blogspot.com/2006/05/javahome-vs-javahome.htmlControl Panel > Java, Java tab, click the View button. In Runtime Parameters, put:Or when you execute Java you can add that command line switch to the command:In cmd (temporarily for that cmd window):You need to set it to C:\\Sun\\SDK\\jdk (Assuming that is where the JDK is installed - It is not the default) - Do not put the \\bin in C:\\Sun\\SDK\\jdk\\bin.If your app only runs when you are logged in as the current user then put it in the user variables - If it needs to run for all users on your system then put it in System variables.You might also need to add %JAVA_HOME%\\bin to the path also (Also it depends on whether you run it from just the user or from all users, including System)This is the official solution for setting the Java environment from www.java.com - here.There are solutions for Windows 7, Windows Vista, Windows XP, Linux/Solaris and other shells.For those who are still stumped with this problem (I tried all the above suggestions) --If you\'re on a 64-bit version of Windows and you\'ve installed the 32-bit JDK, besides adjusting PATH variables, you may need to adjust registry variables, too.I was pulling my hair out, having correctly set my PATH variables -- still to no avail -- and then only finding "vacated" Java entries in my registry, seemingly a deadend of fixing the "misfiring" Java Runtime Environment. By using Process Monitor to watch the program I was trying to get started, in order to sniff out where it was looking in the registry for Java (Runtime Environment), I triumphantly discovered that it\'s looking in the 32-bit version of registry entries, found in HKEY_LOCAL_MACHINE\\SOFTWARE\\**Wow6432Node**\\JavaSoft\\Java Runtime Environment. Within that key, you should find subkeys of different Java versions installed (past and/or present). Click on the subkey of the latest version (my subkey is currently 1.7.0_25, for example). After clicking on that subkey, you\'ll see registry string values listed on the right, and particularly, JavaHome and RuntimeLib. You need to modify the values of those two values to reflect the both the current folder and jvm.dll file, respectively.For example, in my case, the values were (previously) respectively set at C:\\Program Files (x86)\\Java\\jre7 and C:\\Program Files (x86)\\Java\\jre7\\bin\\client\\jvm.dll which are nonexistent on my machine. I had to update these to the current folder and file of C:\\Program Files (x86)\\Java\\jdk1.7.0_25\\jre and C:\\Program Files (x86)\\Java\\jdk1.7.0_25\\jre\\bin\\client\\jvm.dll.Again, this will depend entirely on both what version of Java (JDK and/or JRE) you have installed -- 32 or 64-bit -- and what type of operating system you\'re on -- 32 or 64-bit. Just know that they\'re reflected in different locations within the registry (like the Wow6432Node for 32 bit applications, in my case with the 32-bit JDK installed on a 64-bit machine).Now that I\'ve updated those two registry values, my program runs flawlessly, with no more hiccups or complaints about a missing Java Runtime Environment (stemming from the registry).Go to Control Panel\\All Control Panel Items\\User Accounts using Explorer (not Internet Explorer!)or click on the Start buttonclick on your pictureChange my environment variablesNew...(if you don\'t have enough permissions to add it in the System variables section, add it to the User variables section)Add JAVA_HOME as Variable name and the JDK location as Variable value > OKTest:In Eclipse: Window->Preferences->Java->Installed JREsUse the search feature to make sure your latest Java installation is listed; then make sure it is the one that is checked. This should be a JDK not a JRE.While adding your Java directory to your PATH variable, you might want to put it right at the beginning of it. I\'ve had the problem, that putting the Java directory at the end of the PATH would not work. After checking, I\'ve found java.exe in my Windows\\System32 directory and it looks like the first one wins, when there are several files with the same name in your PATH...One Image can fix this issue.\nFor MoreWe need to make a distinction between the two environment variables that are discussed here interchangeably. One is the JAVA_HOME variable. The other is the Path variable. Any process that references the JAVA_HOME variable is looking for the search path to the JDK, not the JRE. The use of JAVA_HOME variable is not meant for the Java compiler itself. The compiler is aware of its own location. The variable is meant for other software to more easily locate the compiler. This variable is typically used by IDE software in order to compile and build applications from Java source code. By contrast, the Windows CMD interpreter, and many other first and third party software references the Path variable, not the JAVA_HOME variable.Use case 1: Compiling from CMDSo for instance, if you are not using any IDE software, and you just want to be able to compile from the CMD, independent of your current working directory, then what you want is to set the Path variable correctly. In your case, you don\'t even need the JAVA_HOME variable. Because CMD is using Path, not JAVA_HOME to locate the Java compiler.Use case 2: Compiling from IDEHowever, if you are using some IDE software, then you have to look at the documentation first of all. It may require JAVA_HOME to be set, but it may also use another variable name for the same purpose. The de-facto standard over the years has been JAVA_HOME, but this may not always be the case.Use case 3: Compiling from IDE and CMDIf in addition to the IDE software you also want to be able to compile from the CMD, independent of your current working directory, then in addition to the JAVA_HOME variable you may also need to append the JDK search path to the Path variable.JAVA_HOME vs. PathIf your problem relates to compiling Java, then you want to check the JAVA_HOME variable, and Path (where applicable). If your problem relates to running Java applications, then you want to check your Path variable.Path variable is used universally across all operating systems. Because it is defined by the system, and because it\'s the default variable that\'s used for locating the JRE, there is almost never any problem running Java applications. Especially not on Windows where the software installers usually set everything up for you. But if you are installing manually, the safest thing to do is perhaps to skip the JAVA_HOME variable altogether and just use the Path variable for everything, for both JDK and the JRE. Any recent version of an IDE software should be able to pick that up and use it.SymlinksSymbolic links may provide yet another way to reference the JDK search path by piggybacking one of the existing environment variables.I am not sure about previous versions of Oracle/Sun JDK/JRE releases, but at least the installer for jdk1.8.0_74 appends the search path C:\\ProgramData\\Oracle\\Java\\javapath to the Path variable, and it puts it at the beginning of the string value. This directory contains symbolic links to the java.exe, javaw.exe and javaws.exe in the JRE directory.So at least with the Java 8 JDK, and presumably the Java 8 JRE standalone, no environment variable configuration needs to be done for the JRE. As long as you use the installer package to set it up. There may be differences on your Windows installation however. Note that the Oracle JRE comes bundled with the JDK.If you ever find that your Java JDK configuration is using the wrong version of the compiler, or it appears to be working by magic, without being explicitly defined so (without casting the spell), then you may have a symlink somewhere in your environment variables. So you may want to check for symlink.Run Eclipse as Administrator.That solved my problem. I\'m still digging for the logic behind it.if you have not restarted your computer after installing jdk just restart your computer.if you want to make a portable java and set path before using java, just make a batch file i explained below.if you want to run this batch file when your computer start just put your batch file shortcut in startup folder. In windows 7 startup folder is "C:\\Users\\user\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup"make a batch file like this:note:\njava_home and path are variables. you can make any variable as you wish.\nfor example set amir=good_boy and you can see amir by %amir% or you can see java_home by %java_home%After hours of work around most of the solutions here, the problem was solved for me just by installing 32-bit JDK.