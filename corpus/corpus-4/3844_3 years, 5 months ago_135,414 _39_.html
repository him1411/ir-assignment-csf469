Normally in Gulp tasks look like this:Is it possible to pass a command line flag to gulp (that\'s not a task) and have it run tasks conditionally based on that? For instanceAnd then in my gulpfile.js:Gulp doesn\'t offer any kind of util for that, but you can use one of the many command args parsers. I like yargs. Should be:You can also combine it with gulp-if to conditionally pipe the stream, very useful for dev vs. prod building:And call with gulp my-js-task or gulp my-js-task --production.In my project I use the following flag:Gulp offers an object gulp.env for that. It\'s deprecated in newer versions, so you must use gulp-util for that. The tasks looks like this:The environment setting is available during all subtasks. So I can use this flag on the watch task too:And my styles task also works.Ciao\nRalfHere\'s a quick recipe I found:Original Ref (not available anymore): https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-params-from-cli.md From Updated Ref: https://github.com/gulpjs/gulp/blob/master/docs/recipes/pass-arguments-from-cli.mdThere\'s a very simple way to do on/off flags without parsing the arguments. gulpfile.js is just a file that\'s executed like any other, so you can do:And use something like gulp-if to conditionally execute a stepExecuting gulp build will produce a nice html, while gulp production build will minify it.If you\'ve some strict (ordered!) arguments, then you can get them simply by checking process.argv.Execute it: gulp --env production...however, I think that this is tooo strict and not bulletproof! So, I fiddled a bit around... and ended up with this utility function:It eats an argument-name and will search for this in process.argv. If nothing was found it spits out null. Otherwise if their is no next argument or the next argument is a command and not a value (we differ with a dash) true gets returned. (That\'s because the key exist, but there\'s just no value). If all the cases before will fail, the next argument-value is what we get.> gulp watch --foo --bar 1337 -boom "Foo isn\'t equal to bar."Ok, enough for now... Here\'s a simple example using gulp:Run it gulp --env productionI built a plugin to inject parameters from the commandline into the task callback.https://github.com/stoeffel/gulp-paramIf someone finds a bug or has a improvement to it, I am happy to merge PRs.And if you are using typescript (gulpfile.ts) then do this for yargs (building on @Caio Cunha\'s excellent answer https://stackoverflow.com/a/23038290/1019307 and other comments above):Add this to the .ts files:This has to be done in each .ts file individually (even the tools/tasks/project files that are imported into the gulpfile.ts/js).Or under npm pass the arg through to gulp:Then run gulp with:SourceCLI gulp production calls my production task and sets a flag for any conditionals.We wanted to pass a different config file for different environments -- one for production, dev and testing. This is the code in the gulp file:This is the code in the app.js file:And then to run it gulp --env=testing