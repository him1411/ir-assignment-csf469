I am looking for suggestions on how to handle a csv file that is being created, then uploaded by our customers, and that may have a comma in a value, like a company name.Some of the ideas we are looking at are: quoted Identifiers (value "," values ","etc) or using a | instead of a comma.  The biggest problem is that we have to make it easy, or the customer won\'t do it. As others have said, you need to escape values that include quotes.  Here\xe2\x80\x99s a little CSV reader in C\xe2\x99\xaf that supports quoted values, including embedded quotes and carriage returns.By the way, this is unit-tested code.  I\xe2\x80\x99m posting it now because this question seems to come up a lot and others may not want an entire library when simple CSV support will do.You can use it as follows:Here are the classes.  Note that you can use the Csv.Escape function to write valid CSV as well.For 2017, csv is fully specified - RFC 4180.It is a very common specification, and is completely covered by many libraries (example).Simply use any easily-available csv library - that is to say RFC 4180.There\'s actually a spec for CSV format and how to handle commas:  Fields containing line breaks (CRLF), double quotes, and commas should be enclosed in double-quotes.http://tools.ietf.org/html/rfc4180So, to have values foo and bar,baz, you do this:Another important requirement to consider (also from the spec):If double-quotes are used to enclose fields, then a double-quote\n  appearing inside a field must be escaped by preceding it with\n  another double quote.  For example:The CSV format uses commas to separate values, values which contain carriage returns, linefeeds, commas, or double quotes are surrounded by double-quotes.  Values that contain double quotes are quoted and each literal quote is escaped by an immediately preceding quote: For example, the 3 values:would be encoded as:Any field can be quoted but only fields that contain commas, CR/NL, or quotes must be quoted.There is no real standard for the CSV format, but almost all applications follow the conventions documented here.  The RFC that was mentioned elsewhere is not a standard for CSV, it is an RFC for using CSV within MIME and contains some unconventional and unnecessary limitations that make it useless outside of MIME.A gotcha that many CSV modules I have seen don\'t accommodate is the fact that multiple lines can be encoded in a single field which means you can\'t assume that each line is a separate record, you either need to not allow newlines in your data or be prepared to handle this.Put double quotes around strings. That is generally what Excel does.Ala Eli,you escape a double quote as two\n  double quotes. E.g.\n  "test1","foo""bar","test2"You can put double quotes around the fields. I don\'t like this approach, as it adds another special character (the double quote). Just define an escape character (usually backslash) and use it wherever you need to escape something:You don\'t have to try to match quotes, and you have fewer exceptions to parse. This simplifies your code, too.There is a library available through nuget for dealing with pretty much any well formed CSV (.net) - CsvHelperExample to map to a class:Example to read individual fields:Letting the client drive the file format:\n, is the standard field delimiter, " is the standard value used to escape fields that contain a delimiter, quote, or line ending.To use (for example) # for fields and \' for escaping:More DocumentationAdd a reference to the Microsoft.VisualBasic (yes, it says VisualBasic but it works in C# just as well - remember that at the end it is all just IL). Use the Microsoft.VisualBasic.FileIO.TextFieldParser class to parse CSV file Here is the sample code:In case you\'re on a *nix-system, have access to sed and there can be one or more unwanted commas only in a specific field of your CSV, you can use the following one-liner in order to enclose them in " as RFC4180 Section 2 proposes:Depending on which field the unwanted comma(s) may be in you have to alter/extend the capturing groups of the regex (and the substitution).\nThe example above will enclose the fourth field (out of six) in quotation marks.In combination with the --in-place-option you can apply these changes directly to the file.In order to "build" the right regex, there\'s a simple principle to follow:  Here is a short overview of different possible regexes/substitutions depending on the specific field. If not given, the substitution is \\1"\\2"\\3.If you want to remove the unwanted comma(s) with sed instead of enclosing them with quotation marks refer to this answer.You can use alternative "delimiters" like ";" or "|" but simplest might just be quoting which is supported by most (decent) CSV libraries and most decent spreadsheets.For more on CSV delimiters and a spec for a standard format for describing delimiters and quoting see this webpageIf you\'re interested in a more educational exercise on how to parse files in general (using CSV as an example), you may check out this article by Julian Bucknall. I like the article because it breaks things down into much smaller problems that are much less insurmountable. You first create a grammar, and once you have a good grammar, it\'s a relatively easy and methodical process to convert the grammar into code.The article uses C# and has a link at the bottom to download the code.If you feel like reinventing the wheel, the following may work for you:As this is about general practices let\'s start from rules of the thumb:Don\'t use CSV, use XML with a library to read & write the xml file instead.If you must use CSV. Do it properly and use a free library to parse and store the CSV files.To justify 1), most CSV parsers aren\'t encoding aware so if you aren\'t dealing with US-ASCII you are asking for troubles.\nFor example excel 2002 is storing the CSV in local encoding without any note about the encoding. The CSV standard isn\'t widely adopted :(.\nOn the other hand xml standard is well adopted and it handles encodings pretty well.To justify 2), There is tons of csv parsers around for almost all language so there is no need to reinvent the wheel even if the solutions looks pretty simple.To name few:for python use build in csv modulefor perl check CPAN and Text::CSV for php use build in fgetcsv/fputcsv functionsfor java check SuperCVS libraryReally there is no need to implement this by hand if you aren\'t going to parse it on embedded device.You can read the csv file like this.this makes use of splits and takes care of spaces.I think the easiest solution to this problem is to have the customer to open the csv in excel, and then ctrl + r to replace all comma with whatever identifier you want. This is very easy for the customer and require only one change in your code to read the delimiter of your choice.First, let\'s ask ourselves, "Why do we feel the need to handle commas differently for CSV files?"For me, the answer is, "Because when I export data into a CSV file, the commas in a field disappear and my field gets separated into multiple fields where the commas appear in the original data."  (That it because the comma is the CSV field separator character.)Depending on your situation, semi colons may also be used as CSV field separators.Given my requirements, I can use a character, e.g., single low-9 quotation mark, that looks like a comma.So, here\'s how you can do it in Go:The second comma looking character in the Replace function is decimal 8218.Be aware that if you have clients that may have ascii-only text readers that this decima 8218 character will not look like a comma.  If this is your case, then I\'d recommend surrounding the field with the comma (or semicolon) with double quotes per RFC 4128: https://tools.ietf.org/html/rfc4180I generally URL-encode the fields which can have any commas or any special chars. And then decode it when it is being used/displayed in any visual medium.(commas becomes %2C)Every language should have methods to URL-encode and decode strings.e.g., in javaI know this is a very general solution and it might not be ideal for situation where user wants to view content of csv file, manually.I usually do this in my CSV files parsing routines. Assume that \'line\' variable is one line within a CSV file and all of the columns\' values are enclosed in double quotes. After the below two lines execute, you will get CSV columns in the \'values\' collection.As mentioned in my comment to harpo\'s answer, his solution is good and works in most cases, however in some scenarios when commas as directly adjacent to each other it fails to split on the commas.This is because of the Regex string behaving unexpectedly as a vertabim string.\nIn order to get this behave correct, all " characters in the regex string need to be escaped manually without using the vertabim escape.Ie. The regex should be this using manual escapes: ",(?=(?:[^\\"\\"]*\\"\\"[^\\"\\"]*\\"\\")*(?![^\\"\\"]*\\"\\"))" which translates into ",(?=(?:[^""]*""[^""]*"")*(?![^""]*""))"When using a vertabim string @",(?=(?:[^""]*""[^""]*"")*(?![^""]*""))" it behaves as the following as you can see if you debug the regex:So in summary, I recommend harpo\'s solution, but watch out for this little gotcha!I\'ve included into the CsvReader a little optional failsafe to notify you if this error occurs (if you have a pre-known number of columns):This can be injected via the constructor:In Europe we have this problem must earlier than this question. In Europe we use all a comma for a decimal point. See this numbers below:So it isn\'t possible to use the comma separator for CSV files. Because of that reason, the CSV files in Europe are separated by a semicolon (;). Programs like Microsoft Excel can read files with a semicolon and it\'s possible to switch from separator. You could even use a tab (\\t) as separator. See this answer from Supper User.Use a tab character (\\t) to separate the fields.