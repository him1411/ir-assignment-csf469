I have a SQL script that has to be run every time a client executes the "database management" functionality. The script includes creating stored procedures on the client database.  Some of these clients might already have the stored procedure upon running the script, and some may not. I need to have the missing stored procedures added to the client database, but it doesn\'t matter how much I try to bend T-SQL syntax, I getCREATE/ALTER PROCEDURE\' must be the first statement in a query batchI\'ve read that dropping before creating works, but I don\'t like doing it that way.How can I add check for the existence of a stored procedure and create it if it doesn\'t exist but alter it if it does exist?You can run procedural code anywhere you are able to run a query.Just copy everything after AS:This code does exactly same things a stored proc would do, but is not stored on the database side.That\'s much like what is called anonymous procedure in PL/SQL.Update:Your question title is a little bit confusing.If you only need to create a procedure if it not exists, then your code is just fine.Here\'s what SSMS outputs in the create script:Update:Example of how to do it when including the schema:In the example above, dbo is the schema.I realize this has already been marked as answered, but we used to do it like this:Just to avoid dropping the procedure.If you\'re looking for the simplest way to check for a database object\'s existence before removing it, here\'s one way (example uses a SPROC, just like your example above but could be modified for tables, indexes, etc...):This is quick and elegant, but you need to make sure you have unique object names across all object types since it does not take that into account.I Hope this helps!I had the same error. I know this thread is pretty much dead already but I want to set another option besides "anonymous procedure".I solved it like this:Check if the stored procedure exist:However the "CREATE/ALTER PROCEDURE\' must be the first statement in a query batch" is still there. I solved it like this:I end up with this code:As of SQL SERVER 2016 you can use the new DROP PROCEDURE IF EXISTS.\nDROP { PROC | PROCEDURE } [ IF EXISTS ] { [ schema_name. ] procedure } [ ,...n ]Reference :\nhttps://msdn.microsoft.com/en-us/library/ms174969.aspxHere\'s a method and some reasoning behind using it this way. It isn\'t as pretty to edit the stored proc but there are pros and cons...UPDATE: You can also wrap this entire call in a TRANSACTION. Including many stored procedures in a single transaction which can all commit or all rollback. Another advantage of wrapping in a transaction is the stored procedure always exists for other SQL connections as long as they do not use the READ UNCOMMITTED transaction isolation level!1)  To avoid alters just as a process decision. Our processes are to always IF EXISTS DROP THEN CREATE. If you do the same pattern of assuming the new PROC is the desired proc, catering for alters is a bit harder because you would have an IF EXISTS ALTER ELSE CREATE.2) You have to put CREATE/ALTER as the first call in a batch so you can\'t wrap a sequence of procedure updates in a transaction outside dynamic SQL. Basically if you want to run a whole stack of procedure updates or roll them all back without restoring a DB backup, this is a way to do everything in a single batch.I apparently don\'t have the reputation required to vote or comment, but I just wanted to say that Geoff\'s answer using EXEC (sp_executesql might be better) is definitely the way to go.  Dropping and then re-creating the stored procedure gets the job done in the end, but there is a moment in time where the stored procedure doesn\'t exist at all, and that can be very bad, especially if this is something that will be run repeatedly.  I was having all sorts of problems with my application because a background thread was doing an IF EXISTS DROP...CREATE at the same time another thread was trying to use the stored procedure.**The simplest way to drop and recreate a stored proc in T-Sql is **I know it is a very old post, but since this appears in the top search results hence adding the latest update for those using SQL Server 2016 SP1 - This creates a Stored Procedure if does not already exist, but alters it if exists.ReferenceI know you want to "alter a procedure if it exists and only delete it if it does not exist" but I believe it\'s simpler to just always drop the procedure and then re-create it.  Here\'s how to drop the procedure only if it already exists:The second parameter tells OBJECT_ID to only look for objects with object_type = \'P\', which are stored procedures:AF = Aggregate function (CLR)C = CHECK constraintD = DEFAULT (constraint or stand-alone)F = FOREIGN KEY constraintFN = SQL scalar functionFS = Assembly (CLR) scalar-functionFT = Assembly (CLR) table-valued functionIF = SQL inline table-valued functionIT = Internal tableP = SQL Stored ProcedurePC = Assembly (CLR) stored-procedurePG = Plan guidePK = PRIMARY KEY constraintR = Rule (old-style, stand-alone)RF = Replication-filter-procedureS = System base tableSN = SynonymSO = Sequence objectTF = SQL table-valued-functionYou can get the full list of options via:why don\'t you go the simple way like ..........In Sql server 2008 onwards, you can use "INFORMATION_SCHEMA.ROUTINES"Check IF Exist For Stored ProcedureCheck IF Exist for Trigger , Function also by clicking below link http://www.gurujipoint.com/2017/05/check-if-exist-for-trigger-function-and.htmlThis is the standard way of creating a data base when you\'re adding new elements and don\'t want to disrupt the existing entities.If you need to modify a stored procedure before each launch, then maybe you can store its text as mere text in a varchar(max) column and execute it using sp_executesql.Although I can\'t see why ALTER PROCEDURE would be worse than that.In addition to the answer from @Geoff I\'ve created a simple tool which generates a SQL-file which statements for Stored Procedures, Views, Functions and Triggers.See MyDbUtils @ CodePlex.\nI wonder! Why i don\'t write the whole query likei already know that first two procedures are already exist sql will run the query will give the error of first two procedures but still it will create the last procedure \nSQl is itself taking care of what is already exist this is what i always do to all my clients! Here is the script that I use. With it, I avoid unnecessarily dropping and recreating the stored procs.CREATE Procedure IF NOT EXISTS \'Your proc-name\' () BEGIN ... END