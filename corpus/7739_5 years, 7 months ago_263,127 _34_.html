Is there any way to get both headers and body for a cURL request using PHP? I found that this option:is going to return the body plus headers, but then I need to parse it to get the body. Is there any way to get both in a more usable (and secure) way?Note that for "single request" I mean avoiding issuing a HEAD request prior of GET/POST.One solution to this was posted in the PHP documentation comments: http://www.php.net/manual/en/function.curl-exec.php#80442Code example:Warning: As noted in the comments below, this may not be reliable when used with proxy servers or when handling certain types of redirects. @Geoffrey\'s answer may handle these more reliably.Curl has a built in option for this, called CURLOPT_HEADERFUNCTION. The value of this option must be the name of a callback function. Curl will pass the header (and the header only!) to this callback function, line-by-line (so the function will be called for each header line, starting from the top of the header section). Your callback function then can do anything with it (and must return the number of bytes of the given line). Here is a tested working code:The above works with everything, different protocols and proxies too, and you dont need to worry about the header size, or set lots of different curl options.P.S.: To handle the header lines with an object method, do this:is this what are you looking to?Many of the other solutions offered this thread are not doing this correctly.The most correct method is using CURLOPT_HEADERFUNCTION.Here is a very clean method of performing this using PHP closures. It also converts all headers to lowercase for consistent handling across servers and HTTP versions.This version will retain duplicated headersThis complies with RFC822 and RFC2616, please do not suggest edits to make use of the mb_ string functions, it is incorrect!If you specifically want the Content-Type, there\'s a special cURL option to retrieve it:Just set options :CURLOPT_HEADER, 0CURLOPT_RETURNTRANSFER, 1and use curl_getinfo with CURLINFO_HTTP_CODE (or no opt param and you will have an associative array with all the informations you want)More at : http://php.net/manual/fr/function.curl-getinfo.phpWorks with HTTP/1.1 100 Continue before other headers.If you need work with buggy servers which sends only LF instead of CRLF as line breaks you can use preg_split as follows:My way isIf needed apply a for loop and remove the explode limit.The problem with many answers here is that "\\r\\n\\r\\n" can legitimately appear in the body of the html, so you can\'t be sure that you\'re splitting headers correctly.It seems that the only way to store headers separately with one call to curl_exec is to use a callback as is suggested above in https://stackoverflow.com/a/25118032/3326494And then to (reliably) get just the body of the request, you would need to pass the value of the Content-Length header to substr() as a negative start value.Be careful when you need the last stuff that returned from the server. This code may break your expectation while waiting for real (last) headers and body: list($headers, $body) = explode("\\r\\n\\r\\n", $result, 2);Here is simple way to get final headers & body parts;Return response headers with a reference parameter:If you don\'t really need to use curl;Which outputsSee http://php.net/manual/en/reserved.variables.httpresponseheader.php