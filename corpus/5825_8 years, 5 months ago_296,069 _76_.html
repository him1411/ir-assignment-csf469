How can I run a command-line application in the Windows command prompt and have the output both displayed and redirected to a file at the same time?If, for example, I were to run the command dir > test.txt, this would redirect output to a file called test.txt without displaying the results.How could I write a command to display the output and redirect output to a file in the Windows command prompt, similar to the tee command on Unix?I was able to find a solution/workaround of redirecting output to a file and then to the console:where dir is the command which output needs to be redirected, a.txt a file where to store output.There\'s a Win32 port of the Unix tee command, that does exactly that. See http://unxutils.sourceforge.net/ or http://getgnuwin32.sourceforge.net/To expand on davor\'s answer, you can use PowerShell like this:If you\'re trying to redirect the output of an exe in the current directory, you need to use .\\ on the filename, eg:Check this out: winteeNo need for cygwin.I did encounter and report some issues though.Also you might check unxutils because it contains tee (and no need for cygwin), but beware that output EOL\'s are UNIX-like here.Last, but not least, is if you have PowerShell, you could try Tee-Object. Type get-help tee-object in PowerShell console for more info.@tori3852I found thatdidn\'t work (first few lines of dir listing only - suspect some sort of process forking and the second part, the \'type\' command terminated before the dire listing had completed? ),\nso instead I used:which did - sequential commands, one completes before the second starts.Thanks.\nGood to find this stuff, appreciated.A simple C# console application would do the trick:To use this you just pipe the source command into the program and provide the path of any files you want to duplicate the output to.  For example:Will display the results of dir as well as store the results in both files1.txt and files2.txt.Note that there isn\'t much (anything!) in the way of error handling above, and supporting multiple files may not actually be required.Unfortunately there is no such thing. Windows console applications only have a single output handle. (Well, there are two STDOUT, STDERR but it doesn\'t matter here) The > redirects the output normally written to the console handle to a file handle.If you want to have some kind of multiplexing you have to use an external application which you can divert the output to. This application then can write to a file and to the console again.This works, though it\'s a bit ugly:It\'s a little more flexible than some of the other solutions, in that it works statement-by-statement so you can use it to append as well.  I use this quite a bit in batch files to log and display messages:Yes, you could just repeat the ECHO statement (once for the screen and the second time redirecting to the logfile), but that looks just as bad and is a bit of a maintenance issue.  At least this way you don\'t have to make changes to messages in two places.Note that _ is just a short filename, so you\'ll need to make sure to delete it at the end of your batch file (if you\'re using a batch file).mtee is a small utility which works very well for this purpose.  It\'s free, source is open, and it Just Works.You can find it at  http://www.commandline.co.uk.Used in a batch file to display output AND create a log file simultaneously, the syntax looks like this:Where /+ means to append output.This assumes that you have copied mtee into a folder which is in the PATH, of course.I agree with Brian Rasmussen, the unxutils port is the easiest way to do this. In the Batch Files section of his Scripting Pages Rob van der Woude provides a wealth of information on the use MS-DOS and CMD commands. I thought he might have a native solution to your problem and after digging around there I found TEE.BAT, which appears to be just that, an MS-DOS batch language implementation of tee. It is a pretty complex-looking batch file and my inclination would still be to use the unxutils port.I\xe2\x80\x99d like to expand a bit on Saxon Druce\xe2\x80\x99s excellent answer.As stated, you can redirect the output of an executable in the current directory like so:However, this only logs stdout to test.txt. It doesn\xe2\x80\x99t also log stderr.The obvious solution would be to use something like this:However, this won\xe2\x80\x99t work for all something.exes. Some something.exes will interpret the 2>&1 as an argument and fail. The correct solution is to instead only have apostrophes around the something.exe and it\xe2\x80\x99s switches and arguments, like so:dir 1>a.txt 2>&1 | type a.txtThis will help to redirect both STDOUT and STDERRIf you have cygwin in your windows environment path you can use:I was also looking for the same solution, after a little try, I was successfully able to achieve that in Command Prompt. Here is my solution :It even captures any PAUSE command as well.Here\'s a sample of what I\'ve used based on one of the other answersThis will create a log file with the current datetime and you can the console lines during the processI know this is a very old topic, but in previous answers there is not a full implementation of a real time Tee written in Batch. My solution below is a Batch-JScript hybrid script that use the JScript section just to get the output from the piped command, but the processing of the data is done in the Batch section. This approach have the advantage that any Batch programmer may modify this program to fit specific needs. This program also correctly process the output of CLS command produced by other Batch files, that is, it clear the screen when CLS command output is detected.Something like this should do what you need?send output to console, append to console log, delete output from current commandFollowing helps if you want something really seen on the screen - even if the batch file was redirected to a file. The device CON maybe used also if redirected to a fileExample:Also see good redirection description:  http://www.p-dd.com/chapter7-page14.htmlHow do I display and redirect output\n  to a file. Suppose if I use dos\n  command, dir > test.txt ,this command\n  will redirect output to file test.txt\n  without displaying the results. how to\n  write a command to display the output\n  and redirect output to a file using\n  DOS i.e., windows command prompt, not\n  in UNIX/LINUX.You may find these commands in biterscripting ( http://www.biterscripting.com ) useful.This works in real time but is also kind a ugly and the performance is slow.   Not well tested either:An alternative is to tee stdout to stderr within your program:in java:Then, in your dos batchfile: java program > log.txtThe stdout will go to the logfile and the stderr (same data) will show on the console.Just like unix dir | tee a.txt does work On windows XP, it requires mksnt installedIt displayes on the promt as well as appends to the fileI install perl on most of my machines so an answer using perl:  tee.pldir | perl tee.pl\nor \ndir | perl tee.pl dir.batcrude and untested.This is a variation on a previous answer by MTS, however it adds some functionality that might be useful to others.  Here is the method that I used:Here is the sequence of commands:Here is the example:set _Temp_Msg_Cmd= ^> %~n0_temp.txt 2^>^&1 ^& type %~n0_temp.txt ^>^> %~n0_log.txt ^& type %~n0_temp.txt ^& del /Q /F %~n0_temp.txtThis way then the command can simply be appended after later commands in a batch file that looks a lot cleaner:echo test message %_Temp_Msg_Cmd%This can be added to the end of other commands as well.  As far as I can tell it will work when messages have multiple lines.  For example the following command outputs two lines if there is an error message:net use M: /D /Y %_Temp_Msg_Cmd%I use a batch subroutine with a "for" statement to get the command output one line at a time and both write that line to a file and output it to the console.