I am currently testing my app with XCode 6 (Beta 6). UIActivityViewController works fine with iPhone devices and simulators but crashes with iPad simulators and devices (iOS 8) with following logsTerminating app due to uncaught exception \'NSGenericException\', reason: \'UIPopoverPresentationController (<_UIAlertControllerActionSheetRegularPresentationController: 0x7fc7a874bd90>) should have a non-nil sourceView or barButtonItem set before the presentation occurs.\'I am using following code for iPhone and iPad for both iOS 7 as well as 8I am getting a similar crash in of one my other app as well. Can you please guide me ? has anything changed with UIActivityViewController in iOS 8? I checked but i did not find anything on thisOn iPad the activity view controller will be displayed as a popover using the new UIPopoverPresentationController, it requires that you specify an anchor point for the presentation of the popover using one of the three following properties:In order to specify the anchor point you will need to obtain a reference to the UIActivityController\'s UIPopoverPresentationController and set one of the properties as follows:Same problem is come to my project then i found the solution that to open the UIActivityViewController in iPad we have to use UIPopoverControllerHere is a code to use it in iPhone and iPad bothFor swift 3I was encountering this exact problem recently (the original question) in Swift 2.0, where UIActivityViewController worked fine for iPhones, but caused crashes when simulating iPads.  I just want to add to this thread of answers here that, at least in Swift 2.0, you don\'t need an if statement.  You can just make the popoverPresentationController optional. As a quick aside, the accepted answer appears to be saying that you could have just a sourceView, just a sourceRect, or just a barButtonItem, but according to Apple\'s documentation for UIPopoverPresentationController you need one of the following:The particular example I was working on is below, where I am creating a function that takes in a UIView (for the sourceView and sourceRect) and String (the UIActivityViewController\'s sole activityItem). This code works on iPhone and iPad (and even tvOS I think) -- if the device does not support popoverPresentationController, the two lines of code that mention it are essentially ignored.  Kinda nice that all you need to do to make it work for iPads is just add two lines of code, or just one if you\'re using a barButtonItem!I see a lot of people hardcoding iPhone/iPad etc. while using Swift code.This is not needed, you have to use the language features. The following code assumes you will use a UIBarButtonItem and will work on both iPhone and iPad. Notice how there are no If statements or any other crazy thing. The optional unwrapping will be nil on iPhone, so the line vc.popoverPresentationController? will not do anything on iPhones.Solution using Xamarin.iOS.In my example I\'m doing a screen capture, producing an image, and allowing the user to share the image.  The pop up on the iPad is placed about in the middle of the screen.Swift, iOS 9/10 (after UIPopoverController deprecated)In Swift to fix this for iPad, best way is to do like this I found.Fix for Swift 2.0Swift:Swift 3:swift = ios7/ ios8I found this solution\nFirstly, your view controller that\'s presenting the popover should implement the <UIPopoverPresentationControllerDelegate> protocol.Next, you\'ll need to set the popoverPresentationController\'s delegate.Add these functions:I tried the next code and it works:first put a bar button item in your View Controller\nthen create an IBOutlet: @property(weak,nonatomic)IBOutlet UIBarButtonItem *barButtonItem;next in the .m file: yourUIActivityViewController.popoverPresentationController.barButtonItem = self.barButtonItem; For Swift 2.0.  I found that this works if you are trying to anchor the popover to a share button on iPad.  This assumes that you have created an outlet for the share button in your tool bar.  Be careful if you are developing for iPad using swift, it will work fine in debug, but will crash in release. In order to make it work with testFlight and AppStore, disable optimization for swift using -none for release.