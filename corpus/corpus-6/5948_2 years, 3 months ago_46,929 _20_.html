Just installed El Capitan and can\'t install gem eventmachine 1.0.7. openssl is at 1.0.2a-1. Tried to use --with-ssl-dir but it seems ignored.Reported it to their github repo as well.Any suggestions are really appreciated. Thanks.You can also set up bundler like this but I think that is superficialWhen using bundler and homebrew:Then:It also fixes:P.S. Probably you\'ll need to remove and run brew install openssl againThe issue happends because Apple had removed openssl from OSX (in El Captain build)pristine removes the old gem and recompiles it.The cpp flags option allows the compiler to find the openssl headers.You can also add the version if you like:If you\'re installing EventMachine as a dependency of another gem, be sure to specify the correct version when you manually install the gem:Then you can install the gem that you were originally trying to install:I was trying to install v 1.0.3 and this worked for me. These discussions were very helpful. https://github.com/eventmachine/eventmachine/issues/602One alternative is to add a bundler config entry for your whole user profile, like this:it\'ll create a .bundle/config file in your home directory, which is then used in all your projects when you run bundle install.This solved the problem for me:Source: https://github.com/sj26/mailcatcher/issues/254