Heroku has a policy of ignoring all branches but \'master\'.While I\'m sure Heroku\'s designers have excellent reasons for this policy (I\'m guessing for storage and performance optimization), the consequence to me as a developer is that whatever local topic branch I may be working on, I would like an easy way to switch Heroku\'s master to that local topic branch and do a "git push heroku -f" to over-write master on Heroku.What I got from reading the "Pushing Refspecs" section of http://progit.org/book/ch9-5.html isWhat I\'d really like is a way to set this up in the configuration file so that "git push heroku" always does the above, replacing local-topic-branch with the name of whatever my current branch happens to be.  If anyone knows how to accomplish that, please let me know!The caveat for this, of course, is that this is only sensible if I am the only one who can push to that Heroku app/repository. A test or QA team might manage such a repository to try out different candidate branches, but they would have to coordinate so that they all agree on what branch they are pushing to it on any given day.Needless to say, it would also be a very good idea to have a separate remote repository (like GitHub) without this restriction for backing everything up to. I\'d call that one "origin" and use "heroku" for Heroku so that "git push" always backs up everything to origin, and "git push heroku" pushes whatever branch I\'m currently on to Heroku\'s master branch, overwriting it if necessary.Would this work?I\'d like to hear from someone more experienced before I begin to experiment, although I suppose I could create a dummy app on Heroku and experiment with that.As for fetching, I don\'t really care if the Heroku repository is write-only. I still have a separate repository, like GitHub, for backup and cloning of all my work.Footnote: This question is similar to, but not quite the same as Good Git deployment using branches strategy with Heroku?When using a wildcard, it had to be present on both sides of the refspec, so +refs/heads/*:refs/heads/master will not work. But you can use +HEAD:refs/heads/master:Also, you can do this directly with git push:See https://devcenter.heroku.com/articles/git#deploying-codeYou should check out heroku_san, it solves this problem quite nicely.For example, you could:It also makes it easy to spin up new Heroku instances to deploy a topic branch to new servers:And of course you can make simpler rake tasks if you do something frequently.Also note that if your using the git flow system and your feature branch might be called and with a git remote called stagingtwo, then the command to push to heroku would beThe safest command to push different local Git branches to Heroku/master.Note: Although, you can push without using the -f, the -f (force flag) is recommended in order to avoid conflicts with other developers\xe2\x80\x99 pushes.I found this helpful.\nhttp://jqr.github.com/2009/04/25/deploying-multiple-environments-on-heroku.htmlHeroku labs now offers a github add-on that let\'s you specify which branch to push. See Heroku\'s write up on this beta feature. You\'ll need to sign-up as a beta tester for the time-being.I think it should bepush = refs/heads/*:refs/heads/*instead...