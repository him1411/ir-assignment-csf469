Is there a standard and reliable way of creating a temporary directory inside a Java application? There\'s an entry in Java\'s issue database, which has a bit of code in the comments, but I wonder if there is a standard solution to be found in one of the usual libraries (Apache Commons etc.) ?If you are using JDK 7 use the new Files.createTempDirectory class to create the temporary directory.Before JDK 7 this should do it:You could make better exceptions (subclass IOException) if you want.The Google Guava library has a ton of helpful utilities. One of note here is the Files class. It has a bunch of useful methods including:This does exactly what you asked for in one line. If you read the documentation here you\'ll see that the proposed adaptation of File.createTempFile("install", "dir") typically introduces security vulnerabilities.If you need a temporary directory for testing and you are using jUnit, @Rule together with TemporaryFolder solves your problem:From the documentation:The TemporaryFolder Rule allows creation of files and folders that are guaranteed to be deleted when the test method finishes (whether it passes or fails) Ref: http://junit.org/apidocs/org/junit/rules/TemporaryFolder.htmlNaively written code to solve this problem suffers from race conditions, including several of the answers here.  Historically you could think carefully about race conditions and write it yourself, or you could use a third-party library like Google\'s Guava (as Spina\'s answer suggested.) Or you could write buggy code.But as of JDK 7, there is good news! The Java standard library itself now provides a properly working (non-racy) solution to this problem. You want java.nio.file.Files#createTempDirectory(). From the documentation:Creates a new directory in the specified directory, using the given prefix to generate its name. The resulting Path is associated with the same FileSystem as the given directory.The details as to how the name of the directory is constructed is implementation dependent and therefore not specified. Where possible the prefix is used to construct candidate names.This effectively resolves the embarrassingly ancient bug report in the Sun bug tracker which asked for just such a function.This is the source code to the Guava library\'s Files.createTempDir(). It\'s nowhere as complex as you might think:By default:See hereDo not use deleteOnExit() even if you explicitly delete it later.Google \'deleteonexit is evil\' for more info, but the gist of the problem is:deleteOnExit() only deletes for normal JVM shutdowns, not crashes or killing the JVM process.deleteOnExit() only deletes on JVM shutdown - not good for long running server processes because:The most evil of all - deleteOnExit() consumes memory for each temp file entry. If your process is running for months, or creates a lot of temp files in a short time, you consume memory and never release it until the JVM shuts down.As of Java 1.7 createTempDirectory(prefix, attrs) and createTempDirectory(dir, prefix, attrs) are included in java.nio.file.FilesExample:\nFile tempDir = Files.createTempDirectory("foobar").toFile();This is what I decided to do for my own code:Well, "createTempFile" actually creates the file.  So why not just delete it first, and then do the mkdir on it?As discussed in this RFE and its comments, you could call tempDir.delete() first. Or you could use System.getProperty("java.io.tmpdir") and create a directory there. Either way, you should remember to call tempDir.deleteOnExit(), or the file won\'t be deleted after you\'re done.I got the same problem so this is just another answer for those who are interested, and it\'s similar to one of the above:And for my application, I decided that to add in a option to clear the temp on exit so I added in a shut-down hook:The method delete all subdirs and files before deleting the temp, without using the callstack (which is totally optional and you could do it with recursion at this point), but I want to be on the safe side.Just for completion, this is the code from google guava library. It is not my code, but I think it is valueable to show it here in this thread.This code should work reasonably well:I like the multiple attempts at creating a unique name but even this solution does not rule out a race condition.  Another process can slip in after the test for exists() and the if(newTempDir.mkdirs()) method invocation.  I have no idea how to completely make this safe without resorting to native code, which I presume is what\'s buried inside File.createTempFile().As you can see in the other answers, no standard approach has arisen.\nHence you already mentioned Apache Commons, I propose the following approach using FileUtils from Apache Commons IO:This is preferred since apache commons the library that comes as closest to the asked "standard" and works with both JDK 7 and older versions. This also returns an "old" File instance (which is stream based) and not a "new" Path instance (which is buffer based and would be the result of JDK7\'s getTemporaryDirectory() method) -> Therefore it returns what most people need when they want to create a temporary directory.Before Java 7 you could also:Using File#createTempFile and delete to create a unique name for the directory seems ok. You should add a ShutdownHook to delete the directory (recursively) on JVM shutdown. 