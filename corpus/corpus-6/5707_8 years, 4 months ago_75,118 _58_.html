I would like to put a Git project on GitHub but it contains certain files with sensitive data (usernames and passwords, like /config/deploy.rb for capistrano).I know I can add these filenames to .gitignore, but this would not remove their history within Git.I also don\'t want to start over again by deleting the /.git directory.Is there a way to remove all traces of a particular file in your Git history?For all practical purposes, the first thing you should be worried about is CHANGING YOUR PASSWORDS! It\'s not clear from your question whether your git repository is entirely local or whether you have a remote repository elsewhere yet; if it is remote and not secured from others you have a problem. If anyone has cloned that repository before you fix this, they\'ll have a copy of your passwords on their local machine, and there\'s no way you can force them to update to your "fixed" version with it gone from history. The only safe thing you can do is change your password to something else everywhere you\'ve used it.With that out of the way, here\'s how to fix it. GitHub answered exactly that question as an FAQ:Note for Windows users: use double quotes (") instead of singles in this command\nKeep in mind that once you\'ve pushed this code to a remote repository like GitHub and others have cloned that remote repository, you\'re now in a situation where you\'re rewriting history. When others try pull down your latest changes after this, they\'ll get a message indicating that the the changes can\'t be applied because it\'s not a fast-forward. To fix this, they\'ll have to either delete their existing repository and re-clone it, or follow the instructions under "RECOVERING FROM UPSTREAM REBASE" in the git-rebase manpage.In the future, if you accidentally commit some changes with sensitive information but you notice before pushing to a remote repository, there are some easier fixes. If you last commit is the one to add the sensitive information, you can simply remove the sensitive information, then run:That will amend the previous commit with any new changes you\'ve made, including entire file removals done with a git rm. If the changes are further back in history but still not pushed to a remote repository, you can do an interactive rebase:That opens an editor with the commits you\'ve made since your last common ancestor with the remote repository. Change "pick" to "edit" on any lines representing a commit with sensitive information, and save and quit. Git will walk through the changes, and leave you at a spot where you can:For each change with sensitive information. Eventually, you\'ll end up back on your branch, and you can safely push the new changes.Changing your passwords is a good idea, but for the process of removing password\'s from your repo\'s history, I recommend the BFG Repo-Cleaner, a faster, simpler alternative to git-filter-branch explicitly designed for removing private data from Git repos.Create a private.txt file listing the passwords, etc, that you want to remove (one entry per line) and then run this command:All files under a threshold size (1MB by default) in your repo\'s history will be scanned, and any matching string (that isn\'t in your latest commit) will be replaced with the string "***REMOVED***". You can then use git gc to clean away the dead data:The BFG is typically 10-50x faster than running git-filter-branch and the options are simplified and tailored around these two common use-cases:Full disclosure: I\'m the author of the BFG Repo-Cleaner.I recommend this script by David Underhill, worked like a charm for me.  It adds these commands in addition natacado\'s filter-branch to clean up the mess it leaves behind:Full script (all credit to David Underhill)The last two commands may work better if changed to the following:To be clear: The accepted answer is correct. Try it first. However, it may be unnecessarily complex for some use cases, particularly if you encounter obnoxious errors such as \'fatal: bad revision --prune-empty\', or really don\'t care about the history of your repo.An alternative would be:This will of course remove all commit history branches, and issues from both your github repo, and your local git repo. If this is unacceptable you will have to use an alternate approach.Call this the nuclear option.If you have already pushed to GitHub, the data is compromised even if you force push it away one second later because:GitHub keeps dangling commits for a long time.It is not clear if forever, nor if they have a standard manual procedure that can be done by contacting support. See: How to remove a dangling commit from GitHub?Dangling commits can be seen either through:Every commit you make shows on the event API as a type": "PushEvent", so it is possible to get its SHA through there. E.g. mine: https://api.github.com/users/cirosantilli/events/public (Wayback machine)There are scrappers like http://ghtorrent.org/ and https://www.githubarchive.org/ that regularly pool GitHub data and store it elsewhere. I could not find if they scrape the actual commit diff, but it is technically possible.To test this out, I have created a repo: https://github.com/cirosantilli/test-dangling and done:If you delete the repository however, commits do disappear even from the API immediately and give 404, e.g. https://api.github.com/repos/cirosantilli/test-dangling-delete/commits/8c08448b5fbf0f891696819f3b2b2d653f7a3824 This works even if you recreate another repository with the same name.So my recommended course of action is:change your credentialsif that is not enough (e.g. naked pics):Here is my solution in windowsgit filter-branch --tree-filter "rm -f \'filedir/filename\'" HEADgit push --forcemake sure that the path is correct\notherwise it won\'t workI hope it helpsYou can use git forget-blob.The usage is pretty simple git forget-blob file-to-forget. You can get more info herehttps://ownyourbits.com/2017/01/18/completely-remove-a-file-from-a-git-repository-with-git-forget-blob/It will disappear from all the commits in your history, reflog, tags and so onI run into the same problem every now and then, and everytime I have to come back to this post and others, that\'s why I automated the process.Credits to contributors from Stack Overflow that allowed me to put this togetherI\'ve had to do this a few times to-date. Note that this only works on 1 file at a time.Get a list of all commits that modified a file. The one at the bottom will the the first commit:git log --pretty=oneline --branches -- pathToFileTo remove the file from history use the first commit sha1 and the path to file from the previous command, and fill them into this command:git filter-branch --index-filter \'git rm --cached --ignore-unmatch <path-to-file>\' -- <sha1-where-the-file-was-first-added>..Use filter-branch:I think you are looking for this:So, It looks something like this:Now, add /config/deploy.rb in your .gitignore file. And your file will not get tracked by git.