I need a basic function to find the shortest distance between a point and a line segment.  Feel free to write the solution in any language you want; I can translate it into what I\'m using (Javascript).EDIT: My line segment is defined by two endpoints. So my line segment AB is defined by the two points A (x1,y1) and B (x2,y2).  I\'m trying to find the distance between this line segment and a point C (x3,y3).  My geometry skills are rusty, so the examples I\'ve seen are confusing, I\'m sorry to admit.Eli, the code you\'ve settled on is incorrect. A point near the line on which the segment lies but far off one end of the segment would be incorrectly judged near the segment. Update: The incorrect answer mentioned is no longer the accepted one.Here\'s some correct code, in C++. It presumes a class 2D-vector class vec2 {float x,y;}, essentially, with operators to add, subract, scale, etc, and a distance and dot product function (i.e. x1 x2 + y1 y2).EDIT: I needed a Javascript implementation, so here it is, with no dependencies (or comments, but it\'s a direct port of the above). Points are represented as objects with x and y attributes.EDIT 2: I needed a Java version, but more important, I needed it in 3d instead of 2d.Here is the simplest complete code in Javascript.x, y is your target point and x1, y1 to x2, y2 is your line segment. UPDATED: fix for 0 length line problem from comments. This is an implementation made for FINITE LINE SEGMENTS, not infinite lines like most other functions here seem to be (that\'s why I made this).Example is here.Python:AS3:JAVAThese were made from this.In F#, the distance from the point c to the line segment between a and b is given by:The vector d points from a to b along the line segment. The dot product of d/s with c-a gives the parameter of the point of closest approach between the infinite line and the point c. The min and max function are used to clamp this parameter to the range 0..s so that the point lies between a and b. Finally, the length of a+p-c is the distance from c to the closest point on the line segment.Example use:In my own question thread how to calculate shortest 2D distance between a point and a line segment in all cases in C, C# / .NET 2.0 or Java? I was asked to put a C# answer here when I find one: so here it is, modified from http://www.topcoder.com/tc?d1=tutorials&d2=geometry1&module=Static :I\'m @SO not to answer but ask questions so I hope I don\'t get million down votes for some reasons but constructing critic. I just wanted (and was encouraged) to share somebody else\'s ideas since the solutions in this thread are either with some exotic language (Fortran, Mathematica) or tagged as faulty by somebody. The only useful one (by Grumdrig) for me is written with C++ and nobody tagged it faulty. But it\'s missing the methods (dot etc.) that are called.It uses a parametric description of the segment, and projects the point into the line defined by the segment. As the parameter goes from 0 to 1 in the segment, if the projection is outside this bounds, we compute the distance to the corresponding enpoint, instead of the straight line normal to the segment.Plotting result:   Plot those points nearer than a cutoff distance:  Contour Plot:  For anyone interested, here\'s a trivial conversion of Joshua\'s Javascript code to Objective-C:I needed this solution to work with MKMapPoint so I will share it in case someone else needs it. Just some minor change and this will return the distance in meters :I don\'t know how you\'re representing lines and points, but here is all the mathematics you need to get started. Shouldn\'t be too hard to figure out what you need to do.Hey, I just wrote this yesterday. It\'s in Actionscript 3.0, which is basically Javascript, though you might not have the same Point class.Also, there\'s a pretty complete and readable discussion of the problem here: notejot.com For the lazy, here\'s my Objective-C port of @Grumdrig\'s solution above:Couldn\'t resist coding it in python :)\nDitto for fortran :) I\'m assuming you want to find the shortest distance between the point and a line segment; to do this, you need to find the line (lineA) which is perpendicular to your line segment (lineB) which goes through your point, determine the intersection between that line (lineA) and your line which goes through your line segment (lineB); if that point is between the two points of your line segment, then the distance is the distance between your point and the point you just found  which is the intersection of lineA and lineB; if the point is not between the two points of your line segment, you need to get the distance between your point and the closer of two ends of the line segment; this can be done easily by taking the square distance (to avoid a square root) between the point and the two points of the line segment; whichever is closer, take the square root of that one.Here is a more complete spelling out of Grumdrig\'s solution. This version also returns the closest point itself.Consider this modification to Grumdrig\'s answer above.  Many times you\'ll find that floating point imprecision can cause problems.   I\'m using doubles in the version below, but you can easily change to floats.  The important part is that it uses an epsilon to handle the "slop".  In addition, you\'ll many times want to know WHERE the intersection happened, or if it happened at all.  If the returned t is < 0.0 or > 1.0, no collision occurred.  However, even if no collision occurred, many times you\'ll want to know where the closest point on the segment to P is, and thus I use qx and qy to return this location.One line solution using arctangents:The idea is to move A to (0, 0) and rotate triangle clockwise to make C lay on X axis,\nwhen this happen, By will be the distance.C#One line C# (to be converted to SQL)Grumdrig\'s C++/JavaScript implementation was very useful to me, so I have provided a Python direct port that I am using. The complete code is here.Matlab code, with built-in "self test" if they call the function with no arguments:And now my solution as well......\n(Javascript)It is very fast because I try to avoid any Math.pow functions.As you can see, at the end of the function I have the distance of the line.code is from the lib http://www.draw2d.org/graphiti/jsdoc/#!/examplecoded in t-sqlthe point is (@px, @py) and the line segment runs from (@ax, @ay) to (@bx, @by)Looks like just about everyone else on StackOverflow has contributed an answer (23 answers so far), so here\'s my contribution for C#. This is mostly based on the answer by M. Katz, which in turn is based on the answer by Grumdrig.And here\'s a little test program. As you can see, I tried to measure the difference between using the version that avoids the Sqrt() method and the normal version. My tests indicate you can maybe save about 2.5%, but I\'m not even sure of that - the variations within the various test runs were of the same order of magnitude. I also tried measuring the version posted by Matti (plus an obvious optimization), and that version seems to be about 4% slower than the version based on Katz/Grumdrig code. Edit: Incidentally, I\'ve also tried measuring a method that finds the distance to an infinite line (not a line segment) using a cross product (and a Sqrt()), and it\'s about 32% faster.Here is devnullicus\'s C++ version converted to C#. For my implementation I needed to know the point of intersection and found his solution to work well.see the Matlab GEOMETRY toolbox in the following website:\nhttp://people.sc.fsu.edu/~jburkardt/m_src/geometry/geometry.htmlctrl+f and type "segment" to find line segment related functions. the functions "segment_point_dist_2d.m" and "segment_point_dist_3d.m" are what you need.The GEOMETRY codes are available in a C version and a C++ version and a FORTRAN77 version and a FORTRAN90 version and a MATLAB version.Here is same thing as the C++ answer but ported to pascal. The order of the point parameter has changed to suit my code but is the same thing.AutoHotkeys version based on Joshua\'s Javascript:Didn\'t see a Java implementation here, so I translated the Javascript function from the accepted answer to Java code:WPF version:C#Adapted from @GrumdrigHere is a page that goes over a construction for the distance between two lines. Along the way he works out the distance between a point and a line.Here\'s the code I ended up writing.  This code assumes that a point is defined in the form of {x:5, y:7}.  Note that this is not the absolute most efficient way, but it\'s the simplest and easiest-to-understand code that I could come up with.The above function is not working on vertical lines. Here is a function that is working fine!\nLine with points p1, p2. and CheckPoint is p;