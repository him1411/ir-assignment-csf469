The callback function in array_filter() only passes in the array\'s values, not the keys.If I have:What\'s the best way to delete all keys in $my_array that are not in the $allowed array?Desired output:PHP 5.6 introduced a third parameter to array_filter(), flag, that you can set to ARRAY_FILTER_USE_KEY to filter by key instead of value:Clearly this isn\'t as elegant as array_intersect_key($my_array, array_flip($allowed)), but it does offer the additional flexibility of performing an arbitrary test against the key, e.g. $allowed could contain regex patterns instead of plain strings.You can also use ARRAY_FILTER_USE_BOTH to have both the value and the key passed to your filter function. Here\'s a contrived example based upon the first, but note that I\'d not recommend encoding filtering rules using $allowed this way:With array_intersect_key and array_flip:I needed to do same, but with a more complex array_filter on the keys. Here\'s how I did it, using a similar method.This outputs the result:Here is a more flexible solution using a closure:Outputs:So in the function, you can do other specific tests.Regardless of how I like Vincent\'s solution for Ma\xc4\x8dek\'s problem, it doesn\'t actually use array_filter. If you came here from a search engine you maybe where looking for something like this (PHP >= 5.3):It passes the array you\'re filtering as a reference to the callback. As array_filter doesn\'t conventionally iterate over the array by increasing it\'s public internal pointer you have to advance it by yourself.What\'s important here is that you need to make sure your array is reset, otherwise you might start right in the middle of it.In PHP >= 5.4 you could make the callback even shorter:Here\'s a less flexible alternative using unset():The result of print_r($array) being:This is not applicable if you want to keep the filtered values for later use but tidier, if you\'re certain that you don\'t.If you are looking for a method to filter an array by a string occurring in keys, you can use:The result of print_r($mResult) is An adaption of this answer that supports regular expressionsOutputPerhaps an overkill if you need it just once, but you can use YaLinqo library* to filter collections (and perform any other transformations). This library allows peforming SQL-like queries on objects with fluent syntax. Its where function accepts a calback with two arguments: a value and a key. For example:(The where function returns an iterator, so if you only need to iterate with foreach over the resulting sequence once, ->toArray() can be removed.)* developed by meStarting from PHP 5.6, you can use the ARRAY_FILTER_USE_KEY flag in array_filter:\nOtherwise, you can use this function (from TestDummy):\nAnd here is an augmented version of mine, which accepts a callback or directly the keys:\nLast but not least, you may also use a simple foreach:With this function you can filter a multidimensional arrayarray filter function from php:$array - It is the input array$callback_function - The callback function to use\xef\xbc\x8c If the callback function returns true, the current value from array is returned into the result array.$flag - It is optional parameter, it will determine what arguments are sent to callback function. If this parameter empty then callback function will take array values as argument. If you want to send array key as argument then use $flag as ARRAY_FILTER_USE_KEY. If you want to send both keys and values you should use $flag as ARRAY_FILTER_USE_BOTH .For Example : Consider simple arrayIf you want to filter array based on the array key, We need to use ARRAY_FILTER_USE_KEY as third parameter of array function array_filter.If you want to filter array based on the array key and array value, We need to use ARRAY_FILTER_USE_BOTH as third parameter of array function array_filter.Sample Callback functions:It will output 