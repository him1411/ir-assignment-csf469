Most questions regarding this problem are due to missing Xcode; I have Xcode 4.2 installed.Install attempt:configure.log:GCC is available:Based on config.log (posted at bottom due to size) I tried symlinking gcc-4.2 to gcc and then installing:So I could probably just grab gcc elsewhere, but I\'m mostly concerned as to why this is happening. Shouldn\'t installing Xcode be enough?config.log:This answer was edited multiple times and now contains several alternative solutions. Try the simple \xe2\x80\x9cEdit 3\xe2\x80\x9d solution first.Ruby 1.9.3-p125 and later have official support for clang, so if you are installing such a version you should not need GCC. If you\xe2\x80\x99re installing an older version of Ruby, read on.To compile Ruby with GCC, you need a non-LLVM version of GCC, which is no longer included with XCode 4.2. Install it yourself (or downgrade to XCode 4.1 temporarily), then do CC=/usr/local/bin/gcc-4.2 rvm install 1.9.3 --enable-shared (substituting the path to your non-LLVM gcc).Edit: https://github.com/kennethreitz/osx-gcc-installer/downloads may help for installing GCC. There is also some info available by running rvm requirements.Edit 2: For an easier solution, you can try adding --with-gcc=clang to the arguments to configure for Ruby to use clang instead of GCC.Edit 3: rvm install 1.9.3 --with-gcc=clang does that for you.Note: With current versions of XCode you need to install the command-line tools separately from the XCode menu -> Preferences -> Downloads -> Components. This is a pre-requisite for doing any compiling with XCode on the command-line, not just Ruby.Note 2: If something doesn\'t work after following the steps, try doing a reboot or re-login to ensure that the environment gets set correctly.Note 3: Ruby versions prior to 1.9.3-p125 may not always be fully compatible with clang, so test your software thoroughly if using the \xe2\x80\x9cedit 3\xe2\x80\x9d solution in a production environment.SUMMARY FOR STACK OVERFLOWI was trying to install SiriProxy on a clean Lion installation on Xcode from App StoreI kept getting errors like :\nThe provided CC(/usr/bin/gcc) is LLVM based.\nAfter 2 days finally got it working with these two lines:Before that I had tried every stackoverflow article on Ruby and Lion so doing these may have done some setup that helped the above 2 steps work:Things I tried included:Running Install Xcode.app (I had downloaded from App Store - running this does futher installation)InstallingSet up CC in more /Users//.bash_profile First line came from SiriProxy install instruction\nhttps://github.com/plamoni/SiriProxy2nd line export CC never seemed to work. So dont add. It had many versions each pointing\nI finally used CC=/usr/bin/gcc-4.2 rvm install 1.9.3 --enable-sharedWorked for me. This was on a brand new Lion with Xcode (had no "traditional" GCC). OK I didn\'t have to install gcc-4.2 separately, I used the one delivered in XCode, but I had an issue where the --with-gcc=clang wasn\'t getting passed through. Added the following line to my .rvmrc:Worked as requiredNote my env is the followingOSXCodeGCCI tried using the answer of passing  --with-gcc=clang on the command line to the rvm upgrade command, but it didn\'t work, it didn\'t appear to get pass from rvm to configure. Apparently the problem in RVM of arguments not being passed to configure is fixed (in commit 1641ceb0 in 2011), but even after upgrading RVM to latest (via rvm get latest) it still didn\'t get passed. Using the .rvmrc file was the only way it would work for me.Edit3  : doesn\'t work, Try to install the gcc separately from https://github.com/kennethreitz/osx-gcc-installer/downloadsOnly answering here because I can can\'t up vote/comment on leandro\'s comment on the original question.  After spending days trying to get this to work, His solution was the one that finally got it working for me:edit3 didn\'work for me (Xcode 4.2.1), but after installing readlineand passing an extra parameter it installed successfully. You can try to install Command Line Tools for Xcode, it includes GCC, LLMV and other tools that excluded in Xcode 4.2 and higher.I will suggest brew from rvm requirements I have installed it while I have already installed latest Xcode Version 4.4 (4F250)Homebrew:If you are using Homebrew, you can install the apple-gcc42 and\n  required libraries from homebrew/dupes:This can live side by side with an existing Xcode 4.2+ install or\n  Command Line Tools for Xcode.And you can always doand then if necessary or any other installed program through brew (see the docs for explanation on those 2 commands), also you canon freenode (not #homebrew I think that is real homebrew beer and related)Just tell configure to use gcc instead of gcc-4.2 on Lion (Mac OSX 10.7.2)Compiling ruby-1.9.3 from sourceYou can see in your configure output:If you search the config.log you see:I had the same problem, so I run configure while selecting gcc instead of gcc-4.2:(I\'m not sure what is the configure: WARNING: unrecognized options: --with-libyaml-dir in your output I guess you figured that one out?)Download and use JewelryBox The official RVM GUI for Mac OS. Inside "Add Ruby" select your version of Ruby. Before installing, make sure you select "Use Clang" just as what Edit 3 of the accepted answer in this thread suggests.Got same issue, since I am using xcode 4.3.2 and Lion 10.7.3, and I changed my laptop few days ago and then transfer all contents from the old laptop. Apparently, some of binaries not get transfer over, such as gcc.ANd then I did following:Make sure you\'re on the latest rvm.  Using rvm 1.10.0 none of the above worked for me.  Furthermore, rvm get latest erroneously told me "You already have the latest version!" so I had to rvm implode and reinstall rvm (1.15.4), which automatically gave me ruby 1.9.3-p194 with no fuss.For me, none of the above worked as-is. What finally worked wasThe special trick was to remove the libsqllite that, according to the build log, was missing the required 64-bit architecture or something.A more recent simpler solution is to just use railsinstaller.org. It has osx-gcc packaged within it, so it\'s as easy as a download and install. After meddling with a new shell recently, i landed up mucking my rails environment. After trying many of the above solutions (which previously worked I might add), I landed up following the below steps to get things working again:The installer takes some time considering it installs git, rvm , homebrew and a bunch of other goodies.With brew you can install ruby in a one-liner:Worked out of the box for me on OS X 10.8.4. (If you want 2.0, just run brew install ruby instead)More generally, brew search ruby shows you the different repos available, and if you want to get really specific you can use brew versions ruby and checkout a specific version instead.You might need xcode and command-line tools, but brew\'s setup will check all that for you.Try: rvm install 1.9.3 --force-autoconf