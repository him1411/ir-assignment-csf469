This question already has an answer here:Using: \nbuildToolsVersion "22.0.1" , \ntargetSdkVersion 22 in my gradle file.I found that the useful getResources().getColor(R.color.color_name) is deprecated.What should I use instead?It looks like the best approach is to use: This will choose the Marshmallow two parameter method or the pre-Marshmallow method appropriately.well it\'s deprecated in android M so you must make exception for android M and lower. Just add current theme on getColor function. You can get current theme with getTheme().This will do the trick in fragment, you can replace getActivity() with getBaseContext(), yourContext, etc which hold your current context*p.s : color is deprecated in M, but drawable is deprecated in LI found that the useful getResources().getColor(R.color.color_name) is deprecated.It is not deprecated in API Level 21, according to the documentation.It is deprecated in the M Developer Preview. However, the replacement method (a two-parameter getColor() that takes the color resource ID and a Resources.Theme object) is only available in the M Developer Preview.Hence, right now, continue using the single-parameter getColor() method. Later this year, consider using the two-parameter getColor() method on Android M devices, falling back to the deprecated single-parameter getColor() method on older devices.You need to use ContextCompat.getColor(), which is part of the Support V4 Library (so it will work for all the previous API).As specified in the documentation, "Starting in M, the returned color will be styled for the specified Context\'s theme". SO no need to worry about it.You can add the Support V4 library by adding the following to the dependencies array inside your app build.gradle: