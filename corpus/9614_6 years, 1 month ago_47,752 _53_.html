Just wondering if anyone has tried using new Java 7 language features with Android?\nI know that Android reads the bytecode that Java spits out and turns it to dex. So I guess my question is can it understand the bytecode of Java 7?If you are using Android Studio, the Java 7 language should be enabled automatically without any patches. Try-with-resource requires API Level 19+, and NIO 2.0 stuff are missing. If you can\'t use Java 7 features, see @Nuno\'s answer on how to edit your build.gradle.The following is for historical interest only.A small part of Java 7 can certainly be used with Android (note: I have only tested on 4.1). First of all, you could not use Eclipse\'s ADT because it is hard-coded that only Java compiler 1.5 and 1.6 are compliant. You could recompile ADT but I find there is no simple way to do that aside from recompiling the whole Android together. But you don\'t need to use Eclipse. For instance, Android Studio 0.3.2, IntelliJ IDEA CE and other javac-based IDEs supports compiling to Android and you could set the compliance even up to Java 8 with:This only allows Java 7 language features, and you can hardly benefit from anything since a half of improvement also comes from the library. Features you could use are those which do not depend on the library:And these features cannot be used yet:... "yet" :) It turns out that, although Android\'s library is targeting for 1.6, the Android source does contain interfaces like AutoCloseable and traditional interfaces like Closeable does inherit from AutoCloseable (SafeVarargs is really missing, though). We could confirm its existence via reflection. They are hidden simply because the Javadoc has the @hide tag, which caused the "android.jar" not to include them.There is already as existing question How do I build the Android SDK with hidden and internal APIs available? on how to get those methods back. You just need to replace the existing "android.jar" reference of the current Platform with our customized one, then many of the Java 7 APIs will become available (the procedure is similar to that in Eclipse. Check Project Structure \xe2\x86\x92 SDKs.)In additional to AutoCloseable, (only) the following Java 7 library features are also revealed:That\'s basically all. In particular, NIO 2.0 does not exist, and Arrays.asList is still not @SafeVarargs.EDIT: At the time this was written, the latest release was Android 9 and Eclipse Indigo. Thing have changed since then.Yes, I have tried. But this is not a great test as the compatibility was limited to level 6 with no way (no simple way at least) to really use java 7:Then I installed the latest version of the Android SDK (EDIT: Honeycomb, API13, at the time this post was written). It found my JDK 7 and installed properly. The same for ADT.But I had a surprise when trying to compile and run a Hello Word Android app. The compatibility was set to Java 6 with no way to force it to Java 7:So I had Hello World working, and also other apps, more complicated and using SQLite, Listview, Sensor and Camera, but this only proves that the compatibility handling of Java 7 seems to be well done and working with Android.So, did someone try with the good old Ant, to bypass the Eclipse limitation seen above?Anyway, the SDK is designed to be used with Java 5 or 6, as explained here.We may have something working with Java 7, but it would be working "by accident". The building of the DEX may work properly or not, and once the DEX built, it may work or not. This because using a non-qualified JDK gives unpredictable results by definition.Even if someone has succesfully built an Android app under plain Java 7, this does not qualify the JDK. The same process applied to another application may fail, or the resulting application may have bugs tied to the use of that JDK. Not recommended.For those who are involved on webapps development, this exactly the same as deploying a web application built under Java 5 or 6 under an application server qualified for Java 4 only (let\'s say Weblogic 8 for example). This may work, but this is not something that can be recommended for other purposes than trying.Quote from dalvikvm.com:dx, included in the Android SDK, transforms the Java Class files of Java classes compiled by a regular Java compiler into another class file format (the .dex format)That means, the .java source file does not matter, it\'s only the .class bytecode.As far as I know, only invokedynamic was added to the JVM bytecode in Java 7, the rest is compatible to Java 6. The Java language itself does not use invokedynamic. Other new features, like the switch statement using Strings or the multi-catch are just syntatic sugar and did not require byte code changes. For example, the multi-catch just copies the catch-block for each possible exception.The only problem should be that the new classes introduced in Java 7 are missing in Android, like AutoCloseable, so I\'m not sure if you can use the try-with-resources feature (somebody tried it?).Any comments on that? Am I missing something?As of the Android SDK v15, along with Eclipse 3.7.1, Java 7 is not supported for Android development. Setting the source compatibility to 1.7 mandates setting the generated .class file compatibility to 1.7, which leads to the following error by the Android compiler:Android requires compiler compliance level 5.0 or 6.0. Found \'1.7\' instead. Please use Android Tools > Fix Project Properties.To expand on the above answer by @KennyTM, if you are targeting 4.0.3 and above (minSdkVersion=15), you can use the hidden APIs by adding a few classes to your target\'s SDK android.jar.Once you do this, you can use try-with-resources on any Closeable, as well as implement AutoCloseable in your own classes.I\'ve made a zip containing sources and binaries of all the classes that needed to be modified in android.jar to make these APIs available. You just need to unpack it and add the binaries to your android-sdk/platforms/android-NN/android.jarYou can download it from here: http://db.tt/kLxAYWbrAlso of note is that, in the past couple of months, Elliott Hughes has made a few commits to the Android tree: finished off AutoCloseable, added SafeVarargs, unhidden various APIs, fixed Throwable\'s protected constructor and added support for version 51 class files in dx. So, there is finally some progress going on.Edit (April 2014):With the release of SDK 19 it is no longer necessary to patch android.jar with the additional APIs.The best method to use try-with-resources in Android Studio for an app that targets 4.0.3 and above (minSdkVersion=15) is add the following compileOptions to your build.gradle:Android Studio will complain that try-with-resources can\'t be used with this API level, but my experience is that it can. The project will build and run without issue on devices with 4.0.3 and above. I\'ve experienced no issues with this, with an app that has been installed into 500k+ devices.To ignore this warning, add the following to your lint.xml:It seems that getting this to work with pure ant is a bit of a kludge.But it worked for me: http://www.informit.com/articles/article.aspx?p=1966024In order to use Java 7 features in code build by Android\'s ant based build system, simply put the following in your custom_rules.xml in your projects root directory:custom_rules.xml:Some people might be interested in this git project I\'ve found, that seems to allow to run Java 7 on android. \nhttps://github.com/yareally/Java7-on-AndroidHowever too much of a risk if I add this in the current project I work on. So I\'ll wait until Google to officially support Java 7.