What are the best JVM settings you have found for running Eclipse?It is that time of year again: "eclipse.ini take 3" the settings strike back! alt text http://www.eclipse.org/home/promotions/friends-helios/helios.pngAfter settings for Eclipse Ganymede 3.4.x and Eclipse Galileo 3.5.x, here is an in-depth look at an "optimized" eclipse.ini settings file for Eclipse Helios 3.6.x:(by "optimized", I mean able to run a full-fledge Eclipse on our crappy workstation at work, some old P4 from 2002 with 2Go RAM and XPSp3. But I have also tested those same settings on Windows7)WARNING: for non-windows platform, use the Sun proprietary option -XX:MaxPermSize instead of the Eclipse proprietary option --launcher.XXMaxPermSize.\nThat is: Unless you are using the latest jdk6u21 build 7. \nSee the Oracle section below.Note:\nAdapt the p2.reconciler.dropins.directory to an external directory of your choice.\nSee this SO answer.\nThe idea is to be able to drop new plugins in a directory independently from any Eclipse installation.The following sections detail what are in this eclipse.ini file.  Andrew Niefer did alert me to this situation, and wrote a blog post, about a non-standard vm argument (-XX:MaxPermSize) and can cause vms from other vendors to not start at all.\nBut the eclipse version of that option (--launcher.XXMaxPermSize) is not working with the new JDK (6u21, unless you are using the 6u21 build 7, see below).The final solution is on the Eclipse Wiki, and for Helios on Windows with 6u21 pre build 7 only:That\'s it. No setting to tweak here (again, only for Helios on Windows with a 6u21 pre build 7).\nFor non-Windows platform, you need to revert to the Sun proprietary option -XX:MaxPermSize.The issue is based one a regression: JVM identification fails due to Oracle rebranding in java.exe, and triggered bug 319514 on Eclipse.\nAndrew took care of  Bug 320005 -  [launcher] --launcher.XXMaxPermSize: isSunVM should return true for Oracle, but that will be only for Helios 3.6.1.\nFrancis Upton, another Eclipse committer, reflects on the all situation.Update u21b7, July, 27th:\nOracle have regressed the change for the next Java 6 release and won\'t implement it again until JDK 7.\nIf you use jdk6u21 build 7, you can revert to the --launcher.XXMaxPermSize (eclipse option) instead of -XX:MaxPermSize (the non-standard option).\nThe auto-detection happening in the C launcher shim eclipse.exe will still look for the "Sun Microsystems" string, but with 6u21b7, it will now work - again.For now, I still keep the -XX:MaxPermSize version (because I have no idea when everybody will launch  eclipse the right JDK).Contrary to the previous settings, the exact path for those modules is not set anymore, which is convenient since it can vary between different Eclipse 3.6.x releases:The JDK6 is now explicitly required to launch Eclipse:This SO question reports a positive incidence for development on Mac OS.The following options are part of some of the experimental options of the Sun JVM.They have been reported in this blog post to potentially speed up Eclipse.\nSee all the JVM options here and also in the official Java Hotspot options page.\nNote: the detailed list of those options reports that UseFastAccessorMethods might be active by default.  See also "Update your JVM":As a reminder, G1 is the new garbage collector in preparation for the JDK 7, but already used in the version 6 release from u17.See the blog post from Andrew Niefer reporting this new option:This tells the launcher that if it is called with a command line that only contains arguments that don\'t start with "-", then those arguments should be treated as if they followed "--launcher.openFile".This is the kind of command line the launcher will receive on windows when you double click a file that is associated with eclipse, or you select files and choose "Open With" or "Send To" Eclipse.Relative paths will be resolved first against the current working directory, and second against the eclipse program directory.See bug 301033 for reference. Originally bug 4922 (October 2001, fixed 9 years later).If you are tired of this dialog box during the installation of your many plugins:, add in your eclipse.ini:See this blog post from Chris Aniszczy, and the bug report 235526. I do want to say that security research supports the fact that less prompts are better.\n  People ignore things that pop up in the flow of something they want to get done.For 3.6, we should not pop up warnings in the middle of the flow - no matter how much we simplify, people will just ignore them.\n  Instead, we should collect all the problems, do not install those bundles with problems, and instead bring the user back to a point in the workflow where they can fixup - add trust, configure security policy more loosely, etc. This is called \'safe staging\'.---------- http://www.eclipse.org/home/categories/images/wiki.gif alt text http://www.eclipse.org/home/categories/images/wiki.gif alt text http://www.eclipse.org/home/categories/images/wiki.gifThose options are not directly in the eclipse.ini above, but can come in handy if needed.When eclipse starts, it will read its keystore file (where passwords are kept), a file located in user.home.\nIf for some reason that user.home doesn\'t resolve itself properly to a full-fledge path, Eclipse won\'t start.\nInitially raised in this SO question, if you experience this, you need to redefine the keystore file to an explicit path (no more user.home to resolve at the start)Add in your eclipse.ini:This has been tracked by bug 300577, it has been solve in this other SO question.Wait, there\'s more than one setting file in Eclipse.\nif you add to your eclipse.ini the option:, you enable the debug mode and Eclipse will look for another setting file: a .options file where you can specify some OSGI options.\nAnd that is great when you are adding new plugins through the dropins folder.\nAdd in your .options file the following settings, as described in this blog post "Dropins diagnosis":P2 will inform you what bundles were found in dropins/ folder, what request was generated, and what is the plan of installation. Maybe it is not detailed explanation of what actually happened, and what went wrong, but it should give you strong information about where to start:That comes from Bug 264924 - [reconciler] No diagnosis of dropins problems, which finally solves the following issue like:This is a problematic configuration since OCL depends on EMF which is missing.\n  3.5M5 provides no diagnosis of this problem.Start eclipse.\n  No obvious problems. Nothing in Error Log.Where are the nice error markers?See this blog post:That means some of your projects might no longer compile in Helios.\nIf you want to revert to Galileo behavior, add:See bug 305037, bug 313965 and bug 313890 for references.This SO question mentions a potential fix when not accessing to plugin update sites:Mentioned here just in case it could help in your configuration.This article reports:For the record, the very fastest options I have found so far for my bench test with the 1.7 x64 JVM n Windows are: But I am still working on it... Currently (November 2009), I am testing with jdk6 update 17 the following configuration set of options (with Galileo -- eclipse 3.5.x, see below for 3.4 or above for Helios 3.6.x):\n(of course, adapt the relative paths present in this eclipse.ini to the correct paths for your setup)Note: for eclipse3.5, replace startup and launcher.library lines by:See also my original answer above for more information.There was a bug with ignored breakpoints actually related to the JDK.\nDo use JDK6u16 or more recent for launching eclipse (You can then define as many JDKs you want to compile within eclipse: it is not because you launch an eclipse with JDK6 that you will have to compile with that same JDK).Note the usage of:As documented in the Eclipse Wiki, Eclipse 3.3 supports a new argument to the launcher: --launcher.XXMaxPermSize.\n  If the VM being used is a Sun VM and there is not already a -XX:MaxPermSize= VM argument, then the launcher will automatically add -XX:MaxPermSize=256m to the list of VM arguments being used.\n  The 3.3 launcher is only capable of identifying Sun VMs on Windows.As detailed in this entry:Not all vms accept the -XX:MaxPermSize argument which is why it is passed in this manner. There may (or may not) exist problems with identifying sun vms.\n  Note: Eclipse 3.3.1 has a bug where the launcher cannot detect a Sun VM, and therefore does not use the correct PermGen size. It seems this may have been a known bug on Mac OS X for 3.3.0 as well.\n  If you are using either of these platform combination, add the -XX flag to the eclipse.ini as described above.Notes:The -vmargs -XX:MaxPermSize=384m part is the argument passed directly to the VM, bypassing the launcher entirely and no check on the VM vendor is used.For more recent settings, see Eclipse Galileo 3.5 settings above.  The best JVM setting always, in my opinion, includes the latest JDK you can find (so for now, jdk1.6.0_b07 up to b16, except b14 and b15)Even with those pretty low memory settings, I can run large java projects (along with a web server) on my old (2002) desktop with 2Go RAM.See GKelly\'s SO answer and Piotr Gabryanczyk\'s blog entry for more details about the new options.You can also consider launching:As said in a previous question about memory consumption.Settings for Sun/Oracle java version "1.6.0_31" and Eclipse 3.7 running on x86-64 Linux:Note that this uses only 200 MB for the heap and 150 MB for the non-heap. If you\'re using\nhuge plugins, you might want to increase both the "-Xmx200m" and "-XX:MaxPermSize=150m" limits.The primary optimization target for these flags has been to minimize latency in all cases and as a secondary optimization target minimize the memory usage.-showlocationTo make it easier to have eclipse running twice, and know which workspace you\'re dealing withEclipse 3.6 adds a preferences option to specify what to show for the Workspace name (shown in window title) which works much better than -showlocation for three reasons:If you\'re going with jdk6 update 14, I\'d suggest using using the G1 garbage collector which seems to help performance.To do so, remove these settings:-XX:+UseConcMarkSweepGC\n-XX:+CMSIncrementalMode\n-XX:+CMSIncrementalPacingand replace them with these:-XX:+UnlockExperimentalVMOptions\n-XX:+UseG1GCIf you are using Linux + Sun JDK/JRE 32bits, change the "-vm" to:If you are using Linux + Sun JDK/JRE 64bits, change the "-vm" to:That\'s working fine for me on Ubuntu 8.10 and 9.04You can also try running with JRockit. It\'s a JVM optimized for servers, but many long running client applications, like IDE\'s, run very well on JRockit. Eclipse is no exception. JRockit doesn\'t have a perm-space so you don\'t need to configure it. It\'s possible set a pause time target(ms) to avoid long gc pauses stalling the UI. I usually don\'t bother setting -Xmx and -Xms and let JRockit grow the heap as it sees necessary. If you launch your Eclipse application with JRockit you can also monitor, profile and find memory leaks in your application using the JRockit Mission Control tools suite. You download the plugins from this update site. Note, only works for Eclipse 3.3 and Eclipse 3.4Here\'s my own setting for my Eclipse running on i7 2630M 16GB RAM laptop, this setting has been using for a week, without a single crashing, and Eclipse 3.7 is running smoothly.Calculations:\nFor Win 7 x64And these setting have worked like a charm for me. I am running OS X10.6 , Eclipse 3.7 Indigo , JDK1.6.0_24My own settings (Java 1.7, modify for 1.6):Eclipse likes lots of RAM.  Use at least -Xmx512M.  More if available.If youre like me and had problems with the current Oracle release of 1.6 then you might want to update your JDK or set XX:+UseParallelGC that\'s the most awesome option ever!!!-vm\nC:\\Program Files\\Java\\jdk1.6.0_07\\jre\\bin\\client\\jvm.dllTo specify which java version you are using, and use the dll instead of launching a javaw processHere\'s what I use (though I have them in the shortcut instead of the settings file):eclipse.exe -showlocation -vm "C:\\Java\\jdk1.6.0_07\\bin\\javaw.exe" -vmargs -Xms256M -Xmx768M -XX:+UseParallelGC -XX:MaxPermSize=128M