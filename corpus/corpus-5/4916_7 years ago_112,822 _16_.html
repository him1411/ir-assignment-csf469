The below function works fine on Opera, Firefox and Chrome. However, in IE8 it fails on the if ( allowed.indexOf(ext[1]) == -1) part.Does anyone know why? Is there any obvious mistake?Versions of IE before IE9 don\'t have an .indexOf() function for Array, to define the exact spec version, run this before trying to use it:This is the version from MDN, used in Firefox/SpiderMonkey. In other cases such as IE, it\'ll add .indexOf() in the case it\'s missing... basically IE8 or below at this point.If you\'re using jQuery, you can use $.inArray() instead.If you\'re using jQuery and want to keep using indexOf without worrying about compatibility issues, you can do this :This is helpful when you want to keep using indexOf but provide a fallback when it\'s not available.For a really thorough explanation and workaround, not only for indexOf but other array functions missing in IE check out the StackOverflow question Fixing JavaScript Array functions in Internet Explorer (indexOf, forEach, etc.)Please careful with $.inArray if you want to use it.\nI just found out that the $.inArray is only works with "Array", not with String.\nThat\'s why this function will not working in IE8!The jQuery API make confusionThe $.inArray() method is similar to JavaScript\'s native .indexOf()\n  method in that it returns -1 when it doesn\'t find a match. If the\n  first element within the array matches value, $.inArray() returns 0--> They shouldn\'t say it "Similar". Since indexOf support "String" also!IE<=8 simply doesn\'t have an indexOf() method for arrays.If you need indexOf in IE<=8, you should consider using the following polyfill, which is recommended at the MDN :Minified :You can use this to replace the function if it doesn\'t exist: