I am trying to run my tests on TeamCity which is currently installed on my machine.System.InvalidOperationException: The Entity Framework provider type\n  \'System.Data.Entity.SqlServer.SqlProviderServices,\n  EntityFramework.SqlServer, Version=6.0.0.0, Culture=neutral,\n  PublicKeyToken=b77a5c561934e089\' for the \'System.Data.SqlClient\'\n  ADO.NET provider could not be loaded. Make sure the provider assembly\n  is available to the running application. See http://go.microsoft.com/fwlink/?LinkId=260882 for more\n  information..I have no reference to System.Data.Entity in any of my projects as was suggested on codeplex for upgrading to EF6.So, I am not sure why am I getting this exception.\nI do not get any such exception when I run the tests from VS.I did try to set CopyLocal to false then again to true.. but that does not seem to work either.Update My app.config has the following . Does this cause some behavior that I don\'t understand ?I get the following stacktrace in teamcity .Same problem, but i installed EF 6 through Nuget. EntityFramework.SqlServer was missing for another executable. I simply added the nuget package to that project.I had the same problem in my Test projects - I installed the latest EF6 bits via NuGet and everytime I invoke something EF-related I got:The Entity Framework provider type\n  \'System.Data.Entity.SqlServer.SqlProviderServices,\n  EntityFramework.SqlServer\' for the \'System.Data.SqlClient\' ADO.NET\n  provider could not be loaded.  Make sure the provider assembly is\n  available to the running application.  See\n  http://go.microsoft.com/fwlink/?LinkId=260882 for more information.My workaround: I placed this method inside my test project:This method is never been called, but I think the compiler will remove all "unnecessary" assemblies and without using the EntityFramework.SqlServer stuff the test fails. Anyways: Works on my machine ;)Note: Instead of adding the method to test project you can ensure a static reference to SqlProviderServices from your Model/entity project.Nuget will configure your EF6 project to reference EntityFramework.SqlServer.dll. This deploys to the output folder for your EF6 project during build, but it will not deploy to the output folder for projects referencing your EF6 project. I believe this is because Visual Studio is "smart" enough to detect that nothing in your assembly is actually using the dll directly and so does not include it. You can force EntityFramework.SqlServer.dll to be deployed to the output folder of projects referencing your EF6 project (unit tests, UI\'s etc.) by adding code to your EF6 project that uses EntityFramework.SqlServer.dll. Be careful not to put the code in a generated class as you risk losing it on next regen. I chose to add the following class to the assembly, which fixed the problem.My solution was to remove the entity framework from the project via the nuget manager and add it back in.I solved this by adding an using stament on top of my DBContext class, like so:I\'ve used Code-based registration for provider.\nlink1\nlink2Just created the configuration class likeKey point is this.SetProviderServices(SqlProviderServices.ProviderInvariantName, SqlProviderServices.Instance);and used it in the such wayI sorted it out with [DeploymentItem] on my assembly initializing classI have problem, because I don\'t add reference to EntityFramework.sqlServer.dll.\nWhen I develop program, it works. But when I publish app and install it, it throws error.I just add reference and Build and Publish again.I finally resolved this. Turns out, I had an erroneous implementation of IDIsposable in my repository class. I fixed that. \nThe erroneous implementation caused a stackoverflow exception since I wasn\'t disposing off resources properly. This caused VS not to run the tests and the test execution engine crashed. I filed it with Microsoft here ( this was before I got the correct solution).\nconnect.microsoft.com/VisualStudio/feedback/details/775868/vs-test-execution-crashes-in-vs-2012#detailsAnyway, the builds now run fine on teamcity. ALthough, I am still curious why neither VS Test execution engine had a graceful way of telling me what was happening not Team City.I discovered the root cause by manually debugging the test ( which I only realised after so many days , the fix took me 5 seconds).Hopefully this will help someone who comes across such issues.I see similar problem, and using the method from this post: (http://entityframework.codeplex.com/workitem/1590), which solves my problem. To work around the issue you can make your test assembly directly reference the provider assembly by adding some line like this anywhere in the test assembly:\nvar _ = System.Data.Entity.SqlServer.SqlProviderServices.Instance;I have solved this by manually copying EntityFramework.SqlServer.dll file to the bin folder of the main application.Late to the party, but the top voted answers all seemed like hacks to me.All I did was remove the following from my app.config in the test project.  Worked.When I inspected the problem, I have noticed that the following dll were missing in the output folder. The simple solution is copy Entityframework.dll and Entityframework.sqlserver.dll with the app.config to the output folder if the application is on debug mode. At the same time change, the build option parameter "Copy to output folder" of app.config to copy always. This will solve your problem.I checked Debug Output window in Unit Test project.  EntityFramework.SqlServer.dll was not loaded. After adding it to the bin folder tests were run successfully.Simply reference or browser the EF dll - EntityFramework.SqlServer.dllI didn\'t want a reference to EF in my application project (or to manually copy anything) so I added this to my EF project\'s Post-build events:This only happens inside my load/unit testing projects. Frustrating, I jyst had it crop up in a project I have been running for 2 years. Must have been some order of test running that breaks things. I guess once that fi gets removed its gone. I found that simply declaring a variable that uses the correct value fixes the issue... I never even call the method. Just define it. Odd but it works.I just had the same error message.I have a separate project for my data access. Running the Web Project (which referenced the data project) locally worked just fine. But when I deployed the web project to azure the assembly: EntityFramework.SqlServer was not copied. I just added the reference to the web project and redeployed, now it works. hope this helps othersI was working on the Contoso University tutorial offline and encountered the same issue when trying to create my first controller using EF.\nI had to use the Package Manager Console to load EF from the nuget cache and created a connection string to my local instance of SQL Server, my point here is my webConfig setting for EF may not be set as you all out there but I was able to resolve my issue by completely deleting the "providers" section within "entityFramework"RobertThere is a easy fix. open the references in your project, right click "System.Data" -> properties. Change "Copy Local" to "True". Problem should be fixed.In my case I resolved the problem by installing SQL Server 2012 Developer Edition when I had previously installed SQL Server Express 2012 (x64). It seems that provided me with the missing dependency.Adding Entityframework.dll and Entityframework.sqlserver.dll  to the reference project solved the issue.remove the entity framework from the project via nuget then add it back in.In my case dll was not copied although I added a reference to it. This is because EntityFramework.SqlServer.dllis not copied into your project. Add that dll and it will hopefully work.You can find that from the project where you added datamodel.Additional to all useful suggestions here, if you are using EF 6.1.3, get sure your project\'s .net version is 4.5 or more.The problem in my case was that in order to catch another exception I had enabled common language runtime (CLR) exceptions. And I forgot to disable it.I disabled it in my exception setting. and it overlooked this exception and went on to run and create a db for me (in my case) automatically.Make sure EntityFramework.dll, EntityFramework.SqlServer.dll and your provider\'s dll (for SQL Server Compact, that will EntityFramework.SqlServerCompact.dll) are in the deployed application folder. This is especially important for deployed application.