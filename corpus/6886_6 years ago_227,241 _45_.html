Perhaps it\'s the time, perhaps it\'s me drowning in sparse documentation and not being able to wrap my head around the concept of updating in Mongoose :)Here\'s the deal: I have a contact schema and model (shortened properties):I receive a request from the client, containing the fields I need and use my model thusly:And now we reach the problem:So the bottom line, after all I tried: given a document contact, how do I update it if it exists, or add it if it doesn\'t?Thanks for your time.Mongoose now supports this natively with findOneAndUpdate (calls MongoDB findAndModify). The upsert = true option creates the object if it doesn\'t exist. defaults to false.Edit: Mongoose does not support these hooks with this method:I just burned a solid 3 hours trying to solve the same problem. Specifically, I wanted to "replace" the entire document if it exists, or insert it otherwise. Here\'s the solution:I created an issue on the Mongoose project page requesting that info about this be added to the docs.You were close withbut your second parameter should be an object with a modification operator for exampleWell, I waited long enough and no answer. Finally gave up the whole update/upsert approach and went with:Does it work? Yep. Am I happy with this? Probably not. 2 DB calls instead of one.\nHopefully a future Mongoose implementation would come up with a Model.upsert function.I created a StackOverflow account JUST to answer this question.  After fruitlessly searching the interwebs I just wrote something myself.  This is how I did it so it can be applied to any mongoose model. Either import this function or add it directly into your code where you are doing the updating.Then to upsert a mongoose document do the following,This solution may require 2 DB calls however you do get the benefit of,Just remember that the destination object will always override the source even if the source has an existing valueAlso, for arrays, if the existing object has a longer array than the one replacing it then the values at the end of the old array will remain. An easy way to upsert the entire array is to set the old array to be an empty array before the upsert if that is what you are intending on doing.UPDATE - 01/16/2016\nI added an extra condition for if there is an array of primitive values, Mongoose does not realize the array becomes updated without using the "set" function.I needed to update/upsert a document into one collection, what I did was to create a new object literal like this:composed from data that I get from somewhere else in my database and then call update on the Modelthis is the ouput that I get after running the script for the first time:And this is the output when I run the script for the second time:I\'m using mongoose version 3.6.16Very elegant solution you can achieve by using chain of Promises:Here is a better approach to solving the update method in mongoose, you can check Scotch.io for more details. This definitely worked for me!!!There is a bug introduced in 2.6, and affects to 2.7 as wellThe upsert used to work correctly on 2.4https://groups.google.com/forum/#!topic/mongodb-user/UcKvx4p4hnY\nhttps://jira.mongodb.org/browse/SERVER-13843Take a look, it contains some important infoIt doesnt mean upsert does not work. Here is a nice example of how to use it:For anyone arriving here still looking for good a solution for "upserting" with hooks support, this is what I have tested and working.  It still requires 2 DB calls but is much more stable than anything I\'ve tried in a single call.If generators are available it becomes even more easier:Here\'s the simplest solution that creates/updates and also calls the middleware and validators.This coffeescript works for me with Node - the trick is that the _id get\'s stripped of its ObjectID wrapper when sent and returned from the client and so this needs to be replaced for updates (when no _id is provided, save will revert to insert and add one).I just came back to this issue after awhile, and decided to publish a plugin based on the answer by Aaron Mast. https://www.npmjs.com/package/mongoose-recursive-upsertUse it as a mongoose plugin. It sets up a static method to recursively merge the object passed in. to build on what Martin Kuzdowicz posted above.  I use the following to do an update using mongoose and a deep merge of json objects.  Along with the model.save() function in mongoose this allows mongoose to do a full validation even one that relies on other values in the json.  it does require the deepmerge package https://www.npmjs.com/package/deepmerge.  But that is a very light weight package.  No other solution worked for me. I\'m using a post request and updating data if found else insert it, also _id is sent with the request body that\'s needs to be removed.After reading the posts above, I decided to use this code:if r is null, we create new item. Otherwise, use upsert in update because update does not create new item.