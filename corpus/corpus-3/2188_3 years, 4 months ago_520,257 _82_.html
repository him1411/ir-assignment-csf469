I have a variable in PHP, and I need its value in my JavaScript code. How can I get my variable from PHP to JavaScript?I have code that looks like this:I have JavaScript code that needs val and looks along the lines of:There are actually several approaches to do this. Some require more overhead than others, and some are considered better than others.In no particular order:In this post, we\'ll examine each of the above methods, and see the pros and cons of each, as well as how to implement them.This method is considered the best, because your server side and client side scripts are completely separate.With AJAX, you need two pages, one is where PHP generates the output, and the second is where JavaScript gets that output:The above combination of the two files will alert 42 when the file finishes loading.This method is less preferable to AJAX, but it still has its advantages. It\'s still relatively separated between PHP and JavaScript in a sense that there is no PHP directly in the JavaScript.With this, the idea is to create some sort of element which will not be displayed to the user, but is visible to JavaScript.This is probably the easiest to understand, and the most horrible to use. Don\'t do this unless you know what you\'re doing.Implementation is relatively straightforward:Good luck!I\'m going to try a simpler answer:First, let\'s understand the flow of events when a page is served from our server:So really, the core thing to remember here is that HTTP is stateless. Once a request left the server, the server can not touch it. So, that leaves our options to:That\'s the core question you should be asking yourself is:Websites are mainly page based, and the page load times needs to be as fast as possible (for example - Wikipedia) . Web applications are more AJAX heavy and perform a lot of round trips to get the client fast information (for example - a stock dashboard).Sending more requests from the client after the initial request is done is slow as it requires more HTTP requests which have significant overhead. Moreover, it requires asynchronousity as making an AJAX request requires a handler for when it\'s complete.I would not recommend making another request unless your site is an application for getting that information from the server. You want fast response times which have a huge impact on conversion and load times. Making ajax requests is slow for the initial uptime in this case and unneeded.You have two ways to tackle the issueSetting a cookie is really not very difficult, you just assign it a value:Then, you can read it with JavaScript using document.cookie:Here is a short hand rolled parser, but the answer I linked to right above this has better tested ones: Cookies are good for a little data. This is what tracking services often do.Once we have more data, we can encode it with JSON inside a JS variable instead:Assuming $value is json_encodeable on the PHP side (it usually is). This technique is what StackOverflow does with its chat for example (only using .net instead of php).If you\'re writing an application - suddenly the initial load time isn\'t always as important as the ongoing performance of the app and it starts to pay off to load data and code separately.My answer here explains how to load data using AJAX in JavaScript:Or with jQuery:Now, the server just needs to contain a /your/url route/file that contains code that grabs the data and does something with it, in your case:This way, our JS file asks for the data and shows it rather than asking for code or for layout. This is cleaner and starts to pay off as the application gets higher. It\'s also better separation of concerns and it allows testing the client side code without any server side technology involved which is another plus.Postscript: You have to be very aware of XSS attack vectors when you inject anything from PHP to JavaScript. It\'s very hard to escape values properly and it\'s context sensitive. If you\'re unsure how to deal with XSS, or unaware of it - please read this OWASP article, this one and this question. I usually use data-* attributes in html.This example uses jQuery but can be adapted for another library or vanilla Javascript.You can read more about the dataset property here: https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement.datasetjson_encode() requires:Simply use one of the following methods.OR I quite like the way the Wordpress works with its enqueue and localize functions, so following that model, i wrote a simple class for putting a scripts into page according to the script dependencies, and for making additional data available for the script.Call to enqueue_script() function is for adding script, setting the souce and dependencies on other scripts, and additional data needed for the script.And, print_scripts() method of the above example will send this output:Regardless the fact that the script \'jquery\' is enqueued after the \'jquery-ui\', it is printed before because it is defined in \'jquery-ui\' that it depend on \'jquery\'.\nAdditional data for the \'custom-script\' are inside a new script block and are placed in front of it, it contains mydata object that holds additional data, now availible to \'custom-script\'.It doesn\'t work because $val is undefined as far as javascript is concerned, ie. the php did not output anything for $val. Try viewing the source in your browser and here is what you\'ll see:AndThis doesn\'t work because php will try to treat myPlugin as a constant and when that fails it will try to treat it as the string \'myPlugin\' which it will try to concatenate with the output of the php function start() and since that is undefined it will produce a fatal errorAndWhile this is most likely to work, since the php is producing valid javascript with the expected arguments, if it fails, chances are its because myPlugin isn\'t ready yet. Check your order of execution.Also you should note that the php out put is insecure and should be filtered with json_encode()EDIT Because I didn\'t notice the missing parenthesis in myPlugin.start(<?=$val?> :-\\As @Second Rikudo points out, for it to work correctly $val would need to contain the closing parenthesis eg: $val="42);" Meaning that the php will now produce myPlugin.start(42); and will work as expected when executed by the javascripttry this -- -After trying this for  a while \nAlthough it works , however  it slows down the performance. as php is a server side script while javascript is a user side.I have come out with an easy method to assign JavaScript variables using PHP. It uses HTML5 data attributes to store PHP variables and then its assigned to JavaScript on page load.Complete Tutorial can be found hereExample:Hers is the JS codehere is one i do not see posted as an option. it is similar to using ajax, but clearly different.first, set a script\'s source directly to a PHP file.you could even pass a variable back to the PHP file such as this example:then in "your_php_file.php":I\'ll assume that the data to transmit is a string.As other commenters have stated, AJAX is one possible solution, but the cons outweigh the pros: it has a latency and it is harder to program (it needs the code to retrieve the value both server- and client-side), when a simpler escaping function should suffice.So, we\'re back to escaping. json_encode($string) works if you encode the source string as UTF-8 first in case it is not already, because json_encode requires UTF-8 data. If the string is in ISO-8859-1 then you can simply use json_encode(utf8_encode($string)); otherwise you can always use iconv to do the conversion first.But there\'s a big gotcha. If you\'re using it in events, you need to run htmlspecialchars() on the result in order to make it correct code. And then you haver to either be careful to use double quotes to enclose the event, or always add ENT_QUOTES to htmlspecialchars. For example:However, you can\'t use htmlspecialchars on regular JS code (code enclosed in <script>...</script> tags). That makes use of this function prone to mistakes, by forgetting to htmlspecialchars the result when writing event code.It\'s possible to write a function that does not have that problem, and can be used both in events and in regular JS code, as long as you enclose your events always in single quotes, or always in double quotes. Here is my proposal, requiring them to be in double quotes (which I prefer):The function requires PHP 5.4+. Example usage:As per your codeNow you can get value using DOM, use innerHTML of span id, in this case you dont need to do any call to server, or ajax or anyother thing. Your page will print it using php, and you javascript will get value using DOM.Here is is the trick :and that will work. It\'s just assigning a javascript variable and then passing the value of an existing php variable. Since php writes the javascript lines here, it has the value of of the php variable and can pass it directly.For those who have some problem using below code and it keep showing <?php echo $username?> or something like this.Go edit the httpd.conf in mime_module section by add this \'AddType application/x-httpd-php .html .htm\' because it may disable by default.You can use it:and remember php is prior to execute, when finish begin javascript to run. aren\xc2\xb4t parallels, are sequencial.