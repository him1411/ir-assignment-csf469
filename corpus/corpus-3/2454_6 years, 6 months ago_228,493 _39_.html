I need to write a script that will drop a PostgreSQL database. There may be a lot of connections to it, but the script should ignore that.The standard DROP DATABASE db_name query doesn\'t work when there are open connections. How can I solve the problem?This will drop existing connections except for yours:Query pg_stat_activity and get the pid values you want to kill, then issue SELECT pg_terminate_backend(pid int) to them.PostgreSQL 9.2 and above:PostgreSQL 9.1 and below:Once you disconnect everyone you will have to disconnect and issue the DROP DATABASE command from a connection from another database aka not the one your trying to drop.Note the renaming of the procpid column to pid. See this mailing list thread.In PostgreSQL 9.2 and above, to disconnect everything except your session from the database you are connected to:In older versions it\'s the same, just change pid to procpid. To disconnect from a different database just change current_database() to the name of the database you want to disconnect users from.You may want to REVOKE the CONNECT right from users of the database before disconnecting users, otherwise users will just keep on reconnecting and you\'ll never get the chance to drop the DB. See this comment and the question it\'s associated with, How do I detach all other users from the database.If you just want to disconnect idle users, see this question.You could kill all connections before dropping the database using the pg_terminate_backend(int) function. You can get all running backends using the system view pg_stat_activity I\'m not entirely sure, but the following would probably kill all sessions:Of course you may not be connected yourself to that databaseI noticed that postgres 9.2 now calls the column pid rather than procpid.I tend to call it from the shell:Hope that is helpful. Thanks to @JustBob for the sql.Depending on your version of postgresql you might run into a bug, that makes pg_stat_activity to omit active connections from dropped users. These connections are also not shown inside pgAdminIII. If you are doing automatic testing (in which you also create users) this might be a probable scenario. In this case you need to revert to queries like: NOTE: In 9.2+ you\'ll have change procpid to pid. In Linux command Prompt, I would first stop all postgresql processes that are running  by tying this command\n   sudo /etc/init.d/postgresql restarttype the command \n   bg to check if other postgresql processes are still running then followed by dropdb dbname to drop the databaseThis works for me on linux command promptPostgreSQL 9.2 and above:SELECT pg_terminate_backend(pid)FROM pg_stat_activity WHERE datname = \'YOUR_DATABASE_NAME_HERE\'Here\'s my hack... =DI put this answer because include a command (above) to block new connections and because any attempt with the command...... do not works to block new connections!Thanks to @araqnid @GoatWalker ! =Dhttps://stackoverflow.com/a/3185413/3223785In my case i had to execute a command to drop all connections including my active administrator connectionwhich terminated all connections and show me a fatal \'\'error\'\' message :FATAL: terminating connection due to administrator command SQL state: 57P01After that it was possible to drop the database