Coda Hale\'s article "How To Safely Store a Password" claims that:bcrypt has salts built-in to prevent rainbow table attacks.He cites this paper, which says that in OpenBSD\'s implementation of bcrypt:OpenBSD generates the 128-bit bcrypt salt from an arcfour\n  (arc4random(3)) key stream, seeded with random data the kernel\n  collects from device timings.I don\'t understand how this can work. In my conception of a salt:When I\'m using Devise (a Rails login manager) with bcrypt, there is no salt column in the database, so I\'m confused. If the salt is random and not stored anywhere, how can we reliably repeat the hashing process?In short, how can bcrypt have built-in salts?This is bcrypt:Generate a random salt. A "cost" factor has been pre-configured. Collect a password.Derive an encryption key from the password using the salt and cost factor. Use it to encrypt a well-known string. Store the cost, salt, and cipher text. Because these three elements have a known length, it\'s easy to concatenate them and store them in a single field, yet be able to split them apart later.When someone tries to authenticate, retrieve the stored cost and salt. Derive a key from the input password. Encrypt the same well-known string. If the generated cipher text matches the stored cipher text, the password is a match.Bcrypt operates in a very similar manner to more traditional schemes based on algorithms like PBKDF2. The main difference in its use of a derived key to encrypt known plain text; other schemes (reasonably) assume the key derivation function is irreversible, and store the derived key directly.Stored in the database, a bcrypt "hash" might look something like this:$2a$10$vI8aWBnW3fID.ZQ4/zo1G.q1lRps.9cGLcZEiGDMVr5yUP1KUOYTaThis is actually three fields, delimited by "$":This example is taken from the documentation for Coda Hale\'s ruby implementation.I believe that phrase should have been worded as follows:bcrypt has salts built into the generated hashes to prevent rainbow table attacks.The bcrypt utility itself does not appear to maintain a list of salts. Rather, salts are generated randomly and appended to the output of the function so that they are remembered later on (according to the Java implementation of bcrypt). Put another way, the "hash" generated by bcrypt is not just the hash. Rather, it is the hash and the salt concatenated.