I want to add a Fragment to an Activity that implements its layout programmatically. I looked over the Fragment documentation but there aren\'t many examples describing what I need. Here is the type of code I tried to write:...This code compiles but crashes at start, probably because my FragmentTransaction.add() is incorrect. What is the correct way to do this?It turns out there\'s more than one problem with that code. A fragment cannot be declared that way, inside the same java file as the activity but not as a public inner class. The framework expects the fragment\'s constructor (with no parameters) to be public and visible. Moving the fragment into the Activity as an inner class, or creating a new java file for the fragment fixes that.The second issue is that when you\'re adding a fragment this way, you must pass a reference to the fragment\'s containing view, and that view must have a custom id. Using the default id will crash the app. Here\'s the updated code:Here is what I came up with after reading Tony Wong\'s comment:......To add a fragment into a Activity or FramentActivity it requires a\n  Container. That container should be a "Framelayout", which can be\n  included in xml or else you can use the default container for that\n  like "android.R.id.content" to remove or replace a fragment in\n  Activity.main.xmlAfter read all Answers I came up with ellegant way:basically you don\'t need to add a frameLayout as container of your fragment instead you can add straight the fragment into the android  root View containerIMPORTANT: don\'t use replace fragment as most of the aproach shown here, unless you don\'t mind to lose fragment variable instance state during onrecreation process. useFor API level 17 or higher, View.generateViewId() will solve this problem. The utility method provides a unique id that is not used in build time.