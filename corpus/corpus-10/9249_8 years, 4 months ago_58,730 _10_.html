Is it possible to declare more than one variable using a with statement in Python?Something like:... or is cleaning up two resources at the same time the problem?It is possible in Python 3 since v3.1 and  Python 2.7. The new with syntax supports multiple context managers:Unlike the contextlib.nested, this guarantees that a and b will have their __exit__()\'s called even if C() or it\'s __enter__() method raises an exception.contextlib.nested supports this:Update:\nTo quote the documentation, regarding contextlib.nested:Deprecated since version 2.7: The with-statement now supports this\n  functionality directly (without the confusing error prone quirks).See Rafa\xc5\x82 Dowgird\'s answer for more information. I think you want to do this instead: