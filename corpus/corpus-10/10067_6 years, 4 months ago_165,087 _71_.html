Any ideas on an async directory search using fs.readdir? I realise that we could introduce recursion and call the read directory function with the next directory to read, but am a little worried about it not being async...Any ideas? I\'ve looked at node-walk which is great, but doesn\'t give me just the files in an array, like readdir does. Although Looking for output like...There are basically two ways of accomplishing this. In an async environment you\'ll notice that there are two kinds of loops: serial and parallel. A serial loop waits for one iteration to complete before it moves onto the next iteration - this guarantees that every iteration of the loop completes in order. In a parallel loop, all the iterations are started at the same time, and one may complete before another, however, it is much faster than a serial loop. So in this case, it\'s probably better to use a parallel loop because it doesn\'t matter what order the walk completes in, just as long as it completes and returns the results (unless you want them in order).A parallel loop would look like this:A serial loop would look like this:And to test it out on your home directory (WARNING: the results list will be huge if you have a lot of stuff in your home directory):EDIT: Improved examples.A. Have a look at the file module. It has a function called walk:file.walk(start, callback)Navigates a file tree, calling callback for each directory, passing in\n  (null, dirPath, dirs, files).This may be for you! And yes, it is async. However, I think you would have to aggregate the full path\'s yourself, if you needed them.B. An alternative, and even one of my favourites: use the unix find for that. Why do something again, that has already been programmed? Maybe not exactly what you need, but still worth checking out:Find has a nice build-in caching mechanism that makes subsequent searches very fast, as long as only few folder have changed.Just in case anyone finds it useful, I also put together a synchronous version.Another nice npm package is glob.npm install globIt is very powerful and should cover all your recursing needs.I actually wasn\'t perfectly happy with glob, so I created readdirp.I\'m very confident that its API makes finding files and directories recursively and applying specific filters very easy.Read through its documentation to get a better idea of what it does and install via:npm install readdirpI recommend using node-glob to accomplish that task.If you want to use an npm package, wrench is pretty good.I loved the answer from chjj above and would not have been able to create my version of the parallel loop without that start.I created a Gist as well. Comments welcome. I am still starting out in the NodeJS realm so that is one way I hope to learn more.Use node-dir to produce exactly the output you likeWith RecursionCallingI\'ve coded this recently, and thought it would make sense to share this here. The code makes use of the async library.You can use it like this:This one uses the maximum amount of new, buzzwordy features available in node 8, including Promises, util/promisify, destructuring, async-await, map+reduce and more, making your co-workers scratch their heads as they try to figure out what is going on.No external dependencies (node 8+).Usage:Check out the final-fs library. It provides a readdirRecursive function:A library called Filehound is another option. It will recursively search a given directory (working directory by default). It supports various filters, callbacks, promises and sync searches.  For example, search the current working directory for all files (using callbacks):Or promises and specifying a specific directory:Consult the docs for further use cases and examples of usage: https://github.com/nspragg/filehoundDisclaimer: I\'m the author.Using async/await, this should work:You can use bluebird.Promisify or this:I am using the when.js promise library in this example.I\'ve included an optional parameter includeDir which will include directories in the file listing if set to true.Here\'s yet another implementation.  None of the above solutions have any limiters, and so if your directory structure is large, they\'re all going to thrash and eventually run out of resources.Using a concurrency of 50 works pretty well, and is almost as fast as simpler implementations for small directory structures.The recursive-readdir module has this functionality.I modified Trevor Senior\'s Promise based answer to work with BluebirdFor fun, here is a flow based version that works with highland.js streams library.  It was co-authored by Victor Vu.Using Promises (Q) to solve this in a Functional style:It returns a promise of an array, so you can use it as:I must add the Promise-based sander library to the list.Using bluebird promise.coroutine:Because everyone should write his own, I made one.walk(dir, cb, endCb)\ncb(file)\nendCb(err | null)DIRTYcheck out loaddir\nhttps://npmjs.org/package/loaddirnpm install loaddirYou can use fileName instead of baseName if you need the extension as well.  An added bonus is that it will watch the files as well and call the callback again.  There are tons of configuration options to make it extremely flexible.I just remade the guard gem from ruby using loaddir in a short whileThis is my answer. Hope it can help somebody. My focus is to make the searching routine can stop at anywhere, and for a file found, tells the relative depth to the original path.klaw and klaw-sync are worth considering for this sort of thing. These were part of node-fs-extra.Another simple and helpful oneI\'m reluctant to add another answer to the pile, but I liked this answer (the only one that used async/await), but thought it needed a bit of a tidy up and simplification:It\'s used like this:This is how I use the nodejs fs.readdir function to recursively search a directory.Let\'s say you have a path called \'/database\' in your node projects root. Once this promise is resolved, it should spit out an array of every file under \'/database\'.here is the complete working code. As per your requirement. you can get all files and folders recursively.in path give your directory path in which you want to search like "c:\\test"