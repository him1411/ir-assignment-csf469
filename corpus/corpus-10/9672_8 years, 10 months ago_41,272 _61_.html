As a follow-up to this question, it\'s trying to find out how to do something like this which should be easy, that especially stops me from getting more used to using Emacs and instead starting up the editor I\'m already familiar with. I use the example here fairly often in editing multiple files.In Ultraedit I\'d do Alt+s then p to display a dialog box with the options: Find (includes using regular expressions across multiple lines), Replace with, In Files/Types, Directory, Match Case, Match Whole Word Only, List Changed Files and Search Sub Directories. Usually I\'ll first use the mouse to click-drag select the text that I want to replace.Using only Emacs itself (on Windows XP), without calling any external utility, how to replace all foo\\nbar with bar\\nbaz in *.c and *.h files in some folder and all folders beneath it. Maybe Emacs is not the best tool to do this with, but how can it be done easily with a minimal command?This answer is combined from this answer, from this site, and from my own notes. Using Emacs 23+.I generally use other tools to perform this task, and it seems like many of the approaches mentioned at EmacsWiki\'s Find and Replace Across Files entry shell out, but the Findr Package looks very promising.Stealing part of the source file:The answers provided are great, however I thought I\'d add a slightly different approach.It\'s a more interactive method, and requires wgrep, rgrep and iedit. Both iedit and wgrep must be installed via MELPA or Marmalade (using M-x package-list-packages)First run M-x rgrep to find the string you\'re looking for. You\'ll be able to specify file types/pattern and the folder to recurse. Next you\'ll need to run wgrep start it with C-s C-p.Wgrep will let you edit the rgrep results, so set a region on the string to match and start iedit-mode with C-; (depending on your terminal you may need to re-bind this)All occurrences will be editable at once. C-x C-s to commit wgrep. Then C-x s ! to save the changed files.The main benefit of this method is that you can use iedit-mode to toggle off certain matches M-;. You can also use the results in rgrep to jump into the files, for example if you have an unexpected match.I find it very useful for doing source edits and renaming symbols (variables, function names etc.) across a project.If you don\'t already know/use iedit mode it\'s a very handy tool, I strongly recommend you give it a look.Using dired to recurse down a deep directory tree is going to be a bit slow for this task.  You might consider using tags-query-replace.  This does mean shelling out to create a tags table, but that is often useful anyway, and it\'s quick.M-X Dired, and t to mark all files, and Q to query replace text in all of them.\nYou can expand a sub directory by using the i command before the query-replace.\nThey key info I\'m adding is that if you give a prefix (control-u) to the i command,\nit will prompt you for arg, and -R argument will recursively expand all subdirs\ninto the dired buffer.  So now you can query-search every file in an entire directory.Projectile is really nice: \nC-c p r runs the command projectile-replaceFor open buffers, this is what I do :Source of information: 1For emacs pro users:Step-by-Step Guide for Emacs BeginnersSelect Target FilesStart emacs by typing \xe2\x80\x9cemacs\xe2\x80\x9d in the command line interface prompt. (Or, double click the Emacs icon if you are in a Graphics User Interface environment)Selecting Files in a DirectoryFirst you need to select the files you want to do the replace. Use the graphical menu \xe3\x80\x96File \xe2\x96\xb8 Open Directory\xe3\x80\x97. Emacs will ask you for a directory path. Type the directory path, then press Enter.Now, you will be shown the list of files, and now you need to mark the files you want the regex find/replace to work on. You mark a file by moving the cursor to the file you want, then press m. Unmark it by pressing u. (To list subdirectories, move your cursor to the directory and press i. The sub-directory\'s content will be listed at the bottom.) To mark all files by a regex, type \xe3\x80\x90% m\xe3\x80\x91, then type your regex pattern. For example, if you want to mark all HTML files, then type \xe3\x80\x90% m\xe3\x80\x91 then .html$. (You can find a list of the mark commands in the graphical menu \xe2\x80\x9cMark\xe2\x80\x9d (this menu appears when you are in the dired mode).)Selecting Files in a Directory and All Its Sub-DirectoriesIf you want to do find/replace on files inside a directory, including hundreds of subdirectories, here\'s a method to select all these files.Call find-dired. (you call a command by pressing \xe3\x80\x90Alt+x\xe3\x80\x91) Then, type a directory name, \xe2\x81\x96 /Users/mary/myfilesNote: if you are using emacs on a unix non-graphical text terminal, and if \xe3\x80\x90Alt+x\xe3\x80\x91 does not work, the equivalent key stroke is \xe3\x80\x90Esc x\xe3\x80\x91.Emacs will ask you with the prompt \xe2\x80\x9cRun find (with args): \xe2\x80\x9d. If you need to do the replacement on all HTML files, then type -name "*html". If you don\'t care about what kind of file but simply all files under that dir, then give \xe2\x80\x9c-type f\xe2\x80\x9d.Now, mark the files as described above.Interactive Find/ReplaceNow, you are ready to do the interactive find replace. For simplicity, let\'s say you just want to replace the word \xe2\x80\x9cquick\xe2\x80\x9d by \xe2\x80\x9csuper\xe2\x80\x9d. Now, call dired-do-query-replace-regexp. It will prompt you for the regex string and the replacement string. Type \xe2\x80\x9cquick\xe2\x80\x9d, enter, then \xe2\x80\x9csuper\xe2\x80\x9d.Now, emacs will use your pattern and check the files, and stop and show you whenever a match occurred. When this happens, emacs will prompt you, and you have a choice of making the change or skip the change. To make the change, type y. To skip, type n. If you simply want emacs to go ahead and make all such changes to the current file, type !.If you want to cancel the whole operation without saving any changes you\'ve made, type \xe3\x80\x90Ctrl+g\xe3\x80\x91, then exit emacs using the menu \xe3\x80\x96File \xe2\x96\xb8 Exit Emacs\xe3\x80\x97.Saving the Changed FilesNow, after you went through the above ordeal, there is one more step you need to do, and that is saving the changed files.If you are using emacs version 22 or later, then call ibuffer to go into a buffer listing mode, then type \xe3\x80\x90* u\xe3\x80\x91 to mark all unsaved files, then type S to save them all. (that\'s shift-s)If you are using a emacs version 21, then you can do this: call list-buffers, then move the cursor to the file you want to save and type s. It will mark the file for later save action. Type u to unmark. Once you are done, type x to execute the saving of all files marked for save. (in emacs, opened file is called \xe2\x80\x9cbuffer\xe2\x80\x9d. Disregard other things there.)Alternative to the above options, you can also call save-some-buffers \xe3\x80\x90Ctrl+x s\xe3\x80\x91. Then emacs will display each unsaved file and ask if you want it saved.Note: emacs\'s regex is not the same as Perl or Python\'s, but similar. For a summary and common patterns, see: Emacs Regex.Another option is to use Icicles search.  This is a different kind of incremental search that uses completion of your minibuffer input against search hits.  As you modify your current input the set of matching hits is updated in buffer *Completions*.You can search any number of files, buffers, or bookmarked locations, which you can choose using minibuffer pattern (e.g. regexp) matching.When you visit a search hit you can replace on demand either the entire hit or just the part of it that matches your current minibuffer input.  Replacement on demand means you are not queried about each search hit in turn; you access the hits you want directly, in any order.  This approach can be more effective than query-replace if you have a limited number of replacements to make: you skip the exhaustive y/n prompting.Search is over search contexts that you define -- you are not limited to searching all of the text in the target files (e.g., you can skip comments or particular kinds of program sections).  A simple example of a search context is a line, as in grep, but a context can be any pattern-matched block of text you like.  Typically you define the search contexts using a regexp, but you can instead use a function. In addition to defining your own, there are predefined Icicles search commands for different kinds of contexts: blocks of text properties or overlay properties, thing-at-point things, etc.You can also sort the search hits in various sort orders for easier access/navigation.I would like to suggest one more great tool which has not been mentioned yet, namely Helm. It is a great replacement for many standard Emacs operations involving completion, searching etc. In particular, helm-find-files allows for performing query replace (including regexp) within multiple selected files. Just open helm-find-files, mark the relevant files with M-SPC and then use F6 or F7 to run query replace or query replace regexp in the selected files.find-name-dired is OK, but:An alternative is to use Dired+ commands that act on (a) the marked files and (b) all marked files (or all files, if none are marked) in the marked subdirectories ... found recursively.  This gives you both generality and easy control over file choice.  These "here-and-below" commands are all on prefix key M-+ in Dired mode.For example, M-+ Q is the same as Q --- query-replace, but the target files are all of those marked in the current dir and in any marked subdirs, down, down, down...Yes, an alternative to using such here-and-below commands is to insert all subdirs and their subdirs, recursively, and then use a top-level command such as Q.  But it can often be convenient not to bother with inserted subdirs.And to do that you anyway need a quick way to insert all such subdirs recursively.  Here too, Dired+ can help.  M-+ M-i inserts all marked subdirs and their own marked subdirs, recursively.  That is, it is like M-i (which inserts the marked subdirs in Dired+), but it acts recursively on subdirs.(All such "here-and-below" Dired+ commands are on menu Multiple > Marked Here and Below.)You can also perform Dired operations on an Emacs fileset, which is a saved set of names of files located anywhere.  And if you use Icicles then you can open a Dired buffer for just the files in a fileset or other types of saved file lists.You can also bookmark any Dired buffer, including one that you create using find(-name)-dired.  This gives you a quick way to return to such a set (e.g. a project set) later.  And if you use Bookmark+ then bookmarking a Dired buffer records (a) its ls switches, (b) which files are marked, (c) which subdirectories are inserted, and (d) which (sub)directories are hidden.  All of that is restored when you "jump" to the bookmark.  Bookmark+ also lets you bookmark an entire tree of Dired buffers --- jumping to the bookmark restores all of the buffers in the tree.It\'s not Emacs, but xxdiff comes with a tool called xx-rename which will do that for multiple strings at a time (e.g. From To from to FROM TO), with interactive prompting, save backups of all the modified files, and produce a short log of changes made with context.  That\'s what I tend to use when I do large/global renamings.