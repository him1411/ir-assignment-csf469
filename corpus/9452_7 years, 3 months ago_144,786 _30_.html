Visual Studio 2010 has a Publish command that allows you to publish your Web Application Project to a file system location. I\'d like to do this on my TeamCity build server, so I need to do it with the solution runner or msbuild. I tried using the Publish target, but I think that might be for ClickOnce:I basically want to do exactly what a web deployment project does, but without the add-in. I need it to compile the WAP, remove any files unnecessary for execution, perform any web.config transformations, and copy the output to a specified location.My Solution, based on Jeff Siver\'s answerI got it mostly working without a custom msbuild script. Here are the relevant TeamCity build configuration settings:This will compile, package (with web.config transformation), and save the output as artifacts. The only thing missing is copying the output to a specified location, but that could be done either in another TeamCity build configuration with an artifact dependency or with an msbuild script.UpdateHere is an msbuild script that will compile, package (with web.config transformation), and copy the output to my staging serverYou can also remove the SolutionName and ProjectName properties from the PropertyGroup tag and pass them to msbuild.Update 2Since this question still gets a good deal of traffic, I thought it was worth updating my answer with my current script that uses Web Deploy (also known as MSDeploy).In TeamCity, I have parameters named env.Configuration, env.ProjectName and env.DeployServiceUrl. The MSBuild runner has the build file path and the parameters are passed automagically (you don\'t have to specify them in Command line parameters).You can also run it from the command line:Using the deployment profiles introduced in VS 2012, you can publish with the following command line:For more information on the parameters see this.I came up with such solution, works great for me:The secret sauce is _WPPCopyWebApplication target.I don\'t know TeamCity so I hope this can work for you.The best way I\'ve found to do this is with MSDeploy.exe.  This is part of the WebDeploy project run by Microsoft.  You can download the bits here.  With WebDeploy, you run the command lineThis does the same thing as the VS Publish command, copying only the necessary bits to the deployment folder.With VisualStudio 2012 there is a way to handle subj without publish profiles. You can pass output folder using parameters. It works both with absolute and relative path in \'publishUrl\' parameter. You can use VS100COMNTOOLS, however you need to override VisualStudioVersion to use target \'WebPublish\' from %ProgramFiles%\\MSBuild\\Microsoft\\VisualStudio\\v11.0\\WebApplications\\Microsoft.WebApplication.targets. With VisualStudioVersion 10.0 this script will succeed with no outputs :)Update: I\'ve managed to use this method on a build server with just Windows SDK 7.1 installed (no Visual Studio 2010 and 2012 on a machine). But I had to follow these steps to make it work:Script:found two different solutions which worked in slightly different way:1. This solution is inspired by the answer from alexanderb [link]. Unfortunately it did not work for us - some dll\'s were not copied to the OutDir. We found out that replacing ResolveReferences with Build target solves the problem - now all necessary files are copied into the OutDir location.\n\n\n2. The first solution works well but not as we expected. We wanted to have the publish functionality as it is in Visual Studio IDE - i.e. only the files which should be published will be copied into the Output directory. As it has been already mentioned first solution copies much more files into the OutDir - the website for publish is then stored in _PublishedWebsites/{ProjectName} subfolder. The following command solves this - only the files for publish will be copied to desired folder. So now you have directory which can be directly published - in comparison with the first solution you will save some space on hard drive.\n\nYou must set your environmentsand reference my blog.(sorry post was Korean)http://blog.naver.com/PostSearchList.nhn?SearchText=webdeploy&blogId=xyz37&x=25&y=7This my batch file