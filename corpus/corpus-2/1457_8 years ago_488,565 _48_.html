I started by googling, and found this article which talks about mutex tables.I have a table with ~14 million records. If I want to add more data in the same format, is there a way to ensure the record I want to insert does not already exist without using a pair of queries (ie, one query to check and one to insert is the result set is empty)?Does a unique constraint on a field guarantee the insert will fail if it\'s already there?It seems that with merely a constraint, when I issue the insert via php, the script croaks.use INSERT IGNORE INTO tablesee http://bogdan.org.ua/2007/10/18/mysql-insert-if-not-exists-syntax.htmlthere\'s also INSERT \xe2\x80\xa6 ON DUPLICATE KEY UPDATE syntax, you can find explanations on dev.mysql.comPost from bogdan.org.ua according to Google\'s webcache:18th October 2007To start: as of the latest MySQL, syntax presented in the title is not\n  possible. But there are several very easy ways to accomplish what is\n  expected using existing functionality.There are 3 possible solutions: using INSERT IGNORE, REPLACE, or\n  INSERT \xe2\x80\xa6 ON DUPLICATE KEY UPDATE.Imagine we have a table:Now imagine that we have an automatic pipeline importing transcripts\n  meta-data from Ensembl, and that due to various reasons the pipeline\n  might be broken at any step of execution. Thus, we need to ensure two\n  things: 1) repeated executions of the pipeline will not destroy our\n  database, and 2) repeated executions will not die due to \xe2\x80\x98duplicate\n  primary key\xe2\x80\x99 errors.Method 1: using REPLACEIt\xe2\x80\x99s very simple:If the record exists, it will be overwritten; if it does not yet\n  exist, it will be created. However, using this method isn\xe2\x80\x99t efficient\n  for our case: we do not need to overwrite existing records, it\xe2\x80\x99s fine\n  just to skip them.Method 2: using INSERT IGNORE Also very simple:Here, if the \xe2\x80\x98ensembl_transcript_id\xe2\x80\x99 is already present in the\n  database, it will be silently skipped (ignored). (To be more precise,\n  here\xe2\x80\x99s a quote from MySQL reference manual: \xe2\x80\x9cIf you use the IGNORE\n  keyword, errors that occur while executing the INSERT statement are\n  treated as warnings instead. For example, without IGNORE, a row that\n  duplicates an existing UNIQUE index or PRIMARY KEY value in the table\n  causes a duplicate-key error and the statement is aborted.\xe2\x80\x9d.) If the\n  record doesn\xe2\x80\x99t yet exist, it will be created.This second method has several potential weaknesses, including\n  non-abortion of the query in case any other problem occurs (see the\n  manual). Thus it should be used if previously tested without the\n  IGNORE keyword.There is one more option: to use INSERT \xe2\x80\xa6 ON DUPLICATE KEY UPDATE\n  syntax, and in the UPDATE part just do nothing do some meaningless\n  (empty) operation, like calculating 0+0 (Geoffray suggests doing the\n  id=id assignment for the MySQL optimization engine to ignore this\n  operation). Advantage of this method is that it only ignores duplicate\n  key events, and still aborts on other errors.As a final notice: this post was inspired by Xaprb. I\xe2\x80\x99d also advise to\n  consult his other post on writing flexible SQL queries.Alternatively, the outer SELECT statement can refer to DUAL in order to handle the case where the table is initially empty:on duplicate key update, or insert ignore can be viable solutions with MySQL.Example of on duplicate key update update based on mysql.comExample of insert ignore based on mysql.comOr:Or:Any simple constraint should do the job, if an exception is acceptable. Examples :Sorry is this seems deceptively simple. I know it looks bad confronted to the link you share with us. ;-(But I neverleless give this answer, because it seem to fill your need. (If not, it may trigger your updating your requirements, which would be "a Good Thing"(TM) also).Edited: If an insert would break the database unique constraint, an exception is throw at the database level, relayed by the driver. It will certainly stop your script, with a failure. It must be possible in PHP to adress that case ...Here is a PHP function that will insert a row only if all the specified columns values don\'t already exist in the table.If one of the columns differ, the row will be added.If the table is empty, the row will be added.If a row exists where all the specified columns have the specified values, the row won\'t be added.Example usage :If the record exists, it will be overwritten; if it does not yet exist, it will be created.Try the following:Replace might work for you.Try:Or you can do:This method is fast and easy. For improve the speed of the query in your big table INDEX columns \'xxx\' ( In my example ).There are several answers that cover how to solve this if you have a UNIQUE index that you can check against with ON DUPLICATE KEY or INSERT IGNORE. That is not always the case, and as UNIQUE has a length constraint (1000 bytes) you might not be able to change that. For example, I had to work with metadata in WordPress (wp_postmeta).I finally solved it with two queries:Query 1 is a regular UPDATE query with no effect when the dataset in question is not there. Query 2 is an INSERT which depends on a NOT EXISTS, i.e. the INSERT is only executed when the dataset doesn\'t exist.you can either run a quick select to find if it does exist then don\'t insert anything, they will be two instructionsor simply go with  INSERT IGNORE INTO table \n    