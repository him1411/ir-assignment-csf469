In Vim, what is the command to correct the indentation of all the lines?Often times I\'ll copy and paste code into a remote terminal and have the whole thing messed up.  I want to fix this in one fell swoop.=, the indent command can take motions. So, gg to get the start of the file, = to indent, G to the end of the file, gg=G.Before pasting into the terminal, try :set paste (and then :set nopaste after you\'re done). This will turn off the auto-indent, line-wrap, etc. features that are messing up your paste.edit: Also, I should point out that a much better result than = indenting can usually be obtained by using an external program. For example, I run :%!perltidy all the time. astyle, cindent, etc. can also be used. And, of course, you can map those to a key stroke\xc2\xa0\xe2\x80\x94 and map different ones to the same keystroke depending on file typeIf you want to reindent the block you\'re in without having to type any chords, you can do:You can use tidy application/utility to indent HTML & XML files and it works pretty well in indenting those files.Prettify an XML filePrettify an HTML fileThe master of all commands isgg=GThis indents the entire file!And below are some of the simple and elegant commands used to indent lines quickly in Vim or gVim.To indent the all the lines below the current lineTo indent the current lineTo indent n lines below the current lineFor example, to indent 4 lines below the current lineTo indent a block of code, go to one of the braces and use command1G=G. That should indent all the lines in the file. 1G takes you the first line, = will start the auto-indent and the final G will take you the last line in the file.press escape and then type below combinations fast:In Vim, use :insert.  This will keep all your formatting and not do autoindenting.  For more information help :insert.  :set paste is your friend I use putty and end up copying code between windows.  Before I was turned on to :set paste (and :set nopaste) copy/paste gave me fits for that very reason.if you do not want to use :set paste, middle-click, set nopaste, you can also paste the content of the clipboard:That way you don\'t have to leave normal mode.\nif you have to paste + or * depends on how you selected the text, see :help quoteplus.vim-autoformat formats your source files using external programs specific for your language, e.g. rbeautify" gem for Ruby files, "js-beautify" npm package for JavaScript.For complex C++ files vim does not always get the formatting right when using vim\'s = filter command. So for a such situations it is better to use an external C++ formatter like astyle (or uncrustify) e.g.:Vim\'s \'=\' function uses its internal formatter by default (which doesn\'t always gets things right) but one can also set it use an external formatter, like astyle, by setting it up appropriately as discussed in this question. vi should respect tabs and spaces, however you should consider that vi may be using different length tabs than your other editor.  Can you be any more specific than "whole thing messed up"?For XML files, I use this commandYou need to have xmllint installed (package libxml2-utils)(Source : http://ku1ik.com/2011/09/08/formatting-xml-in-vim-with-indent-command.html )For vi Editor, use :insert. This will keep all your formatting and not insert auto-indenting.Once done press escape to view the actual formatted file otherwise you\'l see some garbage characters. like ^I\ne.g:You can create a mapping to do this for you.This one will auto indent the whole file and still keep your cursor in the position you are: