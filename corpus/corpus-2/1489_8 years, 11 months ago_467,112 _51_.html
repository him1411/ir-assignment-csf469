I\'m looking for the string foo= in text files in a directory tree. It\'s on a common Linux machine, I have bash shell:In the directories are also many binary files which match "foo=". As these results are not relevant and slow down the search, I want grep to skip searching these files (mostly JPEG and PNG images). How would I do that?I know there are the --exclude=PATTERN and --include=PATTERN options, but what is the pattern format? The man page of grep says:Searching on grep include, grep include exclude, grep exclude and variants did not find anything relevantIf there\'s a better way of grepping only in certain files, I\'m all for it; moving the offending files is not an option. I can\'t search only certain directories (the directory structure is a big mess, with everything everywhere). Also, I can\'t install anything, so I have to do with common tools (like grep or the suggested find).Use the shell globbing syntax:The syntax for --exclude is identical.Note that the star is escaped with a backslash to prevent it from being expanded by the shell (quoting it, such as --include="*.{cpp,h}", would work just as well).  Otherwise, if you had any files in the current working directory that matched the pattern, the command line would expand to something like grep pattern -r --include=foo.cpp --include=bar.h rootdir, which would only search files named foo.cpp and bar.h, which is quite likely not what you wanted.If you just want to skip binary files, I suggest you look at the -I (upper case i) option.  It ignores binary files.  I regularly use the following command:It searches recursively, ignores binary files, and doesn\'t look inside Subversion hidden folders, for whatever pattern I want.  I have it aliased as "grepsvn" on my box at work.Please take a look at ack, which is designed for exactly these situations.  Your example ofis done with ack asbecause ack never looks in binary files by default, and -r is on by default.  And if you want only CPP and H files, then just dogrep 2.5.3 introduced the --exclude-dir parameter which will work the way you want.You can also set an environment variable: GREP_OPTIONS="--exclude-dir=.svn"I\'ll second Andy\'s vote for ack though, it\'s the best.I found this after a long time, you can add multiple includes and excludes like:The suggested command:is conceptually wrong, because --exclude works on the basename. Put in other words, it will skip only the .svn in the current directory.In grep 2.5.1 you have to add this line to ~/.bashrc or ~/.bash profileI find grepping grep\'s output to be very helpful sometimes:Though, that doesn\'t actually stop it from searching the binary files.On CentOS 6.6/Grep 2.6.3, I have to use it like this:  Notice the lack of equal signs "=" (otherwise --include, --exclude, include-dir and --exclude-dir are ignored)I\'m a dilettante, granted, but here\'s how my ~/.bash_profile looks:Note that to exclude two directories, I had to use --exclude-dir twice.If you are not averse to using find, I like its -prune feature:\n\nfind [directory] \\\n        -name "pattern_to_exclude" -prune \\\n     -o -name "another_pattern_to_exclude" -prune \\\n     -o -name "pattern_to_INCLUDE" -print0 \\\n| xargs -0 -I FILENAME grep -IR "pattern" FILENAME\nOn the first line, you specify the directory you want to search. . (current directory) is a valid path, for example.On the 2nd and 3rd lines, use "*.png", "*.gif", "*.jpg", and so forth. Use as many of these -o -name "..." -prune constructs as you have patterns.On the 4th line, you need another -o (it specifies "or" to find), the patterns you DO want, and you need either a -print or -print0 at the end of it. If you just want "everything else" that remains after pruning the *.gif, *.png, etc. images, then use\n-o -print0 and you\'re done with the 4th line.Finally, on the 5th line is the pipe to xargs which takes each of those resulting files and stores them in a variable FILENAME. It then passes grep the -IR flags, the "pattern", and then FILENAME is expanded by xargs to become that list of filenames found by find.For your particular question, the statement may look something like:\n\nfind . \\\n     -name "*.png" -prune \\\n     -o -name "*.gif" -prune \\\n     -o -name "*.svn" -prune \\\n     -o -print0 | xargs -0 -I FILES grep -IR "foo=" FILES\nTry this one:Founded here: http://www.unix.com/shell-programming-scripting/42573-search-files-excluding-binary-files.htmlfind and xargs are your friends. Use them to filter the file list rather than grep\'s --excludeTry something like those scripts don\'t accomplish all the problem...Try this better:this script is so better, because it uses "real" regular expressions to avoid directories from search. just separate folder or file names with "\\|" on the grep -venjoy it!\nfound on my linux shell! XDLook @ this one.The --binary-files=without-match option to GNU grep gets it to skip binary files.  (Equivalent to the -I switch mentioned elsewhere.)(This might require a recent version of grep; 2.5.3 has it, at least.)suitable for tcsh .alias file:Took me a while to figure out that the {mm,m,h,cc,c} portion should NOT be inside quotes.\n~KeithIf you search non-recursively you can use glop patterns to match the filenames. includes html and txt. It searches in the current directory only. To search in the subdirectories:In the subsubdirectories:To ignore all binary results from grepThe awk part will filter out all the Binary file foo matches linesTry this:  