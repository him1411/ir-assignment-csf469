What is, in your opinion, the most surprising, weird, strange or really "WTF" language feature you have encountered?Please only one feature per answer.In C, arrays can be indexed like so:which is very common.However, the lesser known form (which really does work!) is:which means the same as the above.In JavaScript:WhereasIn JavaScript, the following constructreturns undefined is a syntax error due to the sneaky implicit semicolon insertion on the newline after return. The following works as you would expect though:Even worse, this one works as well (in Chrome, at least):Here\'s a variant of the same issue that does not yield a syntax error, just silently fails:JavaScript truth table:Source: Doug CrockfordTrigraphs in C and C++.This will print LOL|, because the trigraph ??! is converted to |.Fun with auto boxing and the integer cache in Java:A quick peek at the Java source code will turn up the following:Note: IntegerCache.high defaults to 127 unless set by a property.What happens with auto boxing is that both foo and bar the same integer object retrieved from the cache unless explicitly created: e.g. foo = new Integer(42), thus when comparing reference equality, they will be true rather than false.  The proper way of comparing Integer value is using .equals;Quoting Neil Fraser (look at the end of that page),(in Java, but behaviour is apparently the same in JavaScript and Python). The result is left as an exercise to the reader.EDITED: As long as we are on the subject consider also this:APL (other than ALL of it), the ability to write any program in just one line.e.g. Conway\'s Game of Life in one line in APL:alt text http://catpad.net/michael/APLLife.gifIf that line isn\'t WTF, then nothing is!And here is a videoThe weird things C++ templates can be used for, best demonstrated by "Multi-Dimensional Analog Literals" which uses templates to compute the area of "drawn" shapes. The following code is valid C++ for a 3x3 rectangleOr, another example with a 3D cube:Perl\xe2\x80\x99s many built-in variables:There\xe2\x80\x99s a lot more where those came from. Read the complete list here.PHP\'s handling of numeric values in strings.  See this previous answer to a different question for full details but, in short:If you have two strings that contain a different number of characters, they can\xe2\x80\x99t be considered equal.  The leading zeros are important because these are strings not numbers.PHP doesn\xe2\x80\x99t like strings. It\xe2\x80\x99s looking for any excuse it can find to treat your values as numbers. Change the hexadecimal characters in those strings slightly and suddenly PHP decides that these aren\xe2\x80\x99t strings any more, they are numbers in scientific notation (PHP doesn\xe2\x80\x99t care that you used quotes) and they are equivalent because leading zeros are ignored for numbers.  To reinforce this point you will find that PHP also evaluates "01e4" == "10000" as true because these are numbers with equivalent values.  This is documented behaviour, it\xe2\x80\x99s just not very sensible.Let\'s have a vote for all languages (such as PL/I) that tried to do away with reserved words. Where else could you legally write such amusing expressions as:(IF, THEN, ELSE are variable names)or(IF is a variable, THEN and ELSE are subroutines)The JavaScript octal conversion \'feature\' is a good one to know about:More details here.Duff\'s device in C!In C one can interlace a do/while with a switch statement. Here an example of a memcpy using this method:Algol pass by name (illustrated using C syntax):In Java:Can be written as:In Python:Not a WTF, but a useful feature.INTERCAL is probably the best compendium of strangest language features.  My personal favourite is the COMEFROM statement which is (almost) the opposite of GOTO.COMEFROM is roughly the opposite of\n  GOTO in that it can take the execution\n  state from any arbitrary point in code\n  to a COMEFROM statement. The point in\n  code where the state transfer happens\n  is usually given as a parameter to\n  COMEFROM. Whether the transfer happens\n  before or after the instruction at the\n  specified transfer point depends on\n  the language used. Depending on the\n  language used, multiple COMEFROMs\n  referencing the same departure point\n  may be invalid, be non-deterministic,\n  be executed in some sort of defined\n  priority, or even induce parallel or\n  otherwise concurrent execution as seen\n  in Threaded Intercal. A simple example\n  of a "COMEFROM x" statement is a label\n  x (which does not need to be\n  physically located anywhere near its\n  corresponding COMEFROM) that acts as a\n  "trap door". When code execution\n  reaches the label, control gets passed\n  to the statement following the\n  COMEFROM. The effect of this is\n  primarily to make debugging (and\n  understanding the control flow of the\n  program) extremely difficult, since\n  there is no indication near the label\n  that control will mysteriously jump to\n  another point of the program.Not really a language feature, but an implementation flaw: Some early Fortran compilers implemented constants by using a constant pool. All parameters were passed by reference. If you called a function, e.g.The compiler would pass the address of the constant 1 in the constant pool to the function.\nIf you assigned a value to the parameter in the function, you would change the value (in this case the value of 1) globally in the program. Caused some head scratching.Don\'t know if it can be considered a language feature, but, in C++ almost any compiler error related to templates delivers a fair amount of WTF to many C++ programmers around the world on daily basis :)The many name spaces of C:Or with characters:I would say the whole whitespace thing of Python is my greatest WTF feature. True, you more-or-less get used to it after a while and modern editors make it easy to deal with, but even after mostly full time python development for the past year I\'m still convinced it was a Bad Idea.  I\'ve read all the reasoning behind it but honestly, it gets in the way of my productivity. Not by much, but it\'s still a burr under the saddle.edit: judging by the comments, some people seem to think I don\'t like to indent my code. That is an incorrect assessment. I\'ve always indented my code no matter what the language and whether I\'m forced to or not. What I don\'t like is that it is the indentation that defines what block a line of code is in. I prefer explicit delimiters for that. Among other reasons, I find explicit delimiters makes it easier to cut and paste code. For example, if I have a block indented 4 spaces and paste it at the end of a block that is indented 8 spaces, my editor (all editors?) have no idea if the pasted code belongs to the 8-space block or the outer block. OTOH, if I have explicit delimiters it\'s obvious which block the code belongs to and how it should be (re-)indented -- it does so by intelligently looking for block delimiters. edit 2: some people who provide comments seem to think this is a feature I hate or that I think makes python a poor language. Again, not true. While I don\'t like it all that much, that\'s beside the point. The question is about the strangest language feature, and I think this is strange, by virtue of it being something very, very few (but >0) languages use.I struggled a bit about this:In perl, modules need to return something true.For those who don\'t know, bc is an "arbitrary precision calculator language", and I use it quite often for quick calculations, particularly when the numbers involved are large ($ is the prompt):bc has been a standard Unix command for a long time.Now for the "WTF feature".  This is from man bc (emphasis mine):quit: When the quit statement is read, the bc processor is terminated,\n  regardless  of  where the quit statement is found.\n  For example, "if (0 == 1) quit" will cause bc to terminate.halt: The  halt statement (an extension) is an executed statement that\n  causes the bc processor to quit only when it is  executed.\n  For example,  "if  (0  ==  1)  halt"  will not cause bc to terminate because the halt is not executed.I\'m surprised  that no one has mentioned Visual Basic\'s 7 loop constructs.Because sticking an ! in front of your conditional is way too complicated!I always wondered why the simplest program was:Whereas it could be:Maybe this is to frighten computer science students in the first place ...JavaScript is object oriented, right? So running methods on literal strings and numbers should work. Like "hello".toUpperCase() and 3.toString(). Turns out that second one is a syntax error, why? Because the parser expects a number followed by a dot to be a floating point literal. That\'s not the WTF, the WTF is that you only have to add another dot to make it work: The reason is that the literal 3. is interpreted as 3.0, and 3.0.toString() works fine.In JavaScript:Luckily the kind folks at stackoverflow.com explained the whole thing to me: \nWhy does 2 == [2] in JavaScript?My biggest most hated feature is any configuration file syntax which includes conditional logic. This sort of thing is rife in the Java world (Ant, Maven, etc. You know who you are!).You just end up programming in a c**p language, with limited debugging and limited editor support.If you need logic in your configuration the "Pythonic" approach of coding the configuration in a real language is much much better.powerbasic (www.powerbasic.com) includes the compiler directive:this increases the size of the compiled executable by <bloatsize> bytes. this was put in the compiler in case people creating the executable don\'t like the small size of the generated executable. it makes the EXE seem bigger to compete with bloated programming languages:)