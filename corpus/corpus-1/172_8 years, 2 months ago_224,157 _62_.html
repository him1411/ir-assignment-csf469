When I make changes to a file in Git, how can I commit only some of the changes?For example, how could I commit only 15 lines out of 30 lines that have been changed in a file?You can use git add --patch <filename> (or -p for short), and git will begin to break down your file into what it thinks are sensible "hunks" (portions of the file). It will then prompt you with this question:Here is a description of each option:If the file is not in the repository yet, you can first do git add -N <filename>. Afterwards you can go on with git add -p <filename>.Afterwards, you can use:\ngit diff --staged to check that you staged correct changes\ngit reset -p to unstage mistakenly added hunks\ngit commit -v to view your commit while you edit the commit message.Note this is far different than the git format-patch command, which purpose is to parse commit data into a .patch files.Reference for future: https://git-scm.com/book/en/v2/Git-Tools-Interactive-StagingYou can use git add --interactive or git add -p <file>, and then git commit (not git commit -a); see Interactive mode in git-add manpage, or simply follow instructions.Modern Git has also git commit --interactive (and git commit --patch, which is shortcut to patch option in interactive commit).If you prefer doing it from GUI, you can use git-gui. You can simply mark chunks which you want to have included in commit.  I personally find it easier than using git add -i.  Other git GUIs, like QGit or GitX, might also have this functionality as well.git gui provides this functionality under the diff view. Just right click the line(s) you\'re interested in and you should see a "stage this line to commit" menu item.I believe that git add -e myfile is the easiest way (my preference at least) since it simply opens a text editor and lets you choose which line you want to stage and which line you don\'t.\nRegarding editing commands:added content:Added content is represented by lines beginning with "+". You can prevent staging any addition lines by deleting them.removed content:Removed content is represented by lines beginning with "-". You can prevent staging their removal by converting the "-" to a " " (space).modified content:Modified content is represented by "-" lines (removing the old content) followed by "+" lines (adding the replacement content). You can prevent staging the modification by converting "-" lines to " ", and removing "+"\n             lines. Beware that modifying only half of the pair is likely to introduce confusing changes to the index.Every details about git add are available on git --help add If you are using vim, you may want to try the excellent plugin called fugitive.You can see the diff of a file between working copy and index with :Gdiff, and then add lines or hunks to the index using classic vim diff commands like dp. Save the modifications in the index and commit with :Gcommit, and you\'re done.Very good introductory screencasts here (see esp. part 2).I would strongly recommend using SourceTree from Atlassian. (It\'s free.) It makes this trivial. You can stage individual hunks of code or individual lines of code quickly and easily.When I have a lot of changes, and will end up creating a few commits from the changes, then I want to save my starting point temporarily before staging things.Like this:Whymarrh\'s answer is what I usually do, except sometimes there are lots of changes and I can tell I might make a mistake while staging things, and I want a committed state I can fall back on for a second pass.Worth noting that to use git add --patch for a new file you need to first add the file to index with git add --intent-to-add:Should you use emacs, take a look at Magit, which provides a git interface for emacs. It supports staging hunks (parts of files) quite well.Much like jdsumsion\'s answer you can also stash your current work but then use a difftool like meld to pull selected changes from the stash. That way you can even edit the hunks manually very easy, which is a bit of a pain when in git add -p:Using the stash method gives you the opportunity to test, if your code still works, before you commit it.vim-gitgutter plugin can stage hunks without leaving vim editor usingBeside this, it provides other cool features like a diff sign column as in some modern IDEsIf only part of hunk should be staged vim-fugitiveallows visual range selection then :\'<,\'>diffput or :\'<,\'>diffget to stage/revert individual line changes.For those who use Git Extensions:In the Commit window, select the file you want to partially commit, then select the text you want to commit in the right pane, then right-click on the selection and choose \'Stage selected lines\' from the context menu.Tried out git add -p filename.x, but on a mac, I found gitx (http://gitx.frim.nl/ or https://github.com/pieter/gitx) to be much easier to commit exactly the lines I wanted to.With TortoiseGit:right click on the file and use Context Menu \xe2\x86\x92 Restore after commit. This will create a copy of the file as it is. Then you can edit the file, e.g. in TortoiseGitMerge and undo all the changes you don\'t want to commit. After saving those changes you can commit the file.For emacs there is also gitsumgit-meld-index -- quoting from the website:git-meld-index runs meld -- or any other git difftool (kdiff3, diffuse, etc.) -- to allow you to interactively stage changes to the git index (also known as the git staging area).This is similar to the functionality of git add -p, and git add --interactive. In some cases meld is easier / quicker to use than git add -p. That\'s because meld allows you, for example, to:UsageIn a git repository, run:You\'ll see meld (or your configured git difftool) pop up with:LEFT: temporary directory contining files copied from your working treeRIGHT: temporary directory with the contents of the index. This also includes files that are not yet in the index but are modified or untracked in the working copy -- in this case you\'ll see the file contents from HEAD.Edit the index (right hand side) until happy. Remember to save when needed.When you\'re done, close meld, and git-meld-index will update the index to match the contents of the temporary directory on the right hand side of meld that you just edited.As one answer above shows, you can use \n\ngit add --patch filename.txt\nor the short-form \n\ngit add -p filename.txt\n... but for files already in you repository, there is, in s are much better off using --patch flag on the commit command directly (if you are using a recent enough version of git): \n\ngit commit --patch filename.txt\n ... or, again, the short-form \n\ngit commit -p filename.txt\n... and then using the mentioned keys, (y/n etc), for choosing lines to be included in the commit.If it\'s on Windows platform, in my opinion git gui is the best tool to stage/commit few lines from unstaged file1. Hunk wise:2. Line wise:3. If you want to stage the complete file except couple of lines:git-cola is a great GUI and also has this feature built-in. Just select the lines to stage and press S. If no selection is made, the complete hunk is staged.