How can I get the client IP address using PHP?I want to keep record of the user who logged into my website through his/her IP address.Whatever you do, make sure not to trust data sent from the client. $_SERVER[\'REMOTE_ADDR\'] contains the real IP address of the connecting party. That is the most reliable value you can find. However, they can be behind a proxy server in which case the proxy may have set the $_SERVER[\'HTTP_X_FORWARDED_FOR\'], but this value is easily spoofed. For example, it can be set by someone without a proxy, or the IP can be an internal IP from the LAN behind the proxy.This means that if you are going to save the $_SERVER[\'HTTP_X_FORWARDED_FOR\'], make sure you also save the $_SERVER[\'REMOTE_ADDR\'] value. E.g. by saving both values in different fields in your database.If you are going to save the IP to a database as a string, make sure you have space for at least 45 characters. IPv6 is here to stay and those addresses are larger than the older IPv4 addresses.(Note that IPv6 usually uses 39 characters at most but there is also a special IPv6 notation for IPv4 addresses which in its full form can be up to 45 characters. So if you know what you are doing you can use 39 characters, but if you just want to set and forget it, use 45).$_SERVER[\'REMOTE_ADDR\'] may not actually contain real client IP addresses, as it will give you a proxy address for clients connected through a proxy, for example.  That may\nwell be what you really want, though, depending what your doing with the IPs.  Someone\'s private RFC1918 address may not do you any good if you\'re say, trying to see where your traffic is originating from, or remembering what IP the user last connected from, where the public IP of the proxy or NAT gateway might be the more appropriate to store.There are several HTTP headers like X-Forwarded-For which may or may not be set by various proxies. The problem is that those are merely HTTP headers which can be set by anyone. There\'s no guarantee about their content. $_SERVER[\'REMOTE_ADDR\'] is the actual physical IP address that the web server received the connection from and that the response will be sent to. Anything else is just arbitrary and voluntary information. There\'s only one scenario in which you can trust this information: you are controlling the proxy that sets this header. Meaning only if you know 100% where and how the header was set should you heed it for anything of importance.Having said that, here\'s some sample code:Editor\'s note: Using the above code has security implications. The client can set all HTTP header information (ie. $_SERVER[\'HTTP_...) to any arbitrary value it wants. As such it\'s far more reliable to use $_SERVER[\'REMOTE_ADDR\'], as this cannot be set by the user.From: http://roshanbh.com.np/2007/12/getting-real-ip-address-in-php.htmlhttp://php.net/manual/en/reserved.variables.server.phpIt should be contained in the $_SERVER[\'REMOTE_ADDR\'] variable.Here is a cleaner code sample of  a good way to get the ip of the user.Here is a shorter version that uses the elvis operatorMy favourite solution is the way Zend Framework 2 uses. It also considers the $_SERVER properties HTTP_X_FORWARDED_FOR, HTTP_CLIENT_IP, REMOTE_ADDR but it declares a class for it to set some trusted proxies and it returns one IP address not an array. I think this is the solution that comes closest to it:See the full code here:\nhttps://raw.githubusercontent.com/zendframework/zend-http/master/src/PhpEnvironment/RemoteAddress.phpThis is the most advanced method I have found, already tried some others in the past. Valid to ensure to get the IP address of visitor (but please note that any hacker could falsify ip address easily).source:  http://blackbe.lt/advanced-method-to-obtain-the-client-ip-in-php/The answer is to use $_SERVER variable. For example, $_SERVER["REMOTE_ADDR"] would return the client\'s IP address.There are different type of users behind the Internet, So we want to catch the IP address from different potions. That are,1. $_SERVER[\'REMOTE_ADDR\'] -\nThis contains the real IP address of the client. That is the most reliable value you can find from the user.2. $_SERVER[\'REMOTE_HOST\'] -\nThis will fetch the Host name from which the user is viewing the current page.\nBut for this script to work, Hostname Lookups On inside httpd.conf must be configured.3. $_SERVER[\'HTTP_CLIENT_IP\'] -\nThis will fetch the IP address when user is from Shared Internet services.4. $_SERVER[\'HTTP_X_FORWARDED_FOR\'] - This will fetch the IP address from the user when he is behind the proxySo we can use this following combined function to get the Real IP address from users who are viewing in diffrent positions,This is the method that I use, and it validates an IPv4 input:As I know\nThe simplest way to get the visitor\xe2\x80\x99s/client\xe2\x80\x99s IP address is using the $_SERVER[\'REMOTE_ADDR\'] or $_SERVER[\'REMOTE_HOST\'] variables.However, sometimes this does not return the correct IP address of the visitor, so we can use some other server variables to get the IP address.The below both functions are equivalent with the difference only in how and from where the values are retrieved.getenv() is used to get the value of an environment variable in PHP.$_SERVER is an array that contains server variables created by the web server.I like this codesnippet:try this oneWell, this can be simply done by using the GLOBAL variable named as $_SERVER.the $_SERVERis an array which has an attribute names REMOTE_ADDR.Just assign it like this\n$userIp = $_SERVER[\'REMOTE_ADDR\'];or use it directly like echo $_SERVER[\'REMOTE_ADDR\'];\nor echo ($_SERVER[\'REMOTE_ADDR\']);As all others said before you can use $_SERVER[\'REMOTE_ADDR\']; to get client IP address.Also, if you need more information about a user, you can use this:Client\'s more specific info goes in $clientDetails.\nYou can fetch json items stored in $clientDetails variable this way: $clientDetails->PostalCode/hostname/region/loc...I\'m using ipinfo.io to get extra info. I hope it helps.The following function determine all possibilities and return the value in comma separated (ip,ip, etc).It has also optional validation function as (first parameter that disabled by default) to validate the IP address against (Private range, and Reserved range).This function is compact and you can use it everywhere. But !Don\'t forget this ! In this type functions or code blocks not guarantee for record the User Real IP because some Users can use proxy or another securely gateways for be invisible or cannot trackingPhp Function :Usage :$IP = GetIP(); or directly GetIP();Like that????PSAll headers beginning with \'HTTP_\' or \'X-\' may be spoof respectively is user defined. If you want to keep track use cooies etc.Here\'s a simple one linerEDIT:Above code may return reserved addresses (like 10.0.0.1), a list of addresses of all proxy servers on the way, etc.\nTo handle these cases use the following code:Example: