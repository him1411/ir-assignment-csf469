Just looking at:\n(Source: https://xkcd.com/327/)What does this SQL do:I know both \' and -- are for comments, but doesn\'t the word DROP get commented as well since it is part of the same line?It drops the students table.The original code in the school\'s program probably looks something likeThis is the naive way to add text input into a query, and is very bad, as you will see.After the values from the first name, middle name textbox FNMName.Text (which is Robert\'); DROP TABLE STUDENTS; --) and the last name textbox LName.Text (let\'s call it Derper) are concatenated with the rest of the query, the result is now actually two queries separated by the statement terminator (semicolon).  The second query has been injected into the first.  When the code executes this query against the database, it will look like thiswhich, in plain English, roughly translates to the two queries:Add a new record to the Students table with a Name value of \'Robert\'andDelete the Students tableEverything past the second query is marked as a comment:  --\', \'Derper\')The \' in the student\'s name is not a comment, it\'s the closing string delimiter.  Since the student\'s name is a string, it\'s needed syntactically to complete the hypothetical query.  Injection attacks only work when the SQL query they inject results in valid SQL.Edited again as per dan04\'s astute commentLet\'s say the name was used in a variable, $Name.  You then run this query:What you get is:The -- only comments the remainder of the line.As everyone else has pointed out already, the \'); closes the original statement and then a second statement follows. Most frameworks, including languages like PHP, have default security settings by now that don\'t allow multiple statements in one SQL string. In PHP, for example, you can only run multiple statements in one SQL string by using the mysqli_multi_query function.You can, however, manipulate an existing SQL statement via SQL injection without having to add a second statement. Let\'s say you have a login system which checks a username and a password with this simple select:If you provide peter as the username and secret as the password, the resulting SQL string would look like this:Everything\'s fine. Now imagine you provide this string as the password:Then the resulting SQL string would be this:That would enable you to log in to any account without knowing the password. So you don\'t need to be able to use two statements in order to use SQL injection, although you can do more destructive things if you are able to supply multiple statements.No, \' isn\'t a comment in SQL, but a delimiter.Mom supposed the database programmer made a request looking like:(for example) to add the new student, where the $xxx variable contents was taken directly out of an HTML form, without checking format nor escaping special characters.So if $firstName contains Robert\'); DROP TABLE students; -- the database program will execute the following request directly on the DB: ie. it will terminate early the insert statement, execute whatever malicious code the cracker wants, then comment out whatever remainder of code there might be.Mmm, I am too slow, I see already 8 answers before mine in the orange band... :-) A popular topic, it seems.This drops the student table.  To make it clear what\'s happening, let\'s try this with a simple table containing only the name field and add a single row (tested with PostgreSQL 9.1.2):Let\'s assume the application uses the following SQL to insert data into the table:Replace foobar with the actual name of the student.  A normal insert operation would look like this:When we query the table, we get this:What happens when we insert Little Bobby Tables\'s name into the table?The SQL injection here is the result of the name of the student terminating the statement and including a separate DROP TABLE command; the two dashes at the end of the input are intended to comment out any leftover code that would otherwise cause an error.  The last line of the output confirms that the database server has dropped the table.It\'s important to notice that during the INSERT operation the application isn\'t checking the input for any special characters, and is therefore allowing arbitrary input to be entered into the SQL command.  This means that a malicious user can insert, into a field normally intended for user input, special symbols such as quotes along with arbitrary SQL code to cause the database system to execute it, hence SQLÂ "injection".The result?SQL injection is the database equivalent of a remote arbitrary code execution vulnerability in an operating system or application.  The potential impact of a successful SQL injection attack cannot be underestimated--depending on the database system and application configuration, it can be used by an attacker to cause data loss (as in this case), gain unauthorized access to data, or even execute arbitrary code on the host machine itself.As noted by the XKCD comic, one way of protecting against SQL injection attacks is to sanitize database inputs, such as by escaping special characters, so that they cannot modify the underlying SQL command and therefore cannot cause execution of arbitrary SQL code.  If you use parameterized queries, such as by using SqlParameter in ADO.NET, the input will automatically be sanitized for you.Say you naively wrote a student creation method like this:And someone enters the name Robert\'); DROP TABLE STUDENTS; --What gets run on the database is this query:The semicolon ends the insert command and starts another; the -- comments out the rest of the line. The DROP TABLE command is executed...This is why bind parameters are a good thing.A single quote is the start and end of a string. A semicolon is the end of a statement. So if they were doing a select like this:The SQL would become:On some systems, the select would get ran first followed by the drop statement! The message is: DONT EMBED VALUES INTO YOUR SQL. Instead use parameters!The \'); ends the query, it doesn\'t start a comment. Then it drops the students table and comments the rest of the query that was supposed to be executed.The writer of the database probably did a If student_name is the one given, that does the selection with the name "Robert" and then drops the table.  The "-- " part changes the rest of the given query into a comment.In this case, \' is not a comment character.  It\'s used to delimit string literals.  The comic artist is banking on the idea that the school in question has dynamic sql somewhere that looks something like this:So now the \' character ends the string literal before the programmer was expecting it.  Combined with the ; character to end the statement, an attacker can now add whatever sql they want.  The -- comment at the end is to make sure any remaining sql in the original statement does not prevent the query from compiling on the server.FWIW, I also think the comic in question has an important detail wrong: if you\'re thinking about sanitizing your database inputs, as the comic suggests, you\'re still doing it wrong. Instead, you should think in terms of quarantining your database inputs, and the correct way to do this is via parameterized queries.The \' character in SQL is used  for string constants. In this case it is used for ending the string constant and not for comment.This is how it works:\nLets suppose the administrator is looking for records of student  Since the admin account has high privileges deleting the table from this account is possible.The code to retrieve user name from request isNow the query would be something like this (to search the student table)The resultant query becomesSince the user input is not sanitized, The above query has is manipulated into 2 partsThe double dash (--) will just comment out remaining part of the query. This is dangerous as it can nullify password authentication, if presentThe first one will do the normal search. The second one will drop the table student if the account has sufficient privileges (Generally the school admin account will run such query and will have the privileges talked about above).