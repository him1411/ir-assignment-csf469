I\'m trying to connect to a Tor hidden service using the following PHP code:When I run it, I get the following error:Couldn\'t resolve host nameHowever, when I run the following command from my command line in Ubuntu:I get a response as expectedThe PHP cURL documentations says this:I believe the reason it works from the command line is because Tor (the proxy) is resolving the .onion hostname, which it recognizes. When running the PHP code above, my guess is that cURL or PHP is trying to resolve the .onion hostname and doesn\'t recognize it. I\'ve searched for a way to tell cURL/PHP to let the proxy resolve the hostname, but I can\'t find a way.There is a very similar Stack Overflow question, cURL request using socks5 proxy fails when using PHP, but it works through the command line.Looks like CURLPROXY_SOCKS5_HOSTNAME is not defined in PHP, but you can explicitly use its value, which is equal to 7:I use Privoxy and cURL to scrape Tor pages:After installing Privoxy you need to add this line to the configuration file (/etc/privoxy/config). Note the space and \'.\' a the end of line.Then restart Privoxy.Try to add this: