How would I use sed to delete the whole line in a text file that contains a specific string?To remove the line and print the output to standard out:To directly modify the file:To directly modify the file (and create a backup):For Mac OS X users:there are many other ways to delete lines with specific string besides sedawk Ruby(1.9+)PerlShell(bash3.2+)GNU grepand of course sed (printing the inverse is faster than actual deletion. )You can use sed to replace lines in place in a file. However, it seems to be much slower than using grep for the inverse into a second file and then moving the second file over the original.e.g.orThe first command takes 3 times longer on my machine anyway.The easy way to do it:You may consider using ex (which a standard UNIX command-based editor):where:Above example is POSIX-compliant method for in-place editing a file as per this post at Unix.SE and POSIX specifications for ex.The difference with sed is that:sed is a Stream EDitor, not a file editor.BashFAQunless you enjoy unportable code, I/O overhead and some other bad side effects. So basically some parameters (such as in-place/-i) are non-standard FreeBSD extensions and may not be available on other operating systems.I was struggling with this on Mac. Plus, I needed to do it using variable replacement.\nSo I used:sed -i \'\' "/$pattern/d" $filewhere $file is file where deletion is needed and $pattern is the pattern to be matched for deletion.\nPicked the \'\' from this comment.\nThe thing to note here is use of double quotes in "/$pattern/d". Variable won\'t work when we use single quote.To get a inplace like result with grep you can do this:You can use this alsohere -v will print only other than your pattern(that means Invert match)I have made a small benchmark with a file which contains approximately 345 000 lines. The way with grep seems to be around 15 times faster than the sed method in this case.I have tried both with and without the setting LC_ALL=C, it does not seem change the timings significantly. The search string (CDGA_00004.pdbqt.gz.tar) is somewhere in the middle of the file.Here are the commands and the timings:SED:AWK:GREP:echo -e "/thing_to_delete\\ndd\\033:x\\n" | vim file_to_edit.txt\nJust in case someone wants to do it for exact matches of strings, you can use -w flag in grep, w for whole. That is, for example if you want to delete the lines that have number 11 but keep the lines with number 111:Also works with -f flag if you want to exclude several exact patterns at once. If "blacklist" is a file with several patterns on each line that you want to delete from "file":