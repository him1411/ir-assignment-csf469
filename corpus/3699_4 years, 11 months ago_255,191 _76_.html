I\'ve installed JDK 7u7 downloaded from oracle\'s website. But after installation, the terminal is still showing java version 6any idea why java 7 is not showing up?Ans:\nOK, the problem has been resolved. Here is the answer:\nI found that my Terminal has a .bash_profile and the java home variable is set to 1.6So this is the line causing the problem every time I opened a new terminal window.\nSimply remove this line will solve the problem. You still need to follow what @aleroot said, but if that doesn\'t work for you, check the .bash_profile (or .bashrc) setting file to see if you\'ve previously exported any java version.Because you need to enter in Java Preferences pane and flag only the JVM 7 in this way : To easily and quickly open the Java Preferences pane in Mac OS X you can simply call spotlight with \xe2\x8c\x98+SPACE and type System Preferences it will show up in the last row of the window.Oracle\'s installer puts java inside the /Library/Internet Plug-Ins/JavaAppletPlugin.plugin. And it doesn\'t overwrite /usr/bin/java. So, if you issue ain the terminal, it\'ll return /usr/bin/java. (which in turn points to /System/Library/Frameworks/JavaVM.framework/Versions/A/Commands/java, which is Apple\'s 1.6 version).So, if you want to use the new java version, replace the /usr/bin/java symlink so that it points to /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java instead:Install the JDK 7 and this problem will solve itself. Be sure to get the Java Development Kit (JDK) which includes compilers and stuff like that, rather than just the Java Runtime Environment (JRE) .vi ~/.bash_profileadd export  JAVA_HOME=`/usr/libexec/java_home -v 1.7`This tells your /usr/bin/java link target to use the latest Java 7 Package installed in /Library/Java/JavaVirtualMachines/So for JDK 1.7.0_17 JAVA_HOME would be:/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/HomeNote: There were a lot of change in this area recently to move Mac OS X from Appels own System integrated Java packages to Oracle based Java Packages. The above solution is working fine as of Mac OS X 10.8.2 In my case, the issue was that Oracle was installing it to a different location than I was used to.Download from Oracle: http://java.com/en/download/mac_download.jsp?locale=enVerify that it\'s installed properly by looking in System Prefs:Verify that the version is as you expect (sub in your path as needed):/Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java -versionCreate link from /usr/bin/java to your new installsudo ln -fs /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/bin/javaSanity check your version:java -versionI had run into a similar issue with terminal not updating the java version to match the version installed on the mac.There was no issue with the JAVA_HOME environmental variable being set I have come up with a temporary and somewhat painful but working solution.In you .bash_profile add the line:(This is the path on my machine but may be different on yours, make sure to get yours. The paths should match up to /Library/Java/JavaVirtualMachines/)the run source ~/.bash_profileAs I mentioned this is a temporary band-aid solution because the java home path is being hard-coded. There is really no way to set the path to get the latest as that is what Apple is supposedly doing for terminal already and the issue is that Apple\'s java_home environment variable is not getting updated.Since El Capitan, it is difficult to delete the /usr/bin/java symlink, because of the introduction of the new "rootless" policy.Therefore, I simply added the path to the latest java version (in my case this is /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin) to the PATH in my .bashrc file:To reload your .bashrc file for the current session, run source ~/.bashrc in the shell. You only have to do this for sessions that had been started before changing the .bashrc file.Now the latest version is used, when you use java in the shell.The basic issue: /usr/bin/java is pointing to one provided by OSX itself initially (/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java)\nWe need to point this to the one downloaded by the JDK installer. The below steps are for OSX 10.10.4 Yosemite.sudo ln -s /Library/Internet\\ Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java /usr/bin/javaThats it. To verify, you can just run\njava -version\non the terminal. It should output the latest version that you installed/updated to.I did and that fixed my Java 8 issue.before:after:For me the easiest and cleanest way to go is to install Java using homebrew like described here:https://stackoverflow.com/a/28635465http://www.java.com/en/download/faq/java_mac.xml is a nice place to understand, while Apple is stopping support to Java, why Java Preferences doesn\'t exist anymore and rely on System_Preferences => Java => Java if Java 7 from Oracle is installed.May I suggest you to have a look at the tool JenvThis will allow you to switch at any time between your installed JVMs.Simply as:then later for test purpose:And you have much more commands available.Hard-coding the JAVA_HOME path might not be the best idea. The /usr/libexec/java_home utility sill works for me on Mac OSX Lion 10.7.5 and JDK 1.7.0_13. According to its man page, it is meant to be used with Apple\'s old Java Preferences pane, but it appears to be working with the replacement provided by Oracle (Java Control Panel). For example running /usr/libexec/java_home -V lists all installed JDKs (both 1.6.* and 1.7.*) on my machine.So, as discussed in other threads (e.g. What should I set JAVA_HOME to on OSX), I would still recommend adding the following line to your .bash_profile:This is nuts! How does Oracle provide an installer that doesn\'t install anything!?Anyways for me it was:where 1.8.0_31 is your installed java version...I think you can try to install jdk not jre. By installing jdk, the java in /usr/bin/java will be replaced, and all library will work fine.You can execute following command in your terminal :And this replaces the java old with new one.You can run this command to find the version of Java that\'s under /Library/Internet Plugins/:Since i have not faced this issue , I am taking a hunch -- Can you please try this : Where does the soft link "java_home" point to : Output : (Stunted)\n    lrwxr-xr-x java_home ->      /System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java_home**ls -lrt /System/Library/Frameworks/JavaVM.framework/Versions\n    My MAC Produces the following : Based on this , we might get a hint to proceed further ?It is happening because your .bash_profile is not reflecting changes.To reflect it, just use the following command$ source .bash_profilei resolved this issue by re installing Yosemite and then cross check java version on terminal (java -version) and (javac -version) .It work perfectly now.It is not changing to java 7 as version 6 still present on (command + n) libray>java>javavirtualmachine>your javac current version.you need to address to java home .I resolved this issue with\nsudo rm /usr/bin/javaAnd I downloaded and installed the last Java SE Runtime Environment:\nhttp://www.oracle.com/technetwork/java/javase/downloads/index.htmlsudo ln -s /Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home/jre/bin/java /usr/bin/java did not work for me because I got Operation not permitted. El Capitan now protects certain system directories in "rootless" mode (a.k.a. System Integrity Protection). It is applicable to macOS Sierra, and probably new macOS versions for the foreseeable future.